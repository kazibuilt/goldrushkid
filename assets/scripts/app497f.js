(()=>{var Xh=Object.create;var Xi=Object.defineProperty;var Kh=Object.getOwnPropertyDescriptor;var Zh=Object.getOwnPropertyNames,Na=Object.getOwnPropertySymbols,Jh=Object.getPrototypeOf,$a=Object.prototype.hasOwnProperty,Qh=Object.prototype.propertyIsEnumerable;var dt=Math.pow,ys=(e,t,i)=>t in e?Xi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Ki=(e,t)=>{for(var i in t||(t={}))$a.call(t,i)&&ys(e,i,t[i]);if(Na)for(var i of Na(t))Qh.call(t,i)&&ys(e,i,t[i]);return e};var ef=(e,t)=>()=>(e&&(t=e(e=0)),t);var ri=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ga=(e,t)=>{for(var i in t)Xi(e,i,{get:t[i],enumerable:!0})},tf=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zh(t))!$a.call(e,s)&&s!==i&&Xi(e,s,{get:()=>t[s],enumerable:!(r=Kh(t,s))||r.enumerable});return e};var Dt=(e,t,i)=>(i=e!=null?Xh(Jh(e)):{},tf(t||!e||!e.__esModule?Xi(i,"default",{value:e,enumerable:!0}):i,e));var si=(e,t,i)=>(ys(e,typeof t!="symbol"?t+"":t,i),i);var De=(e,t,i)=>new Promise((r,s)=>{var n=l=>{try{o(i.next(l))}catch(h){s(h)}},a=l=>{try{o(i.throw(l))}catch(h){s(h)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(n,a);o((i=i.apply(e,t)).next())});var Za=ri((Ka,Qi)=>{(function(e,t){typeof define=="function"&&define.amd?define([],function(){return e.svg4everybody=t()}):typeof Qi=="object"&&Qi.exports?Qi.exports=t():e.svg4everybody=t()})(Ka,function(){function e(s,n,a){if(a){var o=document.createDocumentFragment(),l=!n.hasAttribute("viewBox")&&a.getAttribute("viewBox");l&&n.setAttribute("viewBox",l);for(var h=a.cloneNode(!0);h.childNodes.length;)o.appendChild(h.firstChild);s.appendChild(o)}}function t(s){s.onreadystatechange=function(){if(s.readyState===4){var n=s._cachedDocument;n||(n=s._cachedDocument=document.implementation.createHTMLDocument(""),n.body.innerHTML=s.responseText,s._cachedTarget={}),s._embeds.splice(0).map(function(a){var o=s._cachedTarget[a.id];o||(o=s._cachedTarget[a.id]=n.getElementById(a.id)),e(a.parent,a.svg,o)})}},s.onreadystatechange()}function i(s){function n(){for(var c=0;c<p.length;){var _=p[c],y=_.parentNode,b=r(y),E=_.getAttribute("xlink:href")||_.getAttribute("href");if(!E&&o.attributeName&&(E=_.getAttribute(o.attributeName)),b&&E){if(a)if(!o.validate||o.validate(E,b,_)){y.removeChild(_);var w=E.split("#"),A=w.shift(),P=w.join("#");if(A.length){var L=d[A];L||(L=d[A]=new XMLHttpRequest,L.open("GET",A),L.send(),L._embeds=[]),L._embeds.push({parent:y,svg:b,id:P}),t(L)}else e(y,b,document.getElementById(P))}else++c,++x}else++c}(!p.length||p.length-x>0)&&g(n,67)}var a,o=Object(s),l=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,h=/\bAppleWebKit\/(\d+)\b/,f=/\bEdge\/12\.(\d+)\b/,m=/\bEdge\/.(\d+)\b/,u=window.top!==window.self;a="polyfill"in o?o.polyfill:l.test(navigator.userAgent)||(navigator.userAgent.match(f)||[])[1]<10547||(navigator.userAgent.match(h)||[])[1]<537||m.test(navigator.userAgent)&&u;var d={},g=window.requestAnimationFrame||setTimeout,p=document.getElementsByTagName("use"),x=0;a&&n()}function r(s){for(var n=s;n.nodeName.toLowerCase()!=="svg"&&(n=n.parentNode););return n}return i})});var so={};Ga(so,{gridHelper:()=>bf});function bf({gutterCssVar:e=vf,marginCssVar:t=yf,rgbaColor:i=_f}={}){let r=document.createElement("div");document.body.append(r),ro(r,i),Sf(r,e,t),xf(r,i)}function Sf(e,t,i){let r=e.style;r.zIndex="10000",r.position="fixed",r.top="0",r.left="0",r.display="flex",r.width="100%",r.height="100%",r.columnGap=`var(${t}, 0)`,r.paddingLeft=`var(${i}, 0)`,r.paddingRight=`var(${i}, 0)`,r.pointerEvents="none",r.visibility="hidden"}function ro(e,t){e.innerHTML="";let i=Number(window.getComputedStyle(e).getPropertyValue("--grid-columns")),r;for(var s=0;s<i;s++)r=document.createElement("div"),r.style.flex="1 1 0",r.style.backgroundColor=t,e.appendChild(r)}function xf(e,t){window.addEventListener("resize",ro(e,t));let i=!1,r=!1;document.addEventListener("keydown",s=>{s.key=="Control"?i=!0:i&&s.key=="g"&&(r?e.style.visibility="hidden":e.style.visibility="visible",r=!r)}),document.addEventListener("keyup",s=>{s.key=="Control"&&(i=!1)})}var vf,yf,_f,no=ef(()=>{vf="--grid-gutter",yf="--grid-margin",_f="rgba(255, 0, 0, .1)"});var is=ri((Jb,Eh)=>{var uc=4,dc=.001,cc=1e-7,pc=10,qi=11,es=1/(qi-1),mc=typeof Float32Array=="function";function _h(e,t){return 1-3*t+3*e}function bh(e,t){return 3*t-6*e}function Sh(e){return 3*e}function ts(e,t,i){return((_h(t,i)*e+bh(t,i))*e+Sh(t))*e}function xh(e,t,i){return 3*_h(t,i)*e*e+2*bh(t,i)*e+Sh(t)}function gc(e,t,i,r,s){var n,a,o=0;do a=t+(i-t)/2,n=ts(a,r,s)-e,n>0?i=a:t=a;while(Math.abs(n)>cc&&++o<pc);return a}function vc(e,t,i,r){for(var s=0;s<uc;++s){var n=xh(t,i,r);if(n===0)return t;var a=ts(t,i,r)-e;t-=a/n}return t}function yc(e){return e}Eh.exports=function(t,i,r,s){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===i&&r===s)return yc;for(var n=mc?new Float32Array(qi):new Array(qi),a=0;a<qi;++a)n[a]=ts(a*es,t,r);function o(l){for(var h=0,f=1,m=qi-1;f!==m&&n[f]<=l;++f)h+=es;--f;var u=(l-n[f])/(n[f+1]-n[f]),d=h+u*es,g=xh(d,t,r);return g>=dc?vc(l,d,t,r):g===0?d:gc(l,h,h+es,t,r)}return function(h){return h===0?0:h===1?1:ts(o(h),i,s)}}});var Fh=ri((ji,hs)=>{(function(e,t){"use strict";var i="1.0.35",r="",s="?",n="function",a="undefined",o="object",l="string",h="major",f="model",m="name",u="type",d="vendor",g="version",p="architecture",x="console",c="mobile",_="tablet",y="smarttv",b="wearable",E="embedded",w=350,A="Amazon",P="Apple",L="ASUS",O="BlackBerry",F="Browser",k="Chrome",B="Edge",V="Firefox",z="Google",D="Huawei",I="LG",T="Microsoft",C="Motorola",R="Opera",M="Samsung",U="Sharp",$="Sony",G="Viera",W="Xiaomi",q="Zebra",X="Facebook",re="Chromium OS",oe="Mac OS",pe=function(J,ee){var K={};for(var ae in J)ee[ae]&&ee[ae].length%2===0?K[ae]=ee[ae].concat(J[ae]):K[ae]=J[ae];return K},ce=function(J){for(var ee={},K=0;K<J.length;K++)ee[J[K].toUpperCase()]=J[K];return ee},we=function(J,ee){return typeof J===l?ie(ee).indexOf(ie(J))!==-1:!1},ie=function(J){return J.toLowerCase()},j=function(J){return typeof J===l?J.replace(/[^\d\.]/g,r).split(".")[0]:t},qe=function(J,ee){if(typeof J===l)return J=J.replace(/^\s\s*/,r),typeof ee===a?J:J.substring(0,w)},Ne=function(J,ee){for(var K=0,ae,Ke,ze,se,Q,ut;K<ee.length&&!Q;){var vs=ee[K],Va=ee[K+1];for(ae=Ke=0;ae<vs.length&&!Q&&vs[ae];)if(Q=vs[ae++].exec(J),Q)for(ze=0;ze<Va.length;ze++)ut=Q[++Ke],se=Va[ze],typeof se===o&&se.length>0?se.length===2?typeof se[1]==n?this[se[0]]=se[1].call(this,ut):this[se[0]]=se[1]:se.length===3?typeof se[1]===n&&!(se[1].exec&&se[1].test)?this[se[0]]=ut?se[1].call(this,ut,se[2]):t:this[se[0]]=ut?ut.replace(se[1],se[2]):t:se.length===4&&(this[se[0]]=ut?se[3].call(this,ut.replace(se[1],se[2])):t):this[se]=ut||t;K+=2}},je=function(J,ee){for(var K in ee)if(typeof ee[K]===o&&ee[K].length>0){for(var ae=0;ae<ee[K].length;ae++)if(we(ee[K][ae],J))return K===s?t:K}else if(we(ee[K],J))return K===s?t:K;return J},et={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},tt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},it={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,g],[/opios[\/ ]+([\w\.]+)/i],[g,[m,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[m,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[m,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+F],g],[/\bfocus\/([\w\.]+)/i],[g,[m,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[m,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[m,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[m,"MIUI "+F]],[/fxios\/([-\w\.]+)/i],[g,[m,V]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+F]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+F],g],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,X],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[m,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,k+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[m,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[g,je,et]],[/(webkit|khtml)\/([\w\.]+)/i],[m,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[m,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,g],[/(cobalt)\/([\w\.]+)/i],[m,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,ie]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,r,ie]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,ie]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[d,M],[u,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[d,M],[u,c]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[d,P],[u,c]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[d,P],[u,_]],[/(macintosh);/i],[f,[d,P]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[d,U],[u,c]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[d,D],[u,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[d,D],[u,c]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[d,W],[u,c]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[d,W],[u,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[d,"OPPO"],[u,c]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[d,"Vivo"],[u,c]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[d,"Realme"],[u,c]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[d,C],[u,c]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[d,C],[u,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[d,I],[u,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[d,I],[u,c]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[d,"Lenovo"],[u,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[d,"Nokia"],[u,c]],[/(pixel c)\b/i],[f,[d,z],[u,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[d,z],[u,c]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[d,$],[u,c]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[d,$],[u,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[d,"OnePlus"],[u,c]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[d,A],[u,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[d,A],[u,c]],[/(playbook);[-\w\),; ]+(rim)/i],[f,d,[u,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[d,O],[u,c]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[d,L],[u,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[d,L],[u,c]],[/(nexus 9)/i],[f,[d,"HTC"],[u,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[f,/_/g," "],[u,c]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[d,"Acer"],[u,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[d,"Meizu"],[u,c]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,f,[u,c]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,f,[u,_]],[/(surface duo)/i],[f,[d,T],[u,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[d,"Fairphone"],[u,c]],[/(u304aa)/i],[f,[d,"AT&T"],[u,c]],[/\bsie-(\w*)/i],[f,[d,"Siemens"],[u,c]],[/\b(rct\w+) b/i],[f,[d,"RCA"],[u,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[d,"Dell"],[u,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[d,"Verizon"],[u,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[d,"Barnes & Noble"],[u,_]],[/\b(tm\d{3}\w+) b/i],[f,[d,"NuVision"],[u,_]],[/\b(k88) b/i],[f,[d,"ZTE"],[u,_]],[/\b(nx\d{3}j) b/i],[f,[d,"ZTE"],[u,c]],[/\b(gen\d{3}) b.+49h/i],[f,[d,"Swiss"],[u,c]],[/\b(zur\d{3}) b/i],[f,[d,"Swiss"],[u,_]],[/\b((zeki)?tb.*\b) b/i],[f,[d,"Zeki"],[u,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],f,[u,_]],[/\b(ns-?\w{0,9}) b/i],[f,[d,"Insignia"],[u,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[d,"NextBook"],[u,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],f,[u,c]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],f,[u,c]],[/\b(ph-1) /i],[f,[d,"Essential"],[u,c]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[d,"Envizen"],[u,_]],[/\b(trio[-\w\. ]+) b/i],[f,[d,"MachSpeed"],[u,_]],[/\btu_(1491) b/i],[f,[d,"Rotor"],[u,_]],[/(shield[\w ]+) b/i],[f,[d,"Nvidia"],[u,_]],[/(sprint) (\w+)/i],[d,f,[u,c]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[d,T],[u,c]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[d,q],[u,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[d,q],[u,c]],[/smart-tv.+(samsung)/i],[d,[u,y]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[d,M],[u,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,I],[u,y]],[/(apple) ?tv/i],[d,[f,P+" TV"],[u,y]],[/crkey/i],[[f,k+"cast"],[d,z],[u,y]],[/droid.+aft(\w)( bui|\))/i],[f,[d,A],[u,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[d,U],[u,y]],[/(bravia[\w ]+)( bui|\))/i],[f,[d,$],[u,y]],[/(mitv-\w{5}) bui/i],[f,[d,W],[u,y]],[/Hbbtv.*(technisat) (.*);/i],[d,f,[u,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,qe],[f,qe],[u,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,f,[u,x]],[/droid.+; (shield) bui/i],[f,[d,"Nvidia"],[u,x]],[/(playstation [345portablevi]+)/i],[f,[d,$],[u,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[d,T],[u,x]],[/((pebble))app/i],[d,f,[u,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[d,P],[u,b]],[/droid.+; (glass) \d/i],[f,[d,z],[u,b]],[/droid.+; (wt63?0{2,3})\)/i],[f,[d,q],[u,b]],[/(quest( 2| pro)?)/i],[f,[d,X],[u,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[u,E]],[/(aeobc)\b/i],[f,[d,A],[u,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[u,c]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[u,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,c]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[m,B+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[g,je,tt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[g,je,tt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,oe],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,g],[/\(bb(10);/i],[g,[m,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[m,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[m,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,re],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,g],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,g]]},le=function(J,ee){if(typeof J===o&&(ee=J,J=t),!(this instanceof le))return new le(J,ee).getResult();var K=typeof e!==a&&e.navigator?e.navigator:t,ae=J||(K&&K.userAgent?K.userAgent:r),Ke=K&&K.userAgentData?K.userAgentData:t,ze=ee?pe(it,ee):it,se=K&&K.userAgent==ae;return this.getBrowser=function(){var Q={};return Q[m]=t,Q[g]=t,Ne.call(Q,ae,ze.browser),Q[h]=j(Q[g]),se&&K&&K.brave&&typeof K.brave.isBrave==n&&(Q[m]="Brave"),Q},this.getCPU=function(){var Q={};return Q[p]=t,Ne.call(Q,ae,ze.cpu),Q},this.getDevice=function(){var Q={};return Q[d]=t,Q[f]=t,Q[u]=t,Ne.call(Q,ae,ze.device),se&&!Q[u]&&Ke&&Ke.mobile&&(Q[u]=c),se&&Q[f]=="Macintosh"&&K&&typeof K.standalone!==a&&K.maxTouchPoints&&K.maxTouchPoints>2&&(Q[f]="iPad",Q[u]=_),Q},this.getEngine=function(){var Q={};return Q[m]=t,Q[g]=t,Ne.call(Q,ae,ze.engine),Q},this.getOS=function(){var Q={};return Q[m]=t,Q[g]=t,Ne.call(Q,ae,ze.os),se&&!Q[m]&&Ke&&Ke.platform!="Unknown"&&(Q[m]=Ke.platform.replace(/chrome os/i,re).replace(/macos/i,oe)),Q},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ae},this.setUA=function(Q){return ae=typeof Q===l&&Q.length>w?qe(Q,w):Q,this},this.setUA(ae),this};le.VERSION=i,le.BROWSER=ce([m,g,h]),le.CPU=ce([p]),le.DEVICE=ce([f,d,u,x,c,y,_,b,E]),le.ENGINE=le.OS=ce([m,g]),typeof ji!==a?(typeof hs!==a&&hs.exports&&(ji=hs.exports=le),ji.UAParser=le):typeof define===n&&define.amd?define(function(){return le}):typeof e!==a&&(e.UAParser=le);var Re=typeof e!==a&&(e.jQuery||e.Zepto);if(Re&&!Re.ua){var Xe=new le;Re.ua=Xe.getResult(),Re.ua.get=function(){return Xe.getUA()},Re.ua.set=function(J){Xe.setUA(J);var ee=Xe.getResult();for(var K in ee)Re.ua[K]=ee[K]}}})(typeof window=="object"?window:ji)});var Lh=ri(Ee=>{var H=function(){var e=new Date,t=4,i=3,r=2,s=1,n=t,a={setLogLevel:function(o){o==this.debug?n=s:o==this.info?n=r:o==this.warn?n=i:(o==this.error,n=t)},debug:function(o,l){console.debug===void 0&&(console.debug=console.log),s>=n&&console.debug("["+H.getDurationString(new Date-e,1e3)+"]","["+o+"]",l)},log:function(o,l){this.debug(o.msg)},info:function(o,l){r>=n&&console.info("["+H.getDurationString(new Date-e,1e3)+"]","["+o+"]",l)},warn:function(o,l){i>=n&&console.warn("["+H.getDurationString(new Date-e,1e3)+"]","["+o+"]",l)},error:function(o,l){t>=n&&console.error("["+H.getDurationString(new Date-e,1e3)+"]","["+o+"]",l)}};return a}();H.getDurationString=function(e,t){var i;function r(h,f){for(var m=""+h,u=m.split(".");u[0].length<f;)u[0]="0"+u[0];return u.join(".")}e<0?(i=!0,e=-e):i=!1;var s=t||1,n=e/s,a=Math.floor(n/3600);n-=a*3600;var o=Math.floor(n/60);n-=o*60;var l=n*1e3;return n=Math.floor(n),l-=n*1e3,l=Math.floor(l),(i?"-":"")+a+":"+r(o,2)+":"+r(n,2)+"."+r(l,3)};H.printRanges=function(e){var t=e.length;if(t>0){for(var i="",r=0;r<t;r++)r>0&&(i+=","),i+="["+H.getDurationString(e.start(r))+","+H.getDurationString(e.end(r))+"]";return i}else return"(empty)"};typeof Ee!="undefined"&&(Ee.Log=H);var he=function(e){if(e instanceof ArrayBuffer)this.buffer=e,this.dataview=new DataView(e);else throw"Needs an array buffer";this.position=0};he.prototype.getPosition=function(){return this.position};he.prototype.getEndPosition=function(){return this.buffer.byteLength};he.prototype.getLength=function(){return this.buffer.byteLength};he.prototype.seek=function(e){var t=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(t)||!isFinite(t)?0:t,!0};he.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()};he.prototype.readAnyInt=function(e,t){var i=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:t?i=this.dataview.getInt8(this.position):i=this.dataview.getUint8(this.position);break;case 2:t?i=this.dataview.getInt16(this.position):i=this.dataview.getUint16(this.position);break;case 3:if(t)throw"No method for reading signed 24 bits values";i=this.dataview.getUint8(this.position)<<16,i|=this.dataview.getUint8(this.position+1)<<8,i|=this.dataview.getUint8(this.position+2);break;case 4:t?i=this.dataview.getInt32(this.position):i=this.dataview.getUint32(this.position);break;case 8:if(t)throw"No method for reading signed 64 bits values";i=this.dataview.getUint32(this.position)<<32,i|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+e}return this.position+=e,i}else throw"Not enough bytes in buffer"};he.prototype.readUint8=function(){return this.readAnyInt(1,!1)};he.prototype.readUint16=function(){return this.readAnyInt(2,!1)};he.prototype.readUint24=function(){return this.readAnyInt(3,!1)};he.prototype.readUint32=function(){return this.readAnyInt(4,!1)};he.prototype.readUint64=function(){return this.readAnyInt(8,!1)};he.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(this.readUint8());return t}else throw"Not enough bytes in buffer"};he.prototype.readCString=function(){for(var e=[];;){var t=this.readUint8();if(t!==0)e.push(t);else break}return String.fromCharCode.apply(null,e)};he.prototype.readInt8=function(){return this.readAnyInt(1,!0)};he.prototype.readInt16=function(){return this.readAnyInt(2,!0)};he.prototype.readInt32=function(){return this.readAnyInt(4,!0)};he.prototype.readInt64=function(){return this.readAnyInt(8,!1)};he.prototype.readUint8Array=function(e){for(var t=new Uint8Array(e),i=0;i<e;i++)t[i]=this.readUint8();return t};he.prototype.readInt16Array=function(e){for(var t=new Int16Array(e),i=0;i<e;i++)t[i]=this.readInt16();return t};he.prototype.readUint16Array=function(e){for(var t=new Int16Array(e),i=0;i<e;i++)t[i]=this.readUint16();return t};he.prototype.readUint32Array=function(e){for(var t=new Uint32Array(e),i=0;i<e;i++)t[i]=this.readUint32();return t};he.prototype.readInt32Array=function(e){for(var t=new Int32Array(e),i=0;i<e;i++)t[i]=this.readInt32();return t};typeof Ee!="undefined"&&(Ee.MP4BoxStream=he);var N=function(e,t,i){this._byteOffset=t||0,e instanceof ArrayBuffer?this.buffer=e:typeof e=="object"?(this.dataView=e,t&&(this._byteOffset+=t)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=i==null?N.LITTLE_ENDIAN:i};N.prototype={};N.prototype.getPosition=function(){return this.position};N.prototype._realloc=function(e){if(this._dynamicSize){var t=this._byteOffset+this.position+e,i=this._buffer.byteLength;if(t<=i){t>this._byteLength&&(this._byteLength=t);return}for(i<1&&(i=1);t>i;)i*=2;var r=new ArrayBuffer(i),s=new Uint8Array(this._buffer),n=new Uint8Array(r,0,s.length);n.set(s),this.buffer=r,this._byteLength=t}};N.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),i=new Uint8Array(this._buffer,0,t.length);t.set(i),this.buffer=e}};N.BIG_ENDIAN=!1;N.LITTLE_ENDIAN=!0;N.prototype._byteLength=0;Object.defineProperty(N.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}});Object.defineProperty(N.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}});Object.defineProperty(N.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}});Object.defineProperty(N.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}});N.prototype.seek=function(e){var t=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(t)||!isFinite(t)?0:t};N.prototype.isEof=function(){return this.position>=this._byteLength};N.prototype.mapUint8Array=function(e){this._realloc(e*1);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,t};N.prototype.readInt32Array=function(e,t){e=e==null?this.byteLength-this.position/4:e;var i=new Int32Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readInt16Array=function(e,t){e=e==null?this.byteLength-this.position/2:e;var i=new Int16Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readInt8Array=function(e){e=e==null?this.byteLength-this.position:e;var t=new Int8Array(e);return N.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t};N.prototype.readUint32Array=function(e,t){e=e==null?this.byteLength-this.position/4:e;var i=new Uint32Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readUint16Array=function(e,t){e=e==null?this.byteLength-this.position/2:e;var i=new Uint16Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readUint8Array=function(e){e=e==null?this.byteLength-this.position:e;var t=new Uint8Array(e);return N.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t};N.prototype.readFloat64Array=function(e,t){e=e==null?this.byteLength-this.position/8:e;var i=new Float64Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readFloat32Array=function(e,t){e=e==null?this.byteLength-this.position/4:e;var i=new Float32Array(e);return N.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),N.arrayToNative(i,t==null?this.endianness:t),this.position+=i.byteLength,i};N.prototype.readInt32=function(e){var t=this._dataView.getInt32(this.position,e==null?this.endianness:e);return this.position+=4,t};N.prototype.readInt16=function(e){var t=this._dataView.getInt16(this.position,e==null?this.endianness:e);return this.position+=2,t};N.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e};N.prototype.readUint32=function(e){var t=this._dataView.getUint32(this.position,e==null?this.endianness:e);return this.position+=4,t};N.prototype.readUint16=function(e){var t=this._dataView.getUint16(this.position,e==null?this.endianness:e);return this.position+=2,t};N.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e};N.prototype.readFloat32=function(e){var t=this._dataView.getFloat32(this.position,e==null?this.endianness:e);return this.position+=4,t};N.prototype.readFloat64=function(e){var t=this._dataView.getFloat64(this.position,e==null?this.endianness:e);return this.position+=8,t};N.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0;N.memcpy=function(e,t,i,r,s){var n=new Uint8Array(e,t,s),a=new Uint8Array(i,r,s);n.set(a)};N.arrayToNative=function(e,t){return t==this.endianness?e:this.flipArrayEndianness(e)};N.nativeToEndian=function(e,t){return this.endianness==t?e:this.flipArrayEndianness(e)};N.flipArrayEndianness=function(e){for(var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i=0;i<e.byteLength;i+=e.BYTES_PER_ELEMENT)for(var r=i+e.BYTES_PER_ELEMENT-1,s=i;r>s;r--,s++){var n=t[s];t[s]=t[r],t[r]=n}return e};N.prototype.failurePosition=0;String.fromCharCodeUint8=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return String.fromCharCode.apply(null,t)};N.prototype.readString=function(e,t){return t==null||t=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(e==null?this.byteLength-this.position:e)]):new TextDecoder(t).decode(this.mapUint8Array(e))};N.prototype.readCString=function(e){var t=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),r=t;e!=null&&(r=Math.min(e,t));for(var s=0;s<r&&i[s]!==0;s++);var n=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(s)]);return e!=null?this.position+=r-s:s!=t&&(this.position+=1),n};var Nt=Math.pow(2,32);N.prototype.readInt64=function(){return this.readInt32()*Nt+this.readUint32()};N.prototype.readUint64=function(){return this.readUint32()*Nt+this.readUint32()};N.prototype.readInt64=function(){return this.readUint32()*Nt+this.readUint32()};N.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()};typeof Ee!="undefined"&&(Ee.DataStream=N);N.prototype.save=function(e){var t=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var i=window.URL.createObjectURL(t),r=document.createElement("a");document.body.appendChild(r),r.setAttribute("href",i),r.setAttribute("download",e),r.setAttribute("target","_self"),r.click(),window.URL.revokeObjectURL(i)}else throw"DataStream.save: Can't create object URL."};N.prototype._dynamicSize=!0;Object.defineProperty(N.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}});N.prototype.shift=function(e){var t=new ArrayBuffer(this._byteLength-e),i=new Uint8Array(t),r=new Uint8Array(this._buffer,e,i.length);i.set(r),this.buffer=t,this.position-=e};N.prototype.writeInt32Array=function(e,t){if(this._realloc(e.length*4),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt32(e[i],t)};N.prototype.writeInt16Array=function(e,t){if(this._realloc(e.length*2),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt16(e[i],t)};N.prototype.writeInt8Array=function(e){if(this._realloc(e.length*1),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var t=0;t<e.length;t++)this.writeInt8(e[t])};N.prototype.writeUint32Array=function(e,t){if(this._realloc(e.length*4),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint32(e[i],t)};N.prototype.writeUint16Array=function(e,t){if(this._realloc(e.length*2),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint16(e[i],t)};N.prototype.writeUint8Array=function(e){if(this._realloc(e.length*1),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t])};N.prototype.writeFloat64Array=function(e,t){if(this._realloc(e.length*8),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat64(e[i],t)};N.prototype.writeFloat32Array=function(e,t){if(this._realloc(e.length*4),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)N.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat32(e[i],t)};N.prototype.writeInt32=function(e,t){this._realloc(4),this._dataView.setInt32(this.position,e,t==null?this.endianness:t),this.position+=4};N.prototype.writeInt16=function(e,t){this._realloc(2),this._dataView.setInt16(this.position,e,t==null?this.endianness:t),this.position+=2};N.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1};N.prototype.writeUint32=function(e,t){this._realloc(4),this._dataView.setUint32(this.position,e,t==null?this.endianness:t),this.position+=4};N.prototype.writeUint16=function(e,t){this._realloc(2),this._dataView.setUint16(this.position,e,t==null?this.endianness:t),this.position+=2};N.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1};N.prototype.writeFloat32=function(e,t){this._realloc(4),this._dataView.setFloat32(this.position,e,t==null?this.endianness:t),this.position+=4};N.prototype.writeFloat64=function(e,t){this._realloc(8),this._dataView.setFloat64(this.position,e,t==null?this.endianness:t),this.position+=8};N.prototype.writeUCS2String=function(e,t,i){i==null&&(i=e.length);for(var r=0;r<e.length&&r<i;r++)this.writeUint16(e.charCodeAt(r),t);for(;r<i;r++)this.writeUint16(0)};N.prototype.writeString=function(e,t,i){var r=0;if(t==null||t=="ASCII")if(i!=null){var s=Math.min(e.length,i);for(r=0;r<s;r++)this.writeUint8(e.charCodeAt(r));for(;r<i;r++)this.writeUint8(0)}else for(r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0,i)))};N.prototype.writeCString=function(e,t){var i=0;if(t!=null){var r=Math.min(e.length,t);for(i=0;i<r;i++)this.writeUint8(e.charCodeAt(i));for(;i<t;i++)this.writeUint8(0)}else{for(i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));this.writeUint8(0)}};N.prototype.writeStruct=function(e,t){for(var i=0;i<e.length;i+=2){var r=e[i+1];this.writeType(r,t[e[i]],t)}};N.prototype.writeType=function(e,t,i){var r;if(typeof e=="function")return e(this,t);if(typeof e=="object"&&!(e instanceof Array))return e.set(this,t,i);var s=null,n="ASCII",a=this.position;switch(typeof e=="string"&&/:/.test(e)&&(r=e.split(":"),e=r[0],s=parseInt(r[1])),typeof e=="string"&&/,/.test(e)&&(r=e.split(","),e=r[0],n=parseInt(r[1])),e){case"uint8":this.writeUint8(t);break;case"int8":this.writeInt8(t);break;case"uint16":this.writeUint16(t,this.endianness);break;case"int16":this.writeInt16(t,this.endianness);break;case"uint32":this.writeUint32(t,this.endianness);break;case"int32":this.writeInt32(t,this.endianness);break;case"float32":this.writeFloat32(t,this.endianness);break;case"float64":this.writeFloat64(t,this.endianness);break;case"uint16be":this.writeUint16(t,N.BIG_ENDIAN);break;case"int16be":this.writeInt16(t,N.BIG_ENDIAN);break;case"uint32be":this.writeUint32(t,N.BIG_ENDIAN);break;case"int32be":this.writeInt32(t,N.BIG_ENDIAN);break;case"float32be":this.writeFloat32(t,N.BIG_ENDIAN);break;case"float64be":this.writeFloat64(t,N.BIG_ENDIAN);break;case"uint16le":this.writeUint16(t,N.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(t,N.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(t,N.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(t,N.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(t,N.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(t,N.LITTLE_ENDIAN);break;case"cstring":this.writeCString(t,s);break;case"string":this.writeString(t,n,s);break;case"u16string":this.writeUCS2String(t,this.endianness,s);break;case"u16stringle":this.writeUCS2String(t,N.LITTLE_ENDIAN,s);break;case"u16stringbe":this.writeUCS2String(t,N.BIG_ENDIAN,s);break;default:if(e.length==3){for(var o=e[1],l=0;l<t.length;l++)this.writeType(o,t[l]);break}else{this.writeStruct(e,t);break}}s!=null&&(this.position=a,this._realloc(s),this.position=a+s)};N.prototype.writeUint64=function(e){var t=Math.floor(e/Nt);this.writeUint32(t),this.writeUint32(e&4294967295)};N.prototype.writeUint24=function(e){this.writeUint8((e&16711680)>>16),this.writeUint8((e&65280)>>8),this.writeUint8(e&255)};N.prototype.adjustUint32=function(e,t){var i=this.position;this.seek(e),this.writeUint32(t),this.seek(i)};N.prototype.mapInt32Array=function(e,t){this._realloc(e*4);var i=new Int32Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*4,i};N.prototype.mapInt16Array=function(e,t){this._realloc(e*2);var i=new Int16Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*2,i};N.prototype.mapInt8Array=function(e){this._realloc(e*1);var t=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,t};N.prototype.mapUint32Array=function(e,t){this._realloc(e*4);var i=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*4,i};N.prototype.mapUint16Array=function(e,t){this._realloc(e*2);var i=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*2,i};N.prototype.mapFloat64Array=function(e,t){this._realloc(e*8);var i=new Float64Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*8,i};N.prototype.mapFloat32Array=function(e,t){this._realloc(e*4);var i=new Float32Array(this._buffer,this.byteOffset+this.position,e);return N.arrayToNative(i,t==null?this.endianness:t),this.position+=e*4,i};var Ae=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};Ae.prototype=new N(new ArrayBuffer,0,N.BIG_ENDIAN);Ae.prototype.initialized=function(){var e;return this.bufferIndex>-1?!0:this.buffers.length>0?(e=this.buffers[0],e.fileStart===0?(this.buffer=e,this.bufferIndex=0,H.debug("MultiBufferStream","Stream ready for parsing"),!0):(H.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(H.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)};ArrayBuffer.concat=function(e,t){H.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+t.byteLength));var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer};Ae.prototype.reduceBuffer=function(e,t,i){var r;return r=new Uint8Array(i),r.set(new Uint8Array(e,t,i)),r.buffer.fileStart=e.fileStart+t,r.buffer.usedBytes=0,r.buffer};Ae.prototype.insertBuffer=function(e){for(var t=!0,i=0;i<this.buffers.length;i++){var r=this.buffers[i];if(e.fileStart<=r.fileStart){if(e.fileStart===r.fileStart)if(e.byteLength>r.byteLength){this.buffers.splice(i,1),i--;continue}else H.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring");else e.fileStart+e.byteLength<=r.fileStart||(e=this.reduceBuffer(e,0,r.fileStart-e.fileStart)),H.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(i,0,e),i===0&&(this.buffer=e);t=!1;break}else if(e.fileStart<r.fileStart+r.byteLength){var s=r.fileStart+r.byteLength-e.fileStart,n=e.byteLength-s;if(n>0)e=this.reduceBuffer(e,s,n);else{t=!1;break}}}t&&(H.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),i===0&&(this.buffer=e))};Ae.prototype.logBufferLevel=function(e){var t,i,r,s,n=[],a,o="";for(r=0,s=0,t=0;t<this.buffers.length;t++)i=this.buffers[t],t===0?(a={},n.push(a),a.start=i.fileStart,a.end=i.fileStart+i.byteLength,o+="["+a.start+"-"):a.end===i.fileStart?a.end=i.fileStart+i.byteLength:(a={},a.start=i.fileStart,o+=n[n.length-1].end-1+"], ["+a.start+"-",a.end=i.fileStart+i.byteLength,n.push(a)),r+=i.usedBytes,s+=i.byteLength;n.length>0&&(o+=a.end-1+"]");var l=e?H.info:H.debug;this.buffers.length===0?l("MultiBufferStream","No more buffer in memory"):l("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+r+"/"+s+" bytes), continuous ranges: "+o)};Ae.prototype.cleanBuffers=function(){var e,t;for(e=0;e<this.buffers.length;e++)t=this.buffers[e],t.usedBytes===t.byteLength&&(H.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)};Ae.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length)if(e=this.buffers[this.bufferIndex+1],e.fileStart===this.buffer.fileStart+this.buffer.byteLength){var t=this.buffer.byteLength,i=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=i,this.buffer.fileStart=r,H.debug("ISOFile","Concatenating buffer for box parsing (length: "+t+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1};Ae.prototype.findPosition=function(e,t,i){var r,s=null,n=-1;for(e===!0?r=0:r=this.bufferIndex;r<this.buffers.length&&(s=this.buffers[r],s.fileStart<=t);){n=r,i&&(s.fileStart+s.byteLength<=t?s.usedBytes=s.byteLength:s.usedBytes=t-s.fileStart,this.logBufferLevel());r++}return n!==-1?(s=this.buffers[n],s.fileStart+s.byteLength>=t?(H.debug("MultiBufferStream","Found position in existing buffer #"+n),n):-1):-1};Ae.prototype.findEndContiguousBuf=function(e){var t,i,r,s=e!==void 0?e:this.bufferIndex;if(i=this.buffers[s],this.buffers.length>s+1)for(t=s+1;t<this.buffers.length&&(r=this.buffers[t],r.fileStart===i.fileStart+i.byteLength);t++)i=r;return i.fileStart+i.byteLength};Ae.prototype.getEndFilePositionAfter=function(e){var t=this.findPosition(!0,e,!1);return t!==-1?this.findEndContiguousBuf(t):e};Ae.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()};Ae.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()};Ae.prototype.seek=function(e,t,i){var r;return r=this.findPosition(t,e,i),r!==-1?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=e-this.buffer.fileStart,H.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(H.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)};Ae.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position};Ae.prototype.getLength=function(){return this.byteLength};Ae.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength};typeof Ee!="undefined"&&(Ee.MultiBufferStream=Ae);var Fa=function(){var e=3,t=4,i=5,r=6,s=[];s[e]="ES_Descriptor",s[t]="DecoderConfigDescriptor",s[i]="DecoderSpecificInfo",s[r]="SLConfigDescriptor",this.getDescriptorName=function(o){return s[o]};var n=this,a={};return this.parseOneDescriptor=function(o){var l=0,h=0,f,m,u;for(f=o.readUint8(),l++,u=o.readUint8(),l++;u&128;)h=(u&127)<<7,u=o.readUint8(),l++;return h+=u&127,H.debug("MPEG4DescriptorParser","Found "+(s[f]||"Descriptor "+f)+", size "+h+" at position "+o.getPosition()),s[f]?m=new a[s[f]](h):m=new a.Descriptor(h),m.parse(o),m},a.Descriptor=function(o,l){this.tag=o,this.size=l,this.descs=[]},a.Descriptor.prototype.parse=function(o){this.data=o.readUint8Array(this.size)},a.Descriptor.prototype.findDescriptor=function(o){for(var l=0;l<this.descs.length;l++)if(this.descs[l].tag==o)return this.descs[l];return null},a.Descriptor.prototype.parseRemainingDescriptors=function(o){for(var l=o.position;o.position<l+this.size;){var h=n.parseOneDescriptor(o);this.descs.push(h)}},a.ES_Descriptor=function(o){a.Descriptor.call(this,e,o)},a.ES_Descriptor.prototype=new a.Descriptor,a.ES_Descriptor.prototype.parse=function(o){if(this.ES_ID=o.readUint16(),this.flags=o.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=o.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var l=o.readUint8();this.URL=o.readString(l),this.size-=l+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=o.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(o)},a.ES_Descriptor.prototype.getOTI=function(o){var l=this.findDescriptor(t);return l?l.oti:0},a.ES_Descriptor.prototype.getAudioConfig=function(o){var l=this.findDescriptor(t);if(!l)return null;var h=l.findDescriptor(i);if(h&&h.data){var f=(h.data[0]&248)>>3;return f===31&&h.data.length>=2&&(f=32+((h.data[0]&7)<<3)+((h.data[1]&224)>>5)),f}else return null},a.DecoderConfigDescriptor=function(o){a.Descriptor.call(this,t,o)},a.DecoderConfigDescriptor.prototype=new a.Descriptor,a.DecoderConfigDescriptor.prototype.parse=function(o){this.oti=o.readUint8(),this.streamType=o.readUint8(),this.bufferSize=o.readUint24(),this.maxBitrate=o.readUint32(),this.avgBitrate=o.readUint32(),this.size-=13,this.parseRemainingDescriptors(o)},a.DecoderSpecificInfo=function(o){a.Descriptor.call(this,i,o)},a.DecoderSpecificInfo.prototype=new a.Descriptor,a.SLConfigDescriptor=function(o){a.Descriptor.call(this,r,o)},a.SLConfigDescriptor.prototype=new a.Descriptor,this};typeof Ee!="undefined"&&(Ee.MPEG4DescriptorParser=Fa);var S={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){S.FullBox.prototype=new S.Box,S.ContainerBox.prototype=new S.Box,S.SampleEntry.prototype=new S.Box,S.TrackGroupTypeBox.prototype=new S.FullBox,S.BASIC_BOXES.forEach(function(e){S.createBoxCtor(e)}),S.FULL_BOXES.forEach(function(e){S.createFullBoxCtor(e)}),S.CONTAINER_BOXES.forEach(function(e){S.createContainerBoxCtor(e[0],null,e[1])})},Box:function(e,t,i){this.type=e,this.size=t,this.uuid=i},FullBox:function(e,t,i){S.Box.call(this,e,t,i),this.flags=0,this.version=0},ContainerBox:function(e,t,i){S.Box.call(this,e,t,i),this.boxes=[]},SampleEntry:function(e,t,i,r){S.ContainerBox.call(this,e,t),this.hdr_size=i,this.start=r},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,t){S.FullBox.call(this,e,t)},createBoxCtor:function(e,t){S.boxCodes.push(e),S[e+"Box"]=function(i){S.Box.call(this,e,i)},S[e+"Box"].prototype=new S.Box,t&&(S[e+"Box"].prototype.parse=t)},createFullBoxCtor:function(e,t){S[e+"Box"]=function(i){S.FullBox.call(this,e,i)},S[e+"Box"].prototype=new S.FullBox,S[e+"Box"].prototype.parse=function(i){this.parseFullHeader(i),t&&t.call(this,i)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var t=e.length,i=0;i<t;i++)this[e[i]+"s"]=[]}},createContainerBoxCtor:function(e,t,i){S[e+"Box"]=function(r){S.ContainerBox.call(this,e,r),S.addSubBoxArrays.call(this,i)},S[e+"Box"].prototype=new S.ContainerBox,t&&(S[e+"Box"].prototype.parse=t)},createMediaSampleEntryCtor:function(e,t,i){S.sampleEntryCodes[e]=[],S[e+"SampleEntry"]=function(r,s){S.SampleEntry.call(this,r,s),S.addSubBoxArrays.call(this,i)},S[e+"SampleEntry"].prototype=new S.SampleEntry,t&&(S[e+"SampleEntry"].prototype.parse=t)},createSampleEntryCtor:function(e,t,i,r){S.sampleEntryCodes[e].push(t),S[t+"SampleEntry"]=function(s){S[e+"SampleEntry"].call(this,t,s),S.addSubBoxArrays.call(this,r)},S[t+"SampleEntry"].prototype=new S[e+"SampleEntry"],i&&(S[t+"SampleEntry"].prototype.parse=i)},createEncryptedSampleEntryCtor:function(e,t,i){S.createSampleEntryCtor.call(this,e,t,i,["sinf"])},createSampleGroupCtor:function(e,t){S[e+"SampleGroupEntry"]=function(i){S.SampleGroupEntry.call(this,e,i)},S[e+"SampleGroupEntry"].prototype=new S.SampleGroupEntry,t&&(S[e+"SampleGroupEntry"].prototype.parse=t)},createTrackGroupCtor:function(e,t){S[e+"TrackGroupTypeBox"]=function(i){S.TrackGroupTypeBox.call(this,e,i)},S[e+"TrackGroupTypeBox"].prototype=new S.TrackGroupTypeBox,t&&(S[e+"TrackGroupTypeBox"].prototype.parse=t)},createUUIDBox:function(e,t,i,r){S.UUIDs.push(e),S.UUIDBoxes[e]=function(s){t?S.FullBox.call(this,"uuid",s,e):i?S.ContainerBox.call(this,"uuid",s,e):S.Box.call(this,"uuid",s,e)},S.UUIDBoxes[e].prototype=t?new S.FullBox:i?new S.ContainerBox:new S.Box,r&&(t?S.UUIDBoxes[e].prototype.parse=function(s){this.parseFullHeader(s),r&&r.call(this,s)}:S.UUIDBoxes[e].prototype.parse=r)}};S.initialize();S.TKHD_FLAG_ENABLED=1;S.TKHD_FLAG_IN_MOVIE=2;S.TKHD_FLAG_IN_PREVIEW=4;S.TFHD_FLAG_BASE_DATA_OFFSET=1;S.TFHD_FLAG_SAMPLE_DESC=2;S.TFHD_FLAG_SAMPLE_DUR=8;S.TFHD_FLAG_SAMPLE_SIZE=16;S.TFHD_FLAG_SAMPLE_FLAGS=32;S.TFHD_FLAG_DUR_EMPTY=65536;S.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072;S.TRUN_FLAGS_DATA_OFFSET=1;S.TRUN_FLAGS_FIRST_FLAG=4;S.TRUN_FLAGS_DURATION=256;S.TRUN_FLAGS_SIZE=512;S.TRUN_FLAGS_FLAGS=1024;S.TRUN_FLAGS_CTS_OFFSET=2048;S.Box.prototype.add=function(e){return this.addBox(new S[e+"Box"])};S.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e};S.Box.prototype.set=function(e,t){return this[e]=t,this};S.Box.prototype.addEntry=function(e,t){var i=t||"entries";return this[i]||(this[i]=[]),this[i].push(e),this};typeof Ee!="undefined"&&(Ee.BoxParser=S);S.parseUUID=function(e){return S.parseHex16(e)};S.parseHex16=function(e){for(var t="",i=0;i<16;i++){var r=e.readUint8().toString(16);t+=r.length===1?"0"+r:r}return t};S.parseOneBox=function(e,t,i){var r,s=e.getPosition(),n=0,a,o;if(e.getEndPosition()-s<8)return H.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:S.ERR_NOT_ENOUGH_DATA};if(i&&i<8)return H.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:S.ERR_NOT_ENOUGH_DATA};var l=e.readUint32(),h=e.readString(4),f=h;if(H.debug("BoxParser","Found box of type '"+h+"' and size "+l+" at position "+s),n=8,h=="uuid"){if(e.getEndPosition()-e.getPosition()<16||i-n<16)return e.seek(s),H.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:S.ERR_NOT_ENOUGH_DATA};o=S.parseUUID(e),n+=16,f=o}if(l==1){if(e.getEndPosition()-e.getPosition()<8||i&&i-n<8)return e.seek(s),H.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+h+'" box'),{code:S.ERR_NOT_ENOUGH_DATA};l=e.readUint64(),n+=8}else if(l===0){if(i)l=i;else if(h!=="mdat")return H.error("BoxParser","Unlimited box size not supported for type: '"+h+"'"),r=new S.Box(h,l),{code:S.OK,box:r,size:r.size}}return l<n?(H.error("BoxParser","Box of type "+h+" has an invalid size "+l+" (too small to be a box)"),{code:S.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):i&&l>i?(H.error("BoxParser","Box of type '"+h+"' has a size "+l+" greater than its container size "+i),{code:S.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):s+l>e.getEndPosition()?(e.seek(s),H.info("BoxParser","Not enough data in stream to parse the entire '"+h+"' box"),{code:S.ERR_NOT_ENOUGH_DATA,type:h,size:l,hdr_size:n,start:s}):t?{code:S.OK,type:h,size:l,hdr_size:n,start:s}:(S[h+"Box"]?r=new S[h+"Box"](l):h!=="uuid"?(H.warn("BoxParser","Unknown box type: '"+h+"'"),r=new S.Box(h,l),r.has_unparsed_data=!0):S.UUIDBoxes[o]?r=new S.UUIDBoxes[o](l):(H.warn("BoxParser","Unknown uuid type: '"+o+"'"),r=new S.Box(h,l),r.uuid=o,r.has_unparsed_data=!0),r.hdr_size=n,r.start=s,r.write===S.Box.prototype.write&&r.type!=="mdat"&&(H.info("BoxParser","'"+f+"' box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),a=e.getPosition()-(r.start+r.size),a<0?(H.warn("BoxParser","Parsing of box '"+f+"' did not read the entire indicated box data size (missing "+-a+" bytes), seeking forward"),e.seek(r.start+r.size)):a>0&&(H.error("BoxParser","Parsing of box '"+f+"' read "+a+" more bytes than the indicated box data size, seeking backwards"),e.seek(r.start+r.size)),{code:S.OK,box:r,size:r.size})};S.Box.prototype.parse=function(e){this.type!="mdat"?this.data=e.readUint8Array(this.size-this.hdr_size):this.size===0?e.seek(e.getEndPosition()):e.seek(this.start+this.size)};S.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size};S.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size};S.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4};S.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)};S.ContainerBox.prototype.parse=function(e){for(var t,i;e.getPosition()<this.start+this.size;)if(t=S.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code===S.OK)if(i=t.box,this.boxes.push(i),this.subBoxNames&&this.subBoxNames.indexOf(i.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(i.type)]+"s"].push(i);else{var r=i.type!=="uuid"?i.type:i.uuid;this[r]?H.warn("Box of type "+r+" already stored in field of this type"):this[r]=i}else return};S.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var t=[];t[0]=this.language>>10&31,t[1]=this.language>>5&31,t[2]=this.language&31,this.languageString=String.fromCharCode(t[0]+96,t[1]+96,t[2]+96)};S.SAMPLE_ENTRY_TYPE_VISUAL="Visual";S.SAMPLE_ENTRY_TYPE_AUDIO="Audio";S.SAMPLE_ENTRY_TYPE_HINT="Hint";S.SAMPLE_ENTRY_TYPE_METADATA="Metadata";S.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle";S.SAMPLE_ENTRY_TYPE_SYSTEM="System";S.SAMPLE_ENTRY_TYPE_TEXT="Text";S.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8};S.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)};S.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size};S.SampleEntry.prototype.parseFooter=function(e){S.ContainerBox.prototype.parse.call(this,e)};S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_HINT);S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_METADATA);S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE);S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SYSTEM);S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_TEXT);S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,function(e){var t;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),t=Math.min(31,e.readUint8()),this.compressorname=e.readString(t),t<31&&e.readString(31-t),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)});S.createMediaSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_AUDIO,function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/(1<<16),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"avc1");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"avc2");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"avc3");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"avc4");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"av01");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"hev1");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3");S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_VISUAL,"encv");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_AUDIO,"enca");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SYSTEM,"encs");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_TEXT,"enct");S.createEncryptedSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_METADATA,"encm");S.createBoxCtor("a1lx",function(e){var t=e.readUint8()&1,i=((t&1)+1)*16;this.layer_size=[];for(var r=0;r<3;r++)i==16?this.layer_size[r]=e.readUint16():this.layer_size[r]=e.readUint32()});S.createBoxCtor("a1op",function(e){this.op_index=e.readUint8()});S.createFullBoxCtor("auxC",function(e){this.aux_type=e.readCString();var t=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(t)});S.createBoxCtor("av1C",function(e){var t,i,r=e.readUint8();if(r>>7&!1){H.error("av1C marker problem");return}if(this.version=r&127,this.version!==1){H.error("av1C version "+this.version+" not supported");return}if(r=e.readUint8(),this.seq_profile=r>>5&7,this.seq_level_idx_0=r&31,r=e.readUint8(),this.seq_tier_0=r>>7&1,this.high_bitdepth=r>>6&1,this.twelve_bit=r>>5&1,this.monochrome=r>>4&1,this.chroma_subsampling_x=r>>3&1,this.chroma_subsampling_y=r>>2&1,this.chroma_sample_position=r&3,r=e.readUint8(),this.reserved_1=r>>5&7,this.reserved_1!==0){H.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=r>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=r&15;else if(this.reserved_2=r&15,this.reserved_2!==0){H.error("av1C reserved_2 parsing problem");return}var s=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(s)});S.createBoxCtor("avcC",function(e){var t,i;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=e.readUint8()&3,this.nb_SPS_nalus=e.readUint8()&31,i=this.size-this.hdr_size-6,this.SPS=[],t=0;t<this.nb_SPS_nalus;t++)this.SPS[t]={},this.SPS[t].length=e.readUint16(),this.SPS[t].nalu=e.readUint8Array(this.SPS[t].length),i-=2+this.SPS[t].length;for(this.nb_PPS_nalus=e.readUint8(),i--,this.PPS=[],t=0;t<this.nb_PPS_nalus;t++)this.PPS[t]={},this.PPS[t].length=e.readUint16(),this.PPS[t].nalu=e.readUint8Array(this.PPS[t].length),i-=2+this.PPS[t].length;i>0&&(this.ext=e.readUint8Array(i))});S.createBoxCtor("btrt",function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()});S.createBoxCtor("clap",function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()});S.createBoxCtor("clli",function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()});S.createFullBoxCtor("co64",function(e){var t,i;if(t=e.readUint32(),this.chunk_offsets=[],this.version===0)for(i=0;i<t;i++)this.chunk_offsets.push(e.readUint64())});S.createFullBoxCtor("CoLL",function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()});S.createBoxCtor("colr",function(e){if(this.colour_type=e.readString(4),this.colour_type==="nclx"){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var t=e.readUint8();this.full_range_flag=t>>7}else this.colour_type==="rICC"?this.ICC_profile=e.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=e.readUint8Array(this.size-4))});S.createFullBoxCtor("cprt",function(e){this.parseLanguage(e),this.notice=e.readCString()});S.createFullBoxCtor("cslg",function(e){var t;this.version===0&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())});S.createFullBoxCtor("ctts",function(e){var t,i;if(t=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(i=0;i<t;i++){this.sample_counts.push(e.readUint32());var r=e.readInt32();r<0&&H.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(r)}else if(this.version==1)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())});S.createBoxCtor("dac3",function(e){var t=e.readUint8(),i=e.readUint8(),r=e.readUint8();this.fscod=t>>6,this.bsid=t>>1&31,this.bsmod=(t&1)<<2|i>>6&3,this.acmod=i>>3&7,this.lfeon=i>>2&1,this.bit_rate_code=i&3|r>>5&7});S.createBoxCtor("dec3",function(e){var t=e.readUint16();this.data_rate=t>>3,this.num_ind_sub=t&7,this.ind_subs=[];for(var i=0;i<this.num_ind_sub+1;i++){var r={};this.ind_subs.push(r);var s=e.readUint8(),n=e.readUint8(),a=e.readUint8();r.fscod=s>>6,r.bsid=s>>1&31,r.bsmod=(s&1)<<4|n>>4&15,r.acmod=n>>1&7,r.lfeon=n&1,r.num_dep_sub=a>>1&15,r.num_dep_sub>0&&(r.chan_loc=(a&1)<<8|e.readUint8())}});S.createFullBoxCtor("dfLa",function(e){var t=127,i=128,r=[],s=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];this.parseFullHeader(e);do{var n=e.readUint8(),a=Math.min(n&t,s.length-1);if(a?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),r.push(s[a]),n&i)break}while(!0);this.numMetadataBlocks=r.length+" ("+r.join(", ")+")"});S.createBoxCtor("dimm",function(e){this.bytessent=e.readUint64()});S.createBoxCtor("dmax",function(e){this.time=e.readUint32()});S.createBoxCtor("dmed",function(e){this.bytessent=e.readUint64()});S.createFullBoxCtor("dref",function(e){var t,i;this.entries=[];for(var r=e.readUint32(),s=0;s<r;s++)if(t=S.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code===S.OK)i=t.box,this.entries.push(i);else return});S.createBoxCtor("drep",function(e){this.bytessent=e.readUint64()});S.createFullBoxCtor("elng",function(e){this.extended_language=e.readString(this.size-this.hdr_size)});S.createFullBoxCtor("elst",function(e){this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var r={};this.entries.push(r),this.version===1?(r.segment_duration=e.readUint64(),r.media_time=e.readInt64()):(r.segment_duration=e.readUint32(),r.media_time=e.readInt32()),r.media_rate_integer=e.readInt16(),r.media_rate_fraction=e.readInt16()}});S.createFullBoxCtor("emsg",function(e){this.version==1?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var t=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(t-=4),this.message_data=e.readUint8Array(t)});S.createFullBoxCtor("esds",function(e){var t=e.readUint8Array(this.size-this.hdr_size);if(typeof Fa!="undefined"){var i=new Fa;this.esd=i.parseOneDescriptor(new N(t.buffer,0,N.BIG_ENDIAN))}});S.createBoxCtor("fiel",function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()});S.createBoxCtor("frma",function(e){this.data_format=e.readString(4)});S.createBoxCtor("ftyp",function(e){var t=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),t-=8,this.compatible_brands=[];for(var i=0;t>=4;)this.compatible_brands[i]=e.readString(4),t-=4,i++});S.createFullBoxCtor("hdlr",function(e){this.version===0&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))});S.createBoxCtor("hvcC",function(e){var t,i,r,s,n;this.configurationVersion=e.readUint8(),n=e.readUint8(),this.general_profile_space=n>>6,this.general_tier_flag=(n&32)>>5,this.general_profile_idc=n&31,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3,this.chroma_format_idc=e.readUint8()&3,this.bit_depth_luma_minus8=e.readUint8()&7,this.bit_depth_chroma_minus8=e.readUint8()&7,this.avgFrameRate=e.readUint16(),n=e.readUint8(),this.constantFrameRate=n>>6,this.numTemporalLayers=(n&13)>>3,this.temporalIdNested=(n&4)>>2,this.lengthSizeMinusOne=n&3,this.nalu_arrays=[];var a=e.readUint8();for(t=0;t<a;t++){var o=[];this.nalu_arrays.push(o),n=e.readUint8(),o.completeness=(n&128)>>7,o.nalu_type=n&63;var l=e.readUint16();for(i=0;i<l;i++){var h={};o.push(h),s=e.readUint16(),h.data=e.readUint8Array(s)}}});S.createFullBoxCtor("iinf",function(e){var t;this.version===0?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var i=0;i<this.entry_count;i++)if(t=S.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code===S.OK)t.box.type!=="infe"&&H.error("BoxParser","Expected 'infe' box, got "+t.box.type),this.item_infos[i]=t.box;else return});S.createFullBoxCtor("iloc",function(e){var t;t=e.readUint8(),this.offset_size=t>>4&15,this.length_size=t&15,t=e.readUint8(),this.base_offset_size=t>>4&15,this.version===1||this.version===2?this.index_size=t&15:this.index_size=0,this.items=[];var i=0;if(this.version<2)i=e.readUint16();else if(this.version===2)i=e.readUint32();else throw"version of iloc box not supported";for(var r=0;r<i;r++){var s={};if(this.items.push(s),this.version<2)s.item_ID=e.readUint16();else if(this.version===2)s.item_ID=e.readUint16();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?s.construction_method=e.readUint16()&15:s.construction_method=0,s.data_reference_index=e.readUint16(),this.base_offset_size){case 0:s.base_offset=0;break;case 4:s.base_offset=e.readUint32();break;case 8:s.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var n=e.readUint16();s.extents=[];for(var a=0;a<n;a++){var o={};if(s.extents.push(o),this.version===1||this.version===2)switch(this.index_size){case 0:o.extent_index=0;break;case 4:o.extent_index=e.readUint32();break;case 8:o.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:o.extent_offset=0;break;case 4:o.extent_offset=e.readUint32();break;case 8:o.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:o.extent_length=0;break;case 4:o.extent_length=e.readUint32();break;case 8:o.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}});S.createBoxCtor("imir",function(e){var t=e.readUint8();this.reserved=t>>7,this.axis=t&1});S.createFullBoxCtor("infe",function(e){if((this.version===0||this.version===1)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),this.version===1){this.extension_type=e.readString(4),H.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=e.readUint16():this.version===3&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),this.item_type==="mime"?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):this.item_type==="uri "&&(this.item_uri_type=e.readCString()))});S.createFullBoxCtor("ipma",function(e){var t,i;for(entry_count=e.readUint32(),this.associations=[],t=0;t<entry_count;t++){var r={};this.associations.push(r),this.version<1?r.id=e.readUint16():r.id=e.readUint32();var s=e.readUint8();for(r.props=[],i=0;i<s;i++){var n=e.readUint8(),a={};r.props.push(a),a.essential=(n&128)>>7===1,this.flags&1?a.property_index=(n&127)<<8|e.readUint8():a.property_index=n&127}}});S.createFullBoxCtor("iref",function(e){var t,i,r;for(this.references=[];e.getPosition()<this.start+this.size;)if(t=S.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),t.code===S.OK)this.version===0?r=new S.SingleItemTypeReferenceBox(t.type,t.size,t.hdr_size,t.start):r=new S.SingleItemTypeReferenceBoxLarge(t.type,t.size,t.hdr_size,t.start),r.write===S.Box.prototype.write&&r.type!=="mdat"&&(H.warn("BoxParser",r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),this.references.push(r);else return});S.createBoxCtor("irot",function(e){this.angle=e.readUint8()&3});S.createFullBoxCtor("ispe",function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()});S.createFullBoxCtor("kind",function(e){this.schemeURI=e.readCString(),this.value=e.readCString()});S.createFullBoxCtor("leva",function(e){var t=e.readUint8();this.levels=[];for(var i=0;i<t;i++){var r={};this.levels[i]=r,r.track_ID=e.readUint32();var s=e.readUint8();switch(r.padding_flag=s>>7,r.assignment_type=s&127,r.assignment_type){case 0:r.grouping_type=e.readString(4);break;case 1:r.grouping_type=e.readString(4),r.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:r.sub_track_id=e.readUint32();break;default:H.warn("BoxParser","Unknown leva assignement type")}}});S.createBoxCtor("lsel",function(e){this.layer_id=e.readUint16()});S.createBoxCtor("maxr",function(e){this.period=e.readUint32(),this.bytes=e.readUint32()});S.createBoxCtor("mdcv",function(e){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=e.readUint16(),this.display_primaries[0].y=e.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=e.readUint16(),this.display_primaries[1].y=e.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=e.readUint16(),this.display_primaries[2].y=e.readUint16(),this.white_point={},this.white_point.x=e.readUint16(),this.white_point.y=e.readUint16(),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()});S.createFullBoxCtor("mdhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()});S.createFullBoxCtor("mehd",function(e){this.flags&1&&(H.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()});S.createFullBoxCtor("meta",function(e){this.boxes=[],S.ContainerBox.prototype.parse.call(this,e)});S.createFullBoxCtor("mfhd",function(e){this.sequence_number=e.readUint32()});S.createFullBoxCtor("mfro",function(e){this._size=e.readUint32()});S.createFullBoxCtor("mvhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()});S.createBoxCtor("npck",function(e){this.packetssent=e.readUint32()});S.createBoxCtor("nump",function(e){this.packetssent=e.readUint64()});S.createFullBoxCtor("padb",function(e){var t=e.readUint32();this.padbits=[];for(var i=0;i<Math.floor((t+1)/2);i++)this.padbits=e.readUint8()});S.createBoxCtor("pasp",function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()});S.createBoxCtor("payl",function(e){this.text=e.readString(this.size-this.hdr_size)});S.createBoxCtor("payt",function(e){this.payloadID=e.readUint32();var t=e.readUint8();this.rtpmap_string=e.readString(t)});S.createFullBoxCtor("pdin",function(e){var t=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var i=0;i<t;i++)this.rate[i]=e.readUint32(),this.initial_delay[i]=e.readUint32()});S.createFullBoxCtor("pitm",function(e){this.version===0?this.item_id=e.readUint16():this.item_id=e.readUint32()});S.createFullBoxCtor("pixi",function(e){var t;for(this.num_channels=e.readUint8(),this.bits_per_channels=[],t=0;t<this.num_channels;t++)this.bits_per_channels[t]=e.readUint8()});S.createBoxCtor("pmax",function(e){this.bytes=e.readUint32()});S.createFullBoxCtor("prft",function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),this.version===0?this.media_time=e.readUint32():this.media_time=e.readUint64()});S.createFullBoxCtor("pssh",function(e){if(this.system_id=S.parseHex16(e),this.version>0){var t=e.readUint32();this.kid=[];for(var i=0;i<t;i++)this.kid[i]=S.parseHex16(e)}var r=e.readUint32();r>0&&(this.data=e.readUint8Array(r))});S.createFullBoxCtor("clef",function(e){this.width=e.readUint32(),this.height=e.readUint32()});S.createFullBoxCtor("enof",function(e){this.width=e.readUint32(),this.height=e.readUint32()});S.createFullBoxCtor("prof",function(e){this.width=e.readUint32(),this.height=e.readUint32()});S.createContainerBoxCtor("tapt",null,["clef","prof","enof"]);S.createBoxCtor("rtp ",function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)});S.createFullBoxCtor("saio",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32());var t=e.readUint32();this.offset=[];for(var i=0;i<t;i++)this.version===0?this.offset[i]=e.readUint32():this.offset[i]=e.readUint64()});S.createFullBoxCtor("saiz",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8();var t=e.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var i=0;i<t;i++)this.sample_info_size[i]=e.readUint8()});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)});S.createSampleEntryCtor(S.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(e){this.parseHeader(e),this.parseFooter(e)});S.createSampleGroupCtor("alst",function(e){var t,i=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],t=0;t<i;t++)this.sample_offset[t]=e.readUint32();var r=this.description_length-4-4*i;for(this.num_output_samples=[],this.num_total_samples=[],t=0;t<r/4;t++)this.num_output_samples[t]=e.readUint16(),this.num_total_samples[t]=e.readUint16()});S.createSampleGroupCtor("avll",function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()});S.createSampleGroupCtor("avss",function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var t=e.readUint8();this.durationFlag=t>>7,this.avgRateFlag=t>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var i=e.readUint8(),r=0;r<i;r++){var s={};this.dependency.push(s),s.subSeqDirectionFlag=e.readUint8(),s.layerNumber=e.readUint8(),s.subSequenceIdentifier=e.readUint16()}});S.createSampleGroupCtor("dtrt",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("mvif",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("prol",function(e){this.roll_distance=e.readInt16()});S.createSampleGroupCtor("rap ",function(e){var t=e.readUint8();this.num_leading_samples_known=t>>7,this.num_leading_samples=t&127});S.createSampleGroupCtor("rash",function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)H.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var t=0;t<this.operation_point_count;t++)this.available_bitrate[t]=e.readUint32(),this.target_rate_share[t]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}});S.createSampleGroupCtor("roll",function(e){this.roll_distance=e.readInt16()});S.SampleGroupEntry.prototype.parse=function(e){H.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)};S.createSampleGroupCtor("scif",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("scnm",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("seig",function(e){this.reserved=e.readUint8();var t=e.readUint8();this.crypt_byte_block=t>>4,this.skip_byte_block=t&15,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=S.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))});S.createSampleGroupCtor("stsa",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("sync",function(e){var t=e.readUint8();this.NAL_unit_type=t&63});S.createSampleGroupCtor("tele",function(e){var t=e.readUint8();this.level_independently_decodable=t>>7});S.createSampleGroupCtor("tsas",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("tscl",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createSampleGroupCtor("vipr",function(e){H.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")});S.createFullBoxCtor("sbgp",function(e){this.grouping_type=e.readString(4),this.version===1?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var r={};this.entries.push(r),r.sample_count=e.readInt32(),r.group_description_index=e.readInt32()}});S.createFullBoxCtor("schm",function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))});S.createBoxCtor("sdp ",function(e){this.sdptext=e.readString(this.size-this.hdr_size)});S.createFullBoxCtor("sdtp",function(e){var t,i=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var r=0;r<i;r++)t=e.readUint8(),this.is_leading[r]=t>>6,this.sample_depends_on[r]=t>>4&3,this.sample_is_depended_on[r]=t>>2&3,this.sample_has_redundancy[r]=t&3});S.createFullBoxCtor("senc");S.createFullBoxCtor("sgpd",function(e){this.grouping_type=e.readString(4),H.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var r;S[this.grouping_type+"SampleGroupEntry"]?r=new S[this.grouping_type+"SampleGroupEntry"](this.grouping_type):r=new S.SampleGroupEntry(this.grouping_type),this.entries.push(r),this.version===1?this.default_length===0?r.description_length=e.readUint32():r.description_length=this.default_length:r.description_length=this.default_length,r.write===S.SampleGroupEntry.prototype.write&&(H.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),r.data=e.readUint8Array(r.description_length),e.position-=r.description_length),r.parse(e)}});S.createFullBoxCtor("sidx",function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),this.version===0?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var t=e.readUint16(),i=0;i<t;i++){var r={};this.references.push(r);var s=e.readUint32();r.reference_type=s>>31&1,r.referenced_size=s&2147483647,r.subsegment_duration=e.readUint32(),s=e.readUint32(),r.starts_with_SAP=s>>31&1,r.SAP_type=s>>28&7,r.SAP_delta_time=s&268435455}});S.SingleItemTypeReferenceBox=function(e,t,i,r){S.Box.call(this,e,t),this.hdr_size=i,this.start=r};S.SingleItemTypeReferenceBox.prototype=new S.Box;S.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint16()};S.SingleItemTypeReferenceBoxLarge=function(e,t,i,r){S.Box.call(this,e,t),this.hdr_size=i,this.start=r};S.SingleItemTypeReferenceBoxLarge.prototype=new S.Box;S.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint32()};S.createFullBoxCtor("SmDm",function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()});S.createFullBoxCtor("smhd",function(e){this.balance=e.readUint16(),e.readUint16()});S.createFullBoxCtor("ssix",function(e){this.subsegments=[];for(var t=e.readUint32(),i=0;i<t;i++){var r={};this.subsegments.push(r),r.ranges=[];for(var s=e.readUint32(),n=0;n<s;n++){var a={};r.ranges.push(a),a.level=e.readUint8(),a.range_size=e.readUint24()}}});S.createFullBoxCtor("stco",function(e){var t;if(t=e.readUint32(),this.chunk_offsets=[],this.version===0)for(var i=0;i<t;i++)this.chunk_offsets.push(e.readUint32())});S.createFullBoxCtor("stdp",function(e){var t=(this.size-this.hdr_size)/2;this.priority=[];for(var i=0;i<t;i++)this.priority[i]=e.readUint16()});S.createFullBoxCtor("sthd");S.createFullBoxCtor("stri",function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var t=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()});S.createFullBoxCtor("stsc",function(e){var t,i;if(t=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(i=0;i<t;i++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())});S.createFullBoxCtor("stsd",function(e){var t,i,r,s;for(this.entries=[],r=e.readUint32(),t=1;t<=r;t++)if(i=S.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),i.code===S.OK)S[i.type+"SampleEntry"]?(s=new S[i.type+"SampleEntry"](i.size),s.hdr_size=i.hdr_size,s.start=i.start):(H.warn("BoxParser","Unknown sample entry type: "+i.type),s=new S.SampleEntry(i.type,i.size,i.hdr_size,i.start)),s.write===S.SampleEntry.prototype.write&&(H.info("BoxParser","SampleEntry "+s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(e)),s.parse(e),this.entries.push(s);else return});S.createFullBoxCtor("stsg",function(e){this.grouping_type=e.readUint32();var t=e.readUint16();this.group_description_index=[];for(var i=0;i<t;i++)this.group_description_index[i]=e.readUint32()});S.createFullBoxCtor("stsh",function(e){var t,i;if(t=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(i=0;i<t;i++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())});S.createFullBoxCtor("stss",function(e){var t,i;if(i=e.readUint32(),this.version===0)for(this.sample_numbers=[],t=0;t<i;t++)this.sample_numbers.push(e.readUint32())});S.createFullBoxCtor("stsz",function(e){var t;if(this.sample_sizes=[],this.version===0)for(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),t=0;t<this.sample_count;t++)this.sample_size===0?this.sample_sizes.push(e.readUint32()):this.sample_sizes[t]=this.sample_size});S.createFullBoxCtor("stts",function(e){var t,i,r;if(t=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),r=e.readInt32(),r<0&&(H.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),r=1),this.sample_deltas.push(r)});S.createFullBoxCtor("stvi",function(e){var t=e.readUint32();this.single_view_allowed=t&3,this.stereo_scheme=e.readUint32();var i=e.readUint32();this.stereo_indication_type=e.readString(i);var r,s;for(this.boxes=[];e.getPosition()<this.start+this.size;)if(r=S.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),r.code===S.OK)s=r.box,this.boxes.push(s),this[s.type]=s;else return});S.createBoxCtor("styp",function(e){S.ftypBox.prototype.parse.call(this,e)});S.createFullBoxCtor("stz2",function(e){var t,i,r;if(this.sample_sizes=[],this.version===0)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),r=e.readUint32(),this.field_size===4)for(t=0;t<r;t+=2){var s=e.readUint8();this.sample_sizes[t]=s>>4&15,this.sample_sizes[t+1]=s&15}else if(this.field_size===8)for(t=0;t<r;t++)this.sample_sizes[t]=e.readUint8();else if(this.field_size===16)for(t=0;t<r;t++)this.sample_sizes[t]=e.readUint16();else H.error("BoxParser","Error in length field in stz2 box")});S.createFullBoxCtor("subs",function(e){var t,i,r,s;for(r=e.readUint32(),this.entries=[],t=0;t<r;t++){var n={};if(this.entries[t]=n,n.sample_delta=e.readUint32(),n.subsamples=[],s=e.readUint16(),s>0)for(i=0;i<s;i++){var a={};n.subsamples.push(a),this.version==1?a.size=e.readUint32():a.size=e.readUint16(),a.priority=e.readUint8(),a.discardable=e.readUint8(),a.codec_specific_parameters=e.readUint32()}}});S.createFullBoxCtor("tenc",function(e){if(e.readUint8(),this.version===0)e.readUint8();else{var t=e.readUint8();this.default_crypt_byte_block=t>>4&15,this.default_skip_byte_block=t&15}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=S.parseHex16(e),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))});S.createFullBoxCtor("tfdt",function(e){this.version==1?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()});S.createFullBoxCtor("tfhd",function(e){var t=0;this.track_id=e.readUint32(),this.size-this.hdr_size>t&&this.flags&S.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),t+=8):this.base_data_offset=0,this.size-this.hdr_size>t&&this.flags&S.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),t+=4):this.default_sample_description_index=0,this.size-this.hdr_size>t&&this.flags&S.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),t+=4):this.default_sample_duration=0,this.size-this.hdr_size>t&&this.flags&S.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),t+=4):this.default_sample_size=0,this.size-this.hdr_size>t&&this.flags&S.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),t+=4):this.default_sample_flags=0});S.createFullBoxCtor("tfra",function(e){this.track_ID=e.readUint32(),e.readUint24();var t=e.readUint8();this.length_size_of_traf_num=t>>4&3,this.length_size_of_trun_num=t>>2&3,this.length_size_of_sample_num=t&3,this.entries=[];for(var i=e.readUint32(),r=0;r<i;r++)this.version===1?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()});S.createFullBoxCtor("tkhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()});S.createBoxCtor("tmax",function(e){this.time=e.readUint32()});S.createBoxCtor("tmin",function(e){this.time=e.readUint32()});S.createBoxCtor("totl",function(e){this.bytessent=e.readUint32()});S.createBoxCtor("tpay",function(e){this.bytessent=e.readUint32()});S.createBoxCtor("tpyl",function(e){this.bytessent=e.readUint64()});S.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()};S.createTrackGroupCtor("msrc");S.TrackReferenceTypeBox=function(e,t,i,r){S.Box.call(this,e,t),this.hdr_size=i,this.start=r};S.TrackReferenceTypeBox.prototype=new S.Box;S.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)};S.trefBox.prototype.parse=function(e){for(var t,i;e.getPosition()<this.start+this.size;)if(t=S.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),t.code===S.OK)i=new S.TrackReferenceTypeBox(t.type,t.size,t.hdr_size,t.start),i.write===S.Box.prototype.write&&i.type!=="mdat"&&(H.info("BoxParser","TrackReference "+i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),this.boxes.push(i);else return};S.createFullBoxCtor("trep",function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;)if(ret=S.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code===S.OK)box=ret.box,this.boxes.push(box);else return});S.createFullBoxCtor("trex",function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()});S.createBoxCtor("trpy",function(e){this.bytessent=e.readUint64()});S.createFullBoxCtor("trun",function(e){var t=0;if(this.sample_count=e.readUint32(),t+=4,this.size-this.hdr_size>t&&this.flags&S.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),t+=4):this.data_offset=0,this.size-this.hdr_size>t&&this.flags&S.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),t+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>t)for(var i=0;i<this.sample_count;i++)this.flags&S.TRUN_FLAGS_DURATION&&(this.sample_duration[i]=e.readUint32()),this.flags&S.TRUN_FLAGS_SIZE&&(this.sample_size[i]=e.readUint32()),this.flags&S.TRUN_FLAGS_FLAGS&&(this.sample_flags[i]=e.readUint32()),this.flags&S.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[i]=e.readUint32():this.sample_composition_time_offset[i]=e.readInt32())});S.createFullBoxCtor("tsel",function(e){this.switch_group=e.readUint32();var t=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()});S.createFullBoxCtor("txtC",function(e){this.config=e.readCString()});S.createFullBoxCtor("url ",function(e){this.flags!==1&&(this.location=e.readCString())});S.createFullBoxCtor("urn ",function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())});S.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")});S.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(e){this.system_id=S.parseHex16(e);var t=e.readUint32();t>0&&(this.data=e.readUint8Array(t))});S.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1);S.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=S.parseHex16(e)});S.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var t=0;t<this.fragment_count;t++){var i={},r=0,s=0;this.version===1?(r=e.readUint64(),s=e.readUint64()):(r=e.readUint32(),s=e.readUint32()),i.absolute_time=r,i.absolute_duration=s,this.entries.push(i)}});S.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(e){this.version===1?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())});S.createFullBoxCtor("vmhd",function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)});S.createFullBoxCtor("vpcC",function(e){var t;this.version===1?(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4,this.chromaSubsampling=t>>1&7,this.videoFullRangeFlag=t&1,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)):(this.profile=e.readUint8(),this.level=e.readUint8(),t=e.readUint8(),this.bitDepth=t>>4&15,this.colorSpace=t&15,t=e.readUint8(),this.chromaSubsampling=t>>4&15,this.transferFunction=t>>1&7,this.videoFullRangeFlag=t&1,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize))});S.createBoxCtor("vttC",function(e){this.text=e.readString(this.size-this.hdr_size)});S.SampleEntry.prototype.isVideo=function(){return!1};S.SampleEntry.prototype.isAudio=function(){return!1};S.SampleEntry.prototype.isSubtitle=function(){return!1};S.SampleEntry.prototype.isMetadata=function(){return!1};S.SampleEntry.prototype.isHint=function(){return!1};S.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")};S.SampleEntry.prototype.getWidth=function(){return""};S.SampleEntry.prototype.getHeight=function(){return""};S.SampleEntry.prototype.getChannelCount=function(){return""};S.SampleEntry.prototype.getSampleRate=function(){return""};S.SampleEntry.prototype.getSampleSize=function(){return""};S.VisualSampleEntry.prototype.isVideo=function(){return!0};S.VisualSampleEntry.prototype.getWidth=function(){return this.width};S.VisualSampleEntry.prototype.getHeight=function(){return this.height};S.AudioSampleEntry.prototype.isAudio=function(){return!0};S.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count};S.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate};S.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize};S.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0};S.MetadataSampleEntry.prototype.isMetadata=function(){return!0};S.decimalToHex=function(e,t){var i=Number(e).toString(16);for(t=typeof t=="undefined"||t===null?t=2:t;i.length<t;)i="0"+i;return i};S.avc1SampleEntry.prototype.getCodec=S.avc2SampleEntry.prototype.getCodec=S.avc3SampleEntry.prototype.getCodec=S.avc4SampleEntry.prototype.getCodec=function(){var e=S.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+S.decimalToHex(this.avcC.AVCProfileIndication)+S.decimalToHex(this.avcC.profile_compatibility)+S.decimalToHex(this.avcC.AVCLevelIndication):e};S.hev1SampleEntry.prototype.getCodec=S.hvc1SampleEntry.prototype.getCodec=function(){var e,t=S.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C";break}t+=this.hvcC.general_profile_idc,t+=".";var i=this.hvcC.general_profile_compatibility,r=0;for(e=0;e<32&&(r|=i&1,e!=31);e++)r<<=1,i>>=1;t+=S.decimalToHex(r,0),t+=".",this.hvcC.general_tier_flag===0?t+="L":t+="H",t+=this.hvcC.general_level_idc;var s=!1,n="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||s)&&(n="."+S.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+n,s=!0);t+=n}return t};S.mp4aSampleEntry.prototype.getCodec=function(){var e=S.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var t=this.esds.esd.getOTI(),i=this.esds.esd.getAudioConfig();return e+"."+S.decimalToHex(t)+(i?"."+i:"")}else return e};S.stxtSampleEntry.prototype.getCodec=function(){var e=S.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e};S.av01SampleEntry.prototype.getCodec=function(){var e=S.SampleEntry.prototype.getCodec.call(this),t;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?t=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(t=this.av1C.high_bitdepth===1?"10":"08"),e+"."+this.av1C.seq_profile+"."+this.av1C.seq_level_idx_0+(this.av1C.seq_tier_0?"H":"M")+"."+t};S.Box.prototype.writeHeader=function(e,t){this.size+=8,this.size>Nt&&(this.size+=8),this.type==="uuid"&&(this.size+=16),H.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(t||"")),this.size>Nt?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),this.type==="uuid"&&e.writeUint8Array(this.uuid),this.size>Nt&&e.writeUint64(this.size)};S.FullBox.prototype.writeHeader=function(e){this.size+=4,S.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)};S.Box.prototype.write=function(e){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))};S.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&(this.boxes[t].write(e),this.size+=this.boxes[t].size);H.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)};S.TrackReferenceTypeBox.prototype.write=function(e){this.size=this.track_ids.length*4,this.writeHeader(e),e.writeUint32Array(this.track_ids)};S.avcCBox.prototype.write=function(e){var t;for(this.size=7,t=0;t<this.SPS.length;t++)this.size+=2+this.SPS[t].length;for(t=0;t<this.PPS.length;t++)this.size+=2+this.PPS[t].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+(63<<2)),e.writeUint8(this.SPS.length+(7<<5)),t=0;t<this.SPS.length;t++)e.writeUint16(this.SPS[t].length),e.writeUint8Array(this.SPS[t].nalu);for(e.writeUint8(this.PPS.length),t=0;t<this.PPS.length;t++)e.writeUint16(this.PPS[t].length),e.writeUint8Array(this.PPS[t].nalu);this.ext&&e.writeUint8Array(this.ext)};S.co64Box.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),t=0;t<this.chunk_offsets.length;t++)e.writeUint64(this.chunk_offsets[t])};S.cslgBox.prototype.write=function(e){var t;this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)};S.cttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),this.version===1?e.writeInt32(this.sample_offsets[t]):e.writeUint32(this.sample_offsets[t])};S.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;H.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)};S.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)};S.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeUint32(i.segment_duration),e.writeInt32(i.media_time),e.writeInt16(i.media_rate_integer),e.writeInt16(i.media_rate_fraction)}};S.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)};S.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var t=0;t<this.compatible_brands.length;t++)e.writeString(this.compatible_brands[t],null,4)};S.hdlrBox.prototype.write=function(e){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)};S.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)};S.mdhdBox.prototype.write=function(e){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)};S.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)};S.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)};S.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)};S.SampleEntry.prototype.writeHeader=function(e){this.size=8,S.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)};S.SampleEntry.prototype.writeFooter=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e),this.size+=this.boxes[t].size;H.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)};S.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,H.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)};S.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*7+6*4+32,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)};S.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*4+3*4,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)};S.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)};S.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)};S.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeInt32(i.sample_count),e.writeInt32(i.group_description_index)}};S.sgpdBox.prototype.write=function(e){var t,i;for(this.flags=0,this.size=12,t=0;t<this.entries.length;t++)i=this.entries[t],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=i.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),this.version===1&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),t=0;t<this.entries.length;t++)i=this.entries[t],this.version===1&&this.default_length===0&&e.writeUint32(i.description_length),i.write(e)};S.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var t=0;t<this.references.length;t++){var i=this.references[t];e.writeUint32(i.reference_type<<31|i.referenced_size),e.writeUint32(i.subsegment_duration),e.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}};S.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)};S.stscBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),t=0;t<this.first_chunk.length;t++)e.writeUint32(this.first_chunk[t]),e.writeUint32(this.samples_per_chunk[t]),e.writeUint32(this.sample_description_index[t])};S.stsdBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;H.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)};S.stshBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),t=0;t<this.shadowed_sample_numbers.length;t++)e.writeUint32(this.shadowed_sample_numbers[t]),e.writeUint32(this.sync_sample_numbers[t])};S.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)};S.stszBox.prototype.write=function(e){var t,i=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(t=0;t+1<this.sample_sizes.length;)if(this.sample_sizes[t+1]!==this.sample_sizes[0]){i=!1;break}else t++;else i=!1;this.size=8,i||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),i?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),i||e.writeUint32Array(this.sample_sizes)};S.sttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),e.writeUint32(this.sample_deltas[t])};S.tfdtBox.prototype.write=function(e){var t=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>t?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(e),this.version===1?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)};S.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&S.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&S.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&S.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&S.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&S.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&S.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&S.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&S.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&S.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&S.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)};S.tkhdBox.prototype.write=function(e){this.version=0,this.size=4*18+2*4,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)};S.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)};S.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&S.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&S.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&S.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&S.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&S.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&S.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&S.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&S.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var t=0;t<this.sample_count;t++)this.flags&S.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[t]),this.flags&S.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[t]),this.flags&S.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[t]),this.flags&S.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?e.writeUint32(this.sample_composition_time_offset[t]):e.writeInt32(this.sample_composition_time_offset[t]))};S["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)};S["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)};S.vmhdBox.prototype.write=function(e){var t;this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)};S.cttsBox.prototype.unpack=function(e){var t,i,r;for(r=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)e[r].pts=e[r].dts+this.sample_offsets[t],r++};S.sttsBox.prototype.unpack=function(e){var t,i,r;for(r=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)r===0?e[r].dts=0:e[r].dts=e[r-1].dts+this.sample_deltas[t],r++};S.stcoBox.prototype.unpack=function(e){var t;for(t=0;t<this.chunk_offsets.length;t++)e[t].offset=this.chunk_offsets[t]};S.stscBox.prototype.unpack=function(e){var t,i,r,s,n;for(s=0,n=0,t=0;t<this.first_chunk.length;t++)for(i=0;i<(t+1<this.first_chunk.length?this.first_chunk[t+1]:1/0);i++)for(n++,r=0;r<this.samples_per_chunk[t];r++){if(e[s])e[s].description_index=this.sample_description_index[t],e[s].chunk_index=n;else return;s++}};S.stszBox.prototype.unpack=function(e){var t;for(t=0;t<this.sample_sizes.length;t++)e[t].size=this.sample_sizes[t]};S.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"];S.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"];S.boxEqualFields=function(e,t){if(e&&!t)return!1;var i;for(i in e)if(!(S.DIFF_BOXES_PROP_NAMES.indexOf(i)>-1)){if(e[i]instanceof S.Box||t[i]instanceof S.Box)continue;if(typeof e[i]=="undefined"||typeof t[i]=="undefined")continue;if(typeof e[i]=="function"||typeof t[i]=="function")continue;if(e.subBoxNames&&e.subBoxNames.indexOf(i.slice(0,4))>-1||t.subBoxNames&&t.subBoxNames.indexOf(i.slice(0,4))>-1)continue;if(i==="data"||i==="start"||i==="size"||i==="creation_time"||i==="modification_time")continue;if(S.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(i)>-1)continue;if(e[i]!==t[i])return!1}return!0};S.boxEqual=function(e,t){if(!S.boxEqualFields(e,t))return!1;for(var i=0;i<S.DIFF_BOXES_PROP_NAMES.length;i++){var r=S.DIFF_BOXES_PROP_NAMES[i];if(e[r]&&t[r]&&!S.boxEqual(e[r],t[r]))return!1}return!0};var Mh=function(){};Mh.prototype.parseSample=function(e){var t,i,r=new he(e.buffer);for(t=[];!r.isEos();)i=S.parseOneBox(r,!1),i.code===S.OK&&i.box.type==="vttc"&&t.push(i.box);return t};Mh.prototype.getText=function(e,t,i){function r(h,f,m){return m=m||"0",h=h+"",h.length>=f?h:new Array(f-h.length+1).join(m)+h}function s(h){var f=Math.floor(h/3600),m=Math.floor((h-f*3600)/60),u=Math.floor(h-f*3600-m*60),d=Math.floor((h-f*3600-m*60-u)*1e3);return""+r(f,2)+":"+r(m,2)+":"+r(u,2)+"."+r(d,3)}for(var n=this.parseSample(i),a="",o=0;o<n.length;o++){var l=n[o];a+=s(e)+" --> "+s(t)+`\r
`,a+=l.payl.text}return a};var kh=function(){};kh.prototype.parseSample=function(e){var t={},i;t.resources=[];var r=new he(e.data.buffer);if(!e.subsamples||e.subsamples.length===0)t.documentString=r.readString(e.data.length);else if(t.documentString=r.readString(e.subsamples[0].size),e.subsamples.length>1)for(i=1;i<e.subsamples.length;i++)t.resources[i]=r.readUint8Array(e.subsamples[i].size);return typeof DOMParser!="undefined"&&(t.document=new DOMParser().parseFromString(t.documentString,"application/xml")),t};var Ma=function(){};Ma.prototype.parseSample=function(e){var t,i=new he(e.data.buffer);return t=i.readString(e.data.length),t};Ma.prototype.parseConfig=function(e){var t,i=new he(e.buffer);return i.readUint32(),t=i.readCString(),t};typeof Ee!="undefined"&&(Ee.XMLSubtitlein4Parser=kh,Ee.Textin4Parser=Ma);var Y=function(e){this.stream=e||new Ae,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};Y.prototype.setSegmentOptions=function(e,t,i){var r=this.getTrackById(e);if(r){var s={};this.fragmentedTracks.push(s),s.id=e,s.user=t,s.trak=r,r.nextSample=0,s.segmentStream=null,s.nb_samples=1e3,s.rapAlignement=!0,i&&(i.nbSamples&&(s.nb_samples=i.nbSamples),i.rapAlignement&&(s.rapAlignement=i.rapAlignement))}};Y.prototype.unsetSegmentOptions=function(e){for(var t=-1,i=0;i<this.fragmentedTracks.length;i++){var r=this.fragmentedTracks[i];r.id==e&&(t=i)}t>-1&&this.fragmentedTracks.splice(t,1)};Y.prototype.setExtractionOptions=function(e,t,i){var r=this.getTrackById(e);if(r){var s={};this.extractedTracks.push(s),s.id=e,s.user=t,s.trak=r,r.nextSample=0,s.nb_samples=1e3,s.samples=[],i&&i.nbSamples&&(s.nb_samples=i.nbSamples)}};Y.prototype.unsetExtractionOptions=function(e){for(var t=-1,i=0;i<this.extractedTracks.length;i++){var r=this.extractedTracks[i];r.id==e&&(t=i)}t>-1&&this.extractedTracks.splice(t,1)};Y.prototype.parse=function(){var e,t,i,r=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),t=S.parseOneBox(this.stream,r),t.code===S.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(t))continue;return}else return;else{var s;switch(i=t.box,s=i.type!=="uuid"?i.type:i.uuid,this.boxes.push(i),s){case"mdat":this.mdats.push(i);break;case"moof":this.moofs.push(i);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[s]!==void 0&&H.warn("ISOFile","Duplicate Box of type: "+s+", overriding previous occurrence"),this[s]=i;break}this.updateUsedBytes&&this.updateUsedBytes(i,t)}};Y.prototype.checkBuffer=function(e){if(e==null)throw"Buffer must be defined and non empty";if(e.fileStart===void 0)throw"Buffer must have a fileStart property";return e.byteLength===0?(H.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(H.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),this.stream.initialized()?!0:(H.warn("ISOFile","Not ready to start parsing"),!1))};Y.prototype.appendBuffer=function(e,t){var i;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(t),this.nextSeekPosition?(i=this.nextSeekPosition,this.nextSeekPosition=void 0):i=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(i=this.stream.getEndFilePositionAfter(i))):this.nextParsePosition?i=this.nextParsePosition:i=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(H.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+i),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),H.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),i};Y.prototype.getInfo=function(){var e,t,i={},r,s,n,a=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(i.hasMoov=!0,i.duration=this.moov.mvhd.duration,i.timescale=this.moov.mvhd.timescale,i.isFragmented=this.moov.mvex!=null,i.isFragmented&&this.moov.mvex.mehd&&(i.fragment_duration=this.moov.mvex.mehd.fragment_duration),i.isProgressive=this.isProgressive,i.hasIOD=this.moov.iods!=null,i.brands=[],i.brands.push(this.ftyp.major_brand),i.brands=i.brands.concat(this.ftyp.compatible_brands),i.created=new Date(a+this.moov.mvhd.creation_time*1e3),i.modified=new Date(a+this.moov.mvhd.modification_time*1e3),i.tracks=[],i.audioTracks=[],i.videoTracks=[],i.subtitleTracks=[],i.metadataTracks=[],i.hintTracks=[],i.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(r=this.moov.traks[e],n=r.mdia.minf.stbl.stsd.entries[0],s={},i.tracks.push(s),s.id=r.tkhd.track_id,s.name=r.mdia.hdlr.name,s.references=[],r.tref)for(t=0;t<r.tref.boxes.length;t++)ref={},s.references.push(ref),ref.type=r.tref.boxes[t].type,ref.track_ids=r.tref.boxes[t].track_ids;r.edts&&(s.edits=r.edts.elst.entries),s.created=new Date(a+r.tkhd.creation_time*1e3),s.modified=new Date(a+r.tkhd.modification_time*1e3),s.movie_duration=r.tkhd.duration,s.movie_timescale=i.timescale,s.layer=r.tkhd.layer,s.alternate_group=r.tkhd.alternate_group,s.volume=r.tkhd.volume,s.matrix=r.tkhd.matrix,s.track_width=r.tkhd.width/(1<<16),s.track_height=r.tkhd.height/(1<<16),s.timescale=r.mdia.mdhd.timescale,s.cts_shift=r.mdia.minf.stbl.cslg,s.duration=r.mdia.mdhd.duration,s.samples_duration=r.samples_duration,s.codec=n.getCodec(),s.kind=r.udta&&r.udta.kinds.length?r.udta.kinds[0]:{schemeURI:"",value:""},s.language=r.mdia.elng?r.mdia.elng.extended_language:r.mdia.mdhd.languageString,s.nb_samples=r.samples.length,s.size=r.samples_size,s.bitrate=s.size*8*s.timescale/s.samples_duration,n.isAudio()?(s.type="audio",i.audioTracks.push(s),s.audio={},s.audio.sample_rate=n.getSampleRate(),s.audio.channel_count=n.getChannelCount(),s.audio.sample_size=n.getSampleSize()):n.isVideo()?(s.type="video",i.videoTracks.push(s),s.video={},s.video.width=n.getWidth(),s.video.height=n.getHeight()):n.isSubtitle()?(s.type="subtitles",i.subtitleTracks.push(s)):n.isHint()?(s.type="metadata",i.hintTracks.push(s)):n.isMetadata()?(s.type="metadata",i.metadataTracks.push(s)):(s.type="metadata",i.otherTracks.push(s))}else i.hasMoov=!1;if(i.mime="",i.hasMoov&&i.tracks){for(i.videoTracks&&i.videoTracks.length>0?i.mime+='video/mp4; codecs="':i.audioTracks&&i.audioTracks.length>0?i.mime+='audio/mp4; codecs="':i.mime+='application/mp4; codecs="',e=0;e<i.tracks.length;e++)e!==0&&(i.mime+=","),i.mime+=i.tracks[e].codec;i.mime+='"; profiles="',i.mime+=this.ftyp.compatible_brands.join(),i.mime+='"'}return i};Y.prototype.processSamples=function(e){var t,i;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(t=0;t<this.fragmentedTracks.length;t++){var r=this.fragmentedTracks[t];for(i=r.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){H.debug("ISOFile","Creating media fragment on track #"+r.id+" for sample "+i.nextSample);var s=this.createFragment(r.id,i.nextSample,r.segmentStream);if(s)r.segmentStream=s,i.nextSample++;else break;if((i.nextSample%r.nb_samples===0||e||i.nextSample>=i.samples.length)&&(H.info("ISOFile","Sending fragmented data on track #"+r.id+" for samples ["+Math.max(0,i.nextSample-r.nb_samples)+","+(i.nextSample-1)+"]"),H.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(r.id,r.user,r.segmentStream.buffer,i.nextSample,e||i.nextSample>=i.samples.length),r.segmentStream=null,r!==this.fragmentedTracks[t]))break}}if(this.onSamples!==null)for(t=0;t<this.extractedTracks.length;t++){var n=this.extractedTracks[t];for(i=n.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){H.debug("ISOFile","Exporting on track #"+n.id+" sample #"+i.nextSample);var a=this.getSample(i,i.nextSample);if(a)i.nextSample++,n.samples.push(a);else break;if((i.nextSample%n.nb_samples===0||i.nextSample>=i.samples.length)&&(H.debug("ISOFile","Sending samples on track #"+n.id+" for sample "+i.nextSample),this.onSamples&&this.onSamples(n.id,n.user,n.samples),n.samples=[],n!==this.extractedTracks[t]))break}}}};Y.prototype.getBox=function(e){var t=this.getBoxes(e,!0);return t.length?t[0]:null};Y.prototype.getBoxes=function(e,t){var i=[];return Y._sweep.call(this,e,i,t),i};Y._sweep=function(e,t,i){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&i)return;Y._sweep.call(this.boxes[r],e,t,i)}};Y.prototype.getTrackSamplesInfo=function(e){var t=this.getTrackById(e);if(t)return t.samples};Y.prototype.getTrackSample=function(e,t){var i=this.getTrackById(e),r=this.getSample(i,t);return r};Y.prototype.releaseUsedSamples=function(e,t){var i=0,r=this.getTrackById(e);r.lastValidSample||(r.lastValidSample=0);for(var s=r.lastValidSample;s<t;s++)i+=this.releaseSample(r,s);H.info("ISOFile","Track #"+e+" released samples up to "+t+" (released size: "+i+", remaining: "+this.samplesDataSize+")"),r.lastValidSample=t};Y.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)};Y.prototype.stop=function(){this.sampleProcessingStarted=!1};Y.prototype.flush=function(){H.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)};Y.prototype.seekTrack=function(e,t,i){var r,s,n=1/0,a=0,o=0,l;if(i.samples.length===0)return H.info("ISOFile","No sample in track, cannot seek! Using time "+H.getDurationString(0,1)+" and offset: "+0),{offset:0,time:0};for(r=0;r<i.samples.length;r++){if(s=i.samples[r],r===0)o=0,l=s.timescale;else if(s.cts>e*s.timescale){o=r-1;break}t&&s.is_sync&&(a=r)}for(t&&(o=a),e=i.samples[o].cts,i.nextSample=o;i.samples[o].alreadyRead===i.samples[o].size&&i.samples[o+1];)o++;return n=i.samples[o].offset+i.samples[o].alreadyRead,H.info("ISOFile","Seeking to "+(t?"RAP":"")+" sample #"+i.nextSample+" on track "+i.tkhd.track_id+", time "+H.getDurationString(e,l)+" and offset: "+n),{offset:n,time:e/l}};Y.prototype.seek=function(e,t){var i=this.moov,r,s,n,a={offset:1/0,time:1/0};if(this.moov){for(n=0;n<i.traks.length;n++)r=i.traks[n],s=this.seekTrack(e,t,r),s.offset<a.offset&&(a.offset=s.offset),s.time<a.time&&(a.time=s.time);return H.info("ISOFile","Seeking at time "+H.getDurationString(a.time,1)+" needs a buffer with a fileStart position of "+a.offset),a.offset===1/0?a={offset:this.nextParsePosition,time:0}:a.offset=this.stream.getEndFilePositionAfter(a.offset),H.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+a.offset),a}else throw"Cannot seek: moov not received!"};Y.prototype.equal=function(e){for(var t=0;t<this.boxes.length&&t<e.boxes.length;){var i=this.boxes[t],r=e.boxes[t];if(!S.boxEqual(i,r))return!1;t++}return!0};typeof Ee!="undefined"&&(Ee.ISOFile=Y);Y.prototype.lastBoxStartPosition=0;Y.prototype.parsingMdat=null;Y.prototype.nextParsePosition=0;Y.prototype.discardMdatData=!1;Y.prototype.processIncompleteBox=function(e){var t,i,r;return e.type==="mdat"?(t=new S[e.type+"Box"](e.size),this.parsingMdat=t,this.boxes.push(t),this.mdats.push(t),t.start=e.start,t.hdr_size=e.hdr_size,this.stream.addUsedBytes(t.hdr_size),this.lastBoxStartPosition=t.start+t.size,r=this.stream.seek(t.start+t.size,!1,this.discardMdatData),r?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=t.start+t.size,!1)):(e.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),i=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,i?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))};Y.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null};Y.prototype.processIncompleteMdat=function(){var e,t;return e=this.parsingMdat,t=this.stream.seek(e.start+e.size,!1,this.discardMdatData),t?(H.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)};Y.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)};Y.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()};Y.prototype.updateUsedBytes=function(e,t){this.stream.addUsedBytes&&(e.type==="mdat"?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))};Y.prototype.add=S.Box.prototype.add;Y.prototype.addBox=S.Box.prototype.addBox;Y.prototype.init=function(e){var t=e||{},i=this.add("ftyp").set("major_brand",t.brands&&t.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",t.brands||["iso4"]),r=this.add("moov");return r.add("mvhd").set("timescale",t.timescale||600).set("rate",t.rate||1<<16).set("creation_time",0).set("modification_time",0).set("duration",t.duration||0).set("volume",t.width?0:256).set("matrix",[1<<16,0,0,0,1<<16,0,0,0,1073741824]).set("next_track_id",1),r.add("mvex"),this};Y.prototype.addTrack=function(e){this.moov||this.init(e);var t=e||{};t.width=t.width||320,t.height=t.height||320,t.id=t.id||this.moov.mvhd.next_track_id,t.type=t.type||"avc1";var i=this.moov.add("trak");this.moov.mvhd.next_track_id=t.id+1,i.add("tkhd").set("flags",S.TKHD_FLAG_ENABLED|S.TKHD_FLAG_IN_MOVIE|S.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",t.id).set("duration",t.duration||0).set("layer",t.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",t.width).set("height",t.height);var r=i.add("mdia");r.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",t.timescale||1).set("duration",t.media_duration||0).set("language",t.language||"und"),r.add("hdlr").set("handler",t.hdlr||"vide").set("name",t.name||"Track created with MP4Box.js"),r.add("elng").set("extended_language",t.language||"fr-FR");var s=r.add("minf");if(S[t.type+"SampleEntry"]!==void 0){var n=new S[t.type+"SampleEntry"];n.data_reference_index=1;var a="";for(var o in S.sampleEntryCodes)for(var l=S.sampleEntryCodes[o],h=0;h<l.length;h++)if(l.indexOf(t.type)>-1){a=o;break}switch(a){case"Visual":if(s.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),n.set("width",t.width).set("height",t.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",t.type+" Compressor").set("depth",24),t.avcDecoderConfigRecord){var f=new S.avcCBox,m=new he(t.avcDecoderConfigRecord);f.parse(m),n.addBox(f)}break;case"Audio":s.add("smhd").set("balance",t.balance||0),n.set("channel_count",t.channel_count||2).set("samplesize",t.samplesize||16).set("samplerate",t.samplerate||1<<16);break;case"Hint":s.add("hmhd");break;case"Subtitle":switch(s.add("sthd"),t.type){case"stpp":n.set("namespace",t.namespace||"nonamespace").set("schema_location",t.schema_location||"").set("auxiliary_mime_types",t.auxiliary_mime_types||"");break}break;case"Metadata":s.add("nmhd");break;case"System":s.add("nmhd");break;default:s.add("nmhd");break}t.description&&n.addBox(t.description),t.description_boxes&&t.description_boxes.forEach(function(d){n.addBox(d)}),s.add("dinf").add("dref").addEntry(new S["url Box"]().set("flags",1));var u=s.add("stbl");return u.add("stsd").addEntry(n),u.add("stts").set("sample_counts",[]).set("sample_deltas",[]),u.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),u.add("stco").set("chunk_offsets",[]),u.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",t.id).set("default_sample_description_index",t.default_sample_description_index||1).set("default_sample_duration",t.default_sample_duration||0).set("default_sample_size",t.default_sample_size||0).set("default_sample_flags",t.default_sample_flags||0),this.buildTrakSampleLists(i),t.id}};S.Box.prototype.computeSize=function(e){var t=e||new N;t.endianness=N.BIG_ENDIAN,this.write(t)};Y.prototype.addSample=function(e,t,i){var r=i||{},s={},n=this.getTrackById(e);if(n!==null){s.number=n.samples.length,s.track_id=n.tkhd.track_id,s.timescale=n.mdia.mdhd.timescale,s.description_index=r.sample_description_index?r.sample_description_index-1:0,s.description=n.mdia.minf.stbl.stsd.entries[s.description_index],s.data=t,s.size=t.byteLength,s.alreadyRead=s.size,s.duration=r.duration||1,s.cts=r.cts||0,s.dts=r.dts||0,s.is_sync=r.is_sync||!1,s.is_leading=r.is_leading||0,s.depends_on=r.depends_on||0,s.is_depended_on=r.is_depended_on||0,s.has_redundancy=r.has_redundancy||0,s.degradation_priority=r.degradation_priority||0,s.offset=0,s.subsamples=r.subsamples,n.samples.push(s),n.samples_size+=s.size,n.samples_duration+=s.duration,n.first_dts||(n.first_dts=r.dts),this.processSamples();var a=this.createSingleSampleMoof(s);return this.addBox(a),a.computeSize(),a.trafs[0].truns[0].data_offset=a.size+8,this.add("mdat").data=new Uint8Array(t),s}};Y.prototype.createSingleSampleMoof=function(e){var t=0;e.is_sync?t=1<<25:t=1<<16;var i=new S.moofBox;i.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var r=i.add("traf"),s=this.getTrackById(e.track_id);return r.add("tfhd").set("track_id",e.track_id).set("flags",S.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),r.add("tfdt").set("baseMediaDecodeTime",e.dts-s.first_dts),r.add("trun").set("flags",S.TRUN_FLAGS_DATA_OFFSET|S.TRUN_FLAGS_DURATION|S.TRUN_FLAGS_SIZE|S.TRUN_FLAGS_FLAGS|S.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[t]).set("sample_composition_time_offset",[e.cts-e.dts]),i};Y.prototype.lastMoofIndex=0;Y.prototype.samplesDataSize=0;Y.prototype.resetTables=function(){var e,t,i,r,s,n,a,o;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){t=this.moov.traks[e],t.tkhd.duration=0,t.mdia.mdhd.duration=0,i=t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64,i.chunk_offsets=[],r=t.mdia.minf.stbl.stsc,r.first_chunk=[],r.samples_per_chunk=[],r.sample_description_index=[],s=t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2,s.sample_sizes=[],n=t.mdia.minf.stbl.stts,n.sample_counts=[],n.sample_deltas=[],a=t.mdia.minf.stbl.ctts,a&&(a.sample_counts=[],a.sample_offsets=[]),o=t.mdia.minf.stbl.stss;var l=t.mdia.minf.stbl.boxes.indexOf(o);l!=-1&&(t.mdia.minf.stbl.boxes[l]=null)}};Y.initSampleGroups=function(e,t,i,r,s){var n,a,o,l,h;function f(m,u,d){this.grouping_type=m,this.grouping_type_parameter=u,this.sbgp=d,this.last_sample_in_run=-1,this.entry_index=-1}for(t&&(t.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),a=0;a<i.length;a++){for(h=i[a].grouping_type+"/"+i[a].grouping_type_parameter,l=new f(i[a].grouping_type,i[a].grouping_type_parameter,i[a]),t&&(t.sample_groups_info[h]=l),e.sample_groups_info[h]||(e.sample_groups_info[h]=l),n=0;n<r.length;n++)r[n].grouping_type===i[a].grouping_type&&(l.description=r[n],l.description.used=!0);if(s)for(n=0;n<s.length;n++)s[n].grouping_type===i[a].grouping_type&&(l.fragment_description=s[n],l.fragment_description.used=!0,l.is_fragment=!0)}if(t){if(s)for(a=0;a<s.length;a++)!s[a].used&&s[a].version>=2&&(h=s[a].grouping_type+"/0",l=new f(s[a].grouping_type,0),l.is_fragment=!0,t.sample_groups_info[h]||(t.sample_groups_info[h]=l))}else for(a=0;a<r.length;a++)!r[a].used&&r[a].version>=2&&(h=r[a].grouping_type+"/0",l=new f(r[a].grouping_type,0),e.sample_groups_info[h]||(e.sample_groups_info[h]=l))};Y.setSampleGroupProperties=function(e,t,i,r){var s,n;t.sample_groups=[];for(s in r)if(t.sample_groups[s]={},t.sample_groups[s].grouping_type=r[s].grouping_type,t.sample_groups[s].grouping_type_parameter=r[s].grouping_type_parameter,i>=r[s].last_sample_in_run&&(r[s].last_sample_in_run<0&&(r[s].last_sample_in_run=0),r[s].entry_index++,r[s].entry_index<=r[s].sbgp.entries.length-1&&(r[s].last_sample_in_run+=r[s].sbgp.entries[r[s].entry_index].sample_count)),r[s].entry_index<=r[s].sbgp.entries.length-1?t.sample_groups[s].group_description_index=r[s].sbgp.entries[r[s].entry_index].group_description_index:t.sample_groups[s].group_description_index=-1,t.sample_groups[s].group_description_index!==0){var a;r[s].fragment_description?a=r[s].fragment_description:a=r[s].description,t.sample_groups[s].group_description_index>0?(t.sample_groups[s].group_description_index>65535?n=(t.sample_groups[s].group_description_index>>16)-1:n=t.sample_groups[s].group_description_index-1,a&&n>=0&&(t.sample_groups[s].description=a.entries[n])):a&&a.version>=2&&a.default_group_description_index>0&&(t.sample_groups[s].description=a.entries[a.default_group_description_index-1])}};Y.process_sdtp=function(e,t,i){t&&(e?(t.is_leading=e.is_leading[i],t.depends_on=e.sample_depends_on[i],t.is_depended_on=e.sample_is_depended_on[i],t.has_redundancy=e.sample_has_redundancy[i]):(t.is_leading=0,t.depends_on=0,t.is_depended_on=0,t.has_redundancy=0))};Y.prototype.buildSampleLists=function(){var e,t;for(e=0;e<this.moov.traks.length;e++)t=this.moov.traks[e],this.buildTrakSampleLists(t)};Y.prototype.buildTrakSampleLists=function(e){var t,i,r,s,n,a,o,l,h,f,m,u,d,g,p,x,c,_,y,b,E,w,A,P,L,O;if(e.samples=[],e.samples_duration=0,e.samples_size=0,r=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,s=e.mdia.minf.stbl.stsc,n=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,a=e.mdia.minf.stbl.stts,o=e.mdia.minf.stbl.ctts,l=e.mdia.minf.stbl.stss,h=e.mdia.minf.stbl.stsd,f=e.mdia.minf.stbl.subs,d=e.mdia.minf.stbl.stdp,m=e.mdia.minf.stbl.sbgps,u=e.mdia.minf.stbl.sgpds,y=-1,b=-1,E=-1,w=-1,A=0,L=0,O=0,Y.initSampleGroups(e,null,m,u),typeof n!="undefined"){for(t=0;t<n.sample_sizes.length;t++){var F={};F.number=t,F.track_id=e.tkhd.track_id,F.timescale=e.mdia.mdhd.timescale,F.alreadyRead=0,e.samples[t]=F,F.size=n.sample_sizes[t],e.samples_size+=F.size,t===0?(p=1,g=0,F.chunk_index=p,F.chunk_run_index=g,_=s.samples_per_chunk[g],c=0,g+1<s.first_chunk.length?x=s.first_chunk[g+1]-1:x=1/0):t<_?(F.chunk_index=p,F.chunk_run_index=g):(p++,F.chunk_index=p,c=0,p<=x||(g++,g+1<s.first_chunk.length?x=s.first_chunk[g+1]-1:x=1/0),F.chunk_run_index=g,_+=s.samples_per_chunk[g]),F.description_index=s.sample_description_index[F.chunk_run_index]-1,F.description=h.entries[F.description_index],F.offset=r.chunk_offsets[F.chunk_index-1]+c,c+=F.size,t>y&&(b++,y<0&&(y=0),y+=a.sample_counts[b]),t>0?(e.samples[t-1].duration=a.sample_deltas[b],e.samples_duration+=e.samples[t-1].duration,F.dts=e.samples[t-1].dts+e.samples[t-1].duration):F.dts=0,o?(t>=E&&(w++,E<0&&(E=0),E+=o.sample_counts[w]),F.cts=e.samples[t].dts+o.sample_offsets[w]):F.cts=F.dts,l?(t==l.sample_numbers[A]-1?(F.is_sync=!0,A++):(F.is_sync=!1,F.degradation_priority=0),f&&f.entries[L].sample_delta+O==t+1&&(F.subsamples=f.entries[L].subsamples,O+=f.entries[L].sample_delta,L++)):F.is_sync=!0,Y.process_sdtp(e.mdia.minf.stbl.sdtp,F,F.number),d?F.degradation_priority=d.priority[t]:F.degradation_priority=0,f&&f.entries[L].sample_delta+O==t&&(F.subsamples=f.entries[L].subsamples,O+=f.entries[L].sample_delta),(m.length>0||u.length>0)&&Y.setSampleGroupProperties(e,F,t,e.sample_groups_info)}t>0&&(e.samples[t-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[t-1].dts,0),e.samples_duration+=e.samples[t-1].duration)}};Y.prototype.updateSampleLists=function(){var e,t,i,r,s,n,a,o,l,h,f,m,u,d,g;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(l=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,l.type=="moof")for(h=l,e=0;e<h.trafs.length;e++){for(f=h.trafs[e],m=this.getTrackById(f.tfhd.track_id),u=this.getTrexById(f.tfhd.track_id),f.tfhd.flags&S.TFHD_FLAG_SAMPLE_DESC?r=f.tfhd.default_sample_description_index:r=u?u.default_sample_description_index:1,f.tfhd.flags&S.TFHD_FLAG_SAMPLE_DUR?s=f.tfhd.default_sample_duration:s=u?u.default_sample_duration:0,f.tfhd.flags&S.TFHD_FLAG_SAMPLE_SIZE?n=f.tfhd.default_sample_size:n=u?u.default_sample_size:0,f.tfhd.flags&S.TFHD_FLAG_SAMPLE_FLAGS?a=f.tfhd.default_sample_flags:a=u?u.default_sample_flags:0,f.sample_number=0,f.sbgps.length>0&&Y.initSampleGroups(m,f,f.sbgps,m.mdia.minf.stbl.sgpds,f.sgpds),t=0;t<f.truns.length;t++){var p=f.truns[t];for(i=0;i<p.sample_count;i++){d={},d.moof_number=this.lastMoofIndex,d.number_in_traf=f.sample_number,f.sample_number++,d.number=m.samples.length,f.first_sample_index=m.samples.length,m.samples.push(d),d.track_id=m.tkhd.track_id,d.timescale=m.mdia.mdhd.timescale,d.description_index=r-1,d.description=m.mdia.minf.stbl.stsd.entries[d.description_index],d.size=n,p.flags&S.TRUN_FLAGS_SIZE&&(d.size=p.sample_size[i]),m.samples_size+=d.size,d.duration=s,p.flags&S.TRUN_FLAGS_DURATION&&(d.duration=p.sample_duration[i]),m.samples_duration+=d.duration,m.first_traf_merged||i>0?d.dts=m.samples[m.samples.length-2].dts+m.samples[m.samples.length-2].duration:(f.tfdt?d.dts=f.tfdt.baseMediaDecodeTime:d.dts=0,m.first_traf_merged=!0),d.cts=d.dts,p.flags&S.TRUN_FLAGS_CTS_OFFSET&&(d.cts=d.dts+p.sample_composition_time_offset[i]),g=a,p.flags&S.TRUN_FLAGS_FLAGS?g=p.sample_flags[i]:i===0&&p.flags&S.TRUN_FLAGS_FIRST_FLAG&&(g=p.first_sample_flags),d.is_sync=!(g>>16&1),d.is_leading=g>>26&3,d.depends_on=g>>24&3,d.is_depended_on=g>>22&3,d.has_redundancy=g>>20&3,d.degradation_priority=g&65535;var x=!!(f.tfhd.flags&S.TFHD_FLAG_BASE_DATA_OFFSET),c=!!(f.tfhd.flags&S.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),_=!!(p.flags&S.TRUN_FLAGS_DATA_OFFSET),y=0;x?y=f.tfhd.base_data_offset:c||t===0?y=h.start:y=o,t===0&&i===0?_?d.offset=y+p.data_offset:d.offset=y:d.offset=o,o=d.offset+d.size,(f.sbgps.length>0||f.sgpds.length>0||m.mdia.minf.stbl.sbgps.length>0||m.mdia.minf.stbl.sgpds.length>0)&&Y.setSampleGroupProperties(m,d,d.number_in_traf,f.sample_groups_info)}}if(f.subs){m.has_fragment_subsamples=!0;var b=f.first_sample_index;for(t=0;t<f.subs.entries.length;t++)b+=f.subs.entries[t].sample_delta,d=m.samples[b-1],d.subsamples=f.subs.entries[t].subsamples}}}};Y.prototype.getSample=function(e,t){var i,r=e.samples[t];if(!this.moov)return null;if(!r.data)r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,H.debug("ISOFile","Allocating sample #"+t+" on track #"+e.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");else if(r.alreadyRead==r.size)return r;for(;;){var s=this.stream.findPosition(!0,r.offset+r.alreadyRead,!1);if(s>-1){i=this.stream.buffers[s];var n=i.byteLength-(r.offset+r.alreadyRead-i.fileStart);if(r.size-r.alreadyRead<=n)return H.debug("ISOFile","Getting sample #"+t+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),N.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,r.size-r.alreadyRead),i.usedBytes+=r.size-r.alreadyRead,this.stream.logBufferLevel(),r.alreadyRead=r.size,r;if(n===0)return null;H.debug("ISOFile","Getting sample #"+t+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+n+" full size: "+r.size+")"),N.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,n),r.alreadyRead+=n,i.usedBytes+=n,this.stream.logBufferLevel()}else return null}};Y.prototype.releaseSample=function(e,t){var i=e.samples[t];return i.data?(this.samplesDataSize-=i.size,i.data=null,i.alreadyRead=0,i.size):0};Y.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize};Y.prototype.getCodecs=function(){var e,t="";for(e=0;e<this.moov.traks.length;e++){var i=this.moov.traks[e];e>0&&(t+=","),t+=i.mdia.minf.stbl.stsd.entries[0].getCodec()}return t};Y.prototype.getTrexById=function(e){var t;if(!this.moov||!this.moov.mvex)return null;for(t=0;t<this.moov.mvex.trexs.length;t++){var i=this.moov.mvex.trexs[t];if(i.track_id==e)return i}return null};Y.prototype.getTrackById=function(e){if(this.moov===void 0)return null;for(var t=0;t<this.moov.traks.length;t++){var i=this.moov.traks[t];if(i.tkhd.track_id==e)return i}return null};Y.prototype.items=[];Y.prototype.itemsDataSize=0;Y.prototype.flattenItemInfo=function(){var e=this.items,t,i,r,s=this.meta;if(s!=null&&s.hdlr!==void 0&&s.iinf!==void 0){for(t=0;t<s.iinf.item_infos.length;t++)r={},r.id=s.iinf.item_infos[t].item_ID,e[r.id]=r,r.ref_to=[],r.name=s.iinf.item_infos[t].item_name,s.iinf.item_infos[t].protection_index>0&&(r.protection=s.ipro.protections[s.iinf.item_infos[t].protection_index-1]),s.iinf.item_infos[t].item_type?r.type=s.iinf.item_infos[t].item_type:r.type="mime",r.content_type=s.iinf.item_infos[t].content_type,r.content_encoding=s.iinf.item_infos[t].content_encoding;if(s.iloc)for(t=0;t<s.iloc.items.length;t++){var n,a=s.iloc.items[t];switch(r=e[a.item_ID],a.data_reference_index!==0&&(H.warn("Item storage with reference to other files: not supported"),r.source=s.dinf.boxes[a.data_reference_index-1]),a.construction_method){case 0:break;case 1:H.warn("Item storage with construction_method : not supported");break;case 2:H.warn("Item storage with construction_method : not supported");break}for(r.extents=[],r.size=0,i=0;i<a.extents.length;i++)r.extents[i]={},r.extents[i].offset=a.extents[i].extent_offset+a.base_offset,r.extents[i].length=a.extents[i].extent_length,r.extents[i].alreadyRead=0,r.size+=r.extents[i].length}if(s.pitm&&(e[s.pitm.item_id].primary=!0),s.iref)for(t=0;t<s.iref.references.length;t++){var o=s.iref.references[t];for(i=0;i<o.references.length;i++)e[o.from_item_ID].ref_to.push({type:o.type,id:o.references[i]})}if(s.iprp)for(var l=0;l<s.iprp.ipmas.length;l++){var h=s.iprp.ipmas[l];for(t=0;t<h.associations.length;t++){var f=h.associations[t];for(r=e[f.id],r.properties===void 0&&(r.properties={},r.properties.boxes=[]),i=0;i<f.props.length;i++){var m=f.props[i];if(m.property_index>0&&m.property_index-1<s.iprp.ipco.boxes.length){var u=s.iprp.ipco.boxes[m.property_index-1];r.properties[u.type]=u,r.properties.boxes.push(u)}}}}}};Y.prototype.getItem=function(e){var t,i;if(!this.meta)return null;if(i=this.items[e],!i.data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,H.debug("ISOFile","Allocating item #"+e+" of size "+i.size+" (total: "+this.itemsDataSize+")");else if(i.alreadyRead===i.size)return i;for(var r=0;r<i.extents.length;r++){var s=i.extents[r];if(s.alreadyRead!==s.length){var n=this.stream.findPosition(!0,s.offset+s.alreadyRead,!1);if(n>-1){t=this.stream.buffers[n];var a=t.byteLength-(s.offset+s.alreadyRead-t.fileStart);if(s.length-s.alreadyRead<=a)H.debug("ISOFile","Getting item #"+e+" extent #"+r+" data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-t.fileStart)+" read size: "+(s.length-s.alreadyRead)+" full extent size: "+s.length+" full item size: "+i.size+")"),N.memcpy(i.data.buffer,i.alreadyRead,t,s.offset+s.alreadyRead-t.fileStart,s.length-s.alreadyRead),t.usedBytes+=s.length-s.alreadyRead,this.stream.logBufferLevel(),i.alreadyRead+=s.length-s.alreadyRead,s.alreadyRead=s.length;else return H.debug("ISOFile","Getting item #"+e+" extent #"+r+" partial data (alreadyRead: "+s.alreadyRead+" offset: "+(s.offset+s.alreadyRead-t.fileStart)+" read size: "+a+" full extent size: "+s.length+" full item size: "+i.size+")"),N.memcpy(i.data.buffer,i.alreadyRead,t,s.offset+s.alreadyRead-t.fileStart,a),s.alreadyRead+=a,i.alreadyRead+=a,t.usedBytes+=a,this.stream.logBufferLevel(),null}else return null}}return i.alreadyRead===i.size?i:null};Y.prototype.releaseItem=function(e){var t=this.items[e];if(t.data){this.itemsDataSize-=t.size,t.data=null,t.alreadyRead=0;for(var i=0;i<t.extents.length;i++){var r=t.extents[i];r.alreadyRead=0}return t.size}else return 0};Y.prototype.processItems=function(e){for(var t in this.items){var i=this.items[t];this.getItem(i.id),e&&!i.sent&&(e(i),i.sent=!0,i.data=null)}};Y.prototype.hasItem=function(e){for(var t in this.items){var i=this.items[t];if(i.name===e)return i.id}return-1};Y.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null};Y.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)};Y.prototype.itemToFragmentedTrackFile=function(e){var t=e||{},i=null;if(t.itemId?i=this.getItem(t.itemId):i=this.getPrimaryItem(),i==null)return null;var r=new Y;r.discardMdatData=!1;var s={type:i.type,description_boxes:i.properties.boxes};i.properties.ispe&&(s.width=i.properties.ispe.image_width,s.height=i.properties.ispe.image_height);var n=r.addTrack(s);return n?(r.addSample(n,i.data),r):null};Y.prototype.write=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e)};Y.prototype.createFragment=function(e,t,i){var r=this.getTrackById(e),s=this.getSample(r,t);if(s==null)return s=r.samples[t],this.nextSeekPosition?this.nextSeekPosition=Math.min(s.offset+s.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=r.samples[t].offset+s.alreadyRead,null;var n=i||new N;n.endianness=N.BIG_ENDIAN;var a=this.createSingleSampleMoof(s);a.write(n),a.trafs[0].truns[0].data_offset=a.size+8,H.debug("MP4Box","Adjusting data_offset with new value "+a.trafs[0].truns[0].data_offset),n.adjustUint32(a.trafs[0].truns[0].data_offset_position,a.trafs[0].truns[0].data_offset);var o=new S.mdatBox;return o.data=s.data,o.write(n),n};Y.writeInitializationSegment=function(e,t,i,r){var s,n,a,o,l;H.debug("ISOFile","Generating initialization segment");var h=new N;h.endianness=N.BIG_ENDIAN,e.write(h);var f=t.add("mvex");for(i&&f.add("mehd").set("fragment_duration",i),s=0;s<t.traks.length;s++)f.add("trex").set("track_id",t.traks[s].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",r).set("default_sample_size",0).set("default_sample_flags",1<<16);return t.write(h),h.buffer};Y.prototype.save=function(e){var t=new N;t.endianness=N.BIG_ENDIAN,this.write(t),t.save(e)};Y.prototype.getBuffer=function(){var e=new N;return e.endianness=N.BIG_ENDIAN,this.write(e),e.buffer};Y.prototype.initializeSegmentation=function(){var e,t,i,r,s,n;for(this.onSegment===null&&H.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),r=[],e=0;e<this.fragmentedTracks.length;e++){var a=new S.moovBox;a.mvhd=this.moov.mvhd,a.boxes.push(a.mvhd),s=this.getTrackById(this.fragmentedTracks[e].id),a.boxes.push(s),a.traks.push(s),n={},n.id=s.tkhd.track_id,n.user=this.fragmentedTracks[e].user,n.buffer=Y.writeInitializationSegment(this.ftyp,a,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),r.push(n)}return r};S.Box.prototype.printHeader=function(e){this.size+=8,this.size>Nt&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)};S.FullBox.prototype.printHeader=function(e){this.size+=4,S.Box.prototype.printHeader.call(this,e),e.log(e.indent+"version:"+this.version),e.log(e.indent+"flags:"+this.flags)};S.Box.prototype.print=function(e){this.printHeader(e)};S.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var t=0;t<this.boxes.length;t++)if(this.boxes[t]){var i=e.indent;e.indent+=" ",this.boxes[t].print(e),e.indent=i}};Y.prototype.print=function(e){e.indent="";for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&this.boxes[t].print(e)};S.mvhdBox.prototype.print=function(e){S.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)};S.tkhdBox.prototype.print=function(e){S.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)};var Ih={};Ih.createFile=function(e,t){var i=e!==void 0?e:!0,r=new Y(t);return r.discardMdatData=!i,r};typeof Ee!="undefined"&&(Ee.createFile=Ih.createFile)});var $h=ri((Ba,Ra)=>{(function(e,t){typeof Ba=="object"&&typeof Ra!="undefined"?Ra.exports=t():typeof define=="function"&&define.amd?define(t):e.Splitting=t()})(Ba,function(){"use strict";var e=document,t=e.createTextNode.bind(e);function i(M,U,$){M.style.setProperty(U,$)}function r(M,U){return M.appendChild(U)}function s(M,U,$,G){var W=e.createElement("span");return U&&(W.className=U),$&&(!G&&W.setAttribute("data-"+U,$),W.textContent=$),M&&r(M,W)||W}function n(M,U){return M.getAttribute("data-"+U)}function a(M,U){return!M||M.length==0?[]:M.nodeName?[M]:[].slice.call(M[0].nodeName?M:(U||e).querySelectorAll(M))}function o(M){for(var U=[];M--;)U[M]=[];return U}function l(M,U){M&&M.some(U)}function h(M){return function(U){return M[U]}}function f(M,U,$){var G="--"+U,W=G+"-index";l($,function(q,X){Array.isArray(q)?l(q,function(re){i(re,W,X)}):i(q,W,X)}),i(M,G+"-total",$.length)}var m={};function u(M,U,$){var G=$.indexOf(M);if(G==-1)$.unshift(M),l(m[M].depends,function(q){u(q,M,$)});else{var W=$.indexOf(U);$.splice(G,1),$.splice(W,0,M)}return $}function d(M,U,$,G){return{by:M,depends:U,key:$,split:G}}function g(M){return u(M,0,[]).map(h(m))}function p(M){m[M.by]=M}function x(M,U,$,G,W){M.normalize();var q=[],X=document.createDocumentFragment();G&&q.push(M.previousSibling);var re=[];return a(M.childNodes).some(function(oe){if(oe.tagName&&!oe.hasChildNodes()){re.push(oe);return}if(oe.childNodes&&oe.childNodes.length){re.push(oe),q.push.apply(q,x(oe,U,$,G,W));return}var pe=oe.wholeText||"",ce=pe.trim();ce.length&&(pe[0]===" "&&re.push(t(" ")),l(ce.split($),function(we,ie){ie&&W&&re.push(s(X,"whitespace"," ",W));var j=s(X,U,we);q.push(j),re.push(j)}),pe[pe.length-1]===" "&&re.push(t(" ")))}),l(re,function(oe){r(X,oe)}),M.innerHTML="",r(M,X),q}var c=0;function _(M,U){for(var $ in U)M[$]=U[$];return M}var y="words",b=d(y,c,"word",function(M){return x(M,"word",/\s+/,0,1)}),E="chars",w=d(E,[y],"char",function(M,U,$){var G=[];return l($[y],function(W,q){G.push.apply(G,x(W,"char","",U.whitespace&&q))}),G});function A(M){M=M||{};var U=M.key;return a(M.target||"[data-splitting]").map(function($){var G=$["\u{1F34C}"];if(!M.force&&G)return G;G=$["\u{1F34C}"]={el:$};var W=g(M.by||n($,"splitting")||E),q=_({},M);return l(W,function(X){if(X.split){var re=X.by,oe=(U?"-"+U:"")+X.key,pe=X.split($,q,G);oe&&f($,oe,pe),G[re]=pe,$.classList.add(re)}}),$.classList.add("splitting"),G})}function P(M){M=M||{};var U=M.target=s();return U.innerHTML=M.content,A(M),U.outerHTML}A.html=P,A.add=p;function L(M,U,$){var G=a(U.matching||M.children,M),W={};return l(G,function(q){var X=Math.round(q[$]);(W[X]||(W[X]=[])).push(q)}),Object.keys(W).map(Number).sort(O).map(h(W))}function O(M,U){return M-U}var F=d("lines",[y],"line",function(M,U,$){return L(M,{matching:$[y]},"offsetTop")}),k=d("items",c,"item",function(M,U){return a(U.matching||M.children,M)}),B=d("rows",c,"row",function(M,U){return L(M,U,"offsetTop")}),V=d("cols",c,"col",function(M,U){return L(M,U,"offsetLeft")}),z=d("grid",["rows","cols"]),D="layout",I=d(D,c,c,function(M,U){var $=U.rows=+(U.rows||n(M,"rows")||1),G=U.columns=+(U.columns||n(M,"columns")||1);if(U.image=U.image||n(M,"image")||M.currentSrc||M.src,U.image){var W=a("img",M)[0];U.image=W&&(W.currentSrc||W.src)}U.image&&i(M,"background-image","url("+U.image+")");for(var q=$*G,X=[],re=s(c,"cell-grid");q--;){var oe=s(re,"cell");s(oe,"cell-inner"),X.push(oe)}return r(M,re),X}),T=d("cellRows",[D],"row",function(M,U,$){var G=U.rows,W=o(G);return l($[D],function(q,X,re){W[Math.floor(X/(re.length/G))].push(q)}),W}),C=d("cellColumns",[D],"col",function(M,U,$){var G=U.columns,W=o(G);return l($[D],function(q,X){W[X%G].push(q)}),W}),R=d("cells",["cellRows","cellColumns"],"cell",function(M,U,$){return $[D]});return p(b),p(w),p(F),p(k),p(B),p(V),p(z),p(I),p(T),p(C),p(R),A})});var Hh=ri((exports,module)=>{typeof navigator!="undefined"&&function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.lottie=t())}(exports,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var i,r=e.length,s;for(i=0;i<r;i+=1){s=e[i].prototype;for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t.prototype[n]=s[n])}}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(i){this.audios.push(i)},pause:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].pause()},resume:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].resume()},setRate:function(i){var r,s=this.audios.length;for(r=0;r<s;r+=1)this.audios[r].setRate(i)},createAudio:function(i){return this.audioFactory?this.audioFactory(i):window.Howl?new window.Howl({src:[i]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(i){this.audioFactory=i},setVolume:function(i){this._volume=i,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(i,r){var s=0,n=[],a;switch(i){case"int16":case"uint8c":a=1;break;default:a=1.1;break}for(s=0;s<r;s+=1)n.push(a);return n}function t(i,r){return i==="float32"?new Float32Array(r):i==="int16"?new Int16Array(r):i==="uint8c"?new Uint8ClampedArray(r):e(i,r)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?t:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(i){return typeof i}:_typeof$6=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t,i=e.length;for(t=0;t<i;t+=1)BMMath[e[t]]=Math[e[t]]})();function ProjectInterface$1(){return{}}BMMath.random=Math.random,BMMath.abs=function(e){var t=_typeof$6(e);if(t==="object"&&e.length){var i=createSizedArray(e.length),r,s=e.length;for(r=0;r<s;r+=1)i[r]=Math.abs(e[r]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_shouldRoundValues=!!e}function bmRnd(e){return _shouldRoundValues?Math.round(e):e}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,i,r){this.type=e,this.currentTime=t,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,i,r){this.type=e,this.currentLoop=i,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,i){this.type=e,this.firstFrame=t,this.totalFrames=i}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,t,i){var r,s,n,a,o,l,h,f;switch(a=Math.floor(e*6),o=e*6-a,l=i*(1-t),h=i*(1-o*t),f=i*(1-(1-o)*t),a%6){case 0:r=i,s=f,n=l;break;case 1:r=h,s=i,n=l;break;case 2:r=l,s=i,n=f;break;case 3:r=l,s=h,n=i;break;case 4:r=f,s=l,n=i;break;case 5:r=i,s=l,n=h;break;default:break}return[r,s,n]}function RGBtoHSV(e,t,i){var r=Math.max(e,t,i),s=Math.min(e,t,i),n=r-s,a,o=r===0?0:n/r,l=r/255;switch(r){case s:a=0;break;case e:a=t-i+n*(t<i?6:0),a/=6*n;break;case t:a=i-e+n*2,a/=6*n;break;case i:a=e-t+n*4,a/=6*n;break;default:break}return[a,o,l]}function addSaturationToRGB(e,t){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[1]+=t,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,t){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[2]+=t,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,t){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[0]+=t/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var e=[],t,i;for(t=0;t<256;t+=1)i=t.toString(16),e[t]=i.length===1?"0"+i:i;return function(r,s,n){return r<0&&(r=0),s<0&&(s=0),n<0&&(n=0),"#"+e[r]+e[s]+e[n]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(i){return typeof i}:_typeof$5=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$5(e)}var dataManager=function(){var e=1,t=[],i,r,s={onmessage:function(){},postMessage:function(d){i({data:d})}},n={postMessage:function(d){s.onmessage({data:d})}};function a(u){if(window.Worker&&window.Blob&&getWebWorker()){var d=new Blob(["var _workerSelf = self; self.onmessage = ",u.toString()],{type:"text/javascript"}),g=URL.createObjectURL(d);return new Worker(g)}return i=u,s}function o(){r||(r=a(function(d){function g(){function x(z,D){var I,T,C=z.length,R,M,U,$;for(T=0;T<C;T+=1)if(I=z[T],"ks"in I&&!I.completed){if(I.completed=!0,I.hasMask){var G=I.masksProperties;for(M=G.length,R=0;R<M;R+=1)if(G[R].pt.k.i)E(G[R].pt.k);else for($=G[R].pt.k.length,U=0;U<$;U+=1)G[R].pt.k[U].s&&E(G[R].pt.k[U].s[0]),G[R].pt.k[U].e&&E(G[R].pt.k[U].e[0])}I.ty===0?(I.layers=y(I.refId,D),x(I.layers,D)):I.ty===4?b(I.shapes):I.ty===5&&B(I)}}function c(z,D){if(z){var I=0,T=z.length;for(I=0;I<T;I+=1)z[I].t===1&&(z[I].data.layers=y(z[I].data.refId,D),x(z[I].data.layers,D))}}function _(z,D){for(var I=0,T=D.length;I<T;){if(D[I].id===z)return D[I];I+=1}return null}function y(z,D){var I=_(z,D);return I?I.layers.__used?JSON.parse(JSON.stringify(I.layers)):(I.layers.__used=!0,I.layers):null}function b(z){var D,I=z.length,T,C;for(D=I-1;D>=0;D-=1)if(z[D].ty==="sh")if(z[D].ks.k.i)E(z[D].ks.k);else for(C=z[D].ks.k.length,T=0;T<C;T+=1)z[D].ks.k[T].s&&E(z[D].ks.k[T].s[0]),z[D].ks.k[T].e&&E(z[D].ks.k[T].e[0]);else z[D].ty==="gr"&&b(z[D].it)}function E(z){var D,I=z.i.length;for(D=0;D<I;D+=1)z.i[D][0]+=z.v[D][0],z.i[D][1]+=z.v[D][1],z.o[D][0]+=z.v[D][0],z.o[D][1]+=z.v[D][1]}function w(z,D){var I=D?D.split("."):[100,100,100];return z[0]>I[0]?!0:I[0]>z[0]?!1:z[1]>I[1]?!0:I[1]>z[1]?!1:z[2]>I[2]?!0:I[2]>z[2]?!1:null}var A=function(){var z=[4,4,14];function D(T){var C=T.t.d;T.t.d={k:[{s:C,t:0}]}}function I(T){var C,R=T.length;for(C=0;C<R;C+=1)T[C].ty===5&&D(T[C])}return function(T){if(w(z,T.v)&&(I(T.layers),T.assets)){var C,R=T.assets.length;for(C=0;C<R;C+=1)T.assets[C].layers&&I(T.assets[C].layers)}}}(),P=function(){var z=[4,7,99];return function(D){if(D.chars&&!w(z,D.v)){var I,T=D.chars.length;for(I=0;I<T;I+=1){var C=D.chars[I];C.data&&C.data.shapes&&(b(C.data.shapes),C.data.ip=0,C.data.op=99999,C.data.st=0,C.data.sr=1,C.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},D.chars[I].t||(C.data.shapes.push({ty:"no"}),C.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),L=function(){var z=[5,7,15];function D(T){var C=T.t.p;typeof C.a=="number"&&(C.a={a:0,k:C.a}),typeof C.p=="number"&&(C.p={a:0,k:C.p}),typeof C.r=="number"&&(C.r={a:0,k:C.r})}function I(T){var C,R=T.length;for(C=0;C<R;C+=1)T[C].ty===5&&D(T[C])}return function(T){if(w(z,T.v)&&(I(T.layers),T.assets)){var C,R=T.assets.length;for(C=0;C<R;C+=1)T.assets[C].layers&&I(T.assets[C].layers)}}}(),O=function(){var z=[4,1,9];function D(T){var C,R=T.length,M,U;for(C=0;C<R;C+=1)if(T[C].ty==="gr")D(T[C].it);else if(T[C].ty==="fl"||T[C].ty==="st")if(T[C].c.k&&T[C].c.k[0].i)for(U=T[C].c.k.length,M=0;M<U;M+=1)T[C].c.k[M].s&&(T[C].c.k[M].s[0]/=255,T[C].c.k[M].s[1]/=255,T[C].c.k[M].s[2]/=255,T[C].c.k[M].s[3]/=255),T[C].c.k[M].e&&(T[C].c.k[M].e[0]/=255,T[C].c.k[M].e[1]/=255,T[C].c.k[M].e[2]/=255,T[C].c.k[M].e[3]/=255);else T[C].c.k[0]/=255,T[C].c.k[1]/=255,T[C].c.k[2]/=255,T[C].c.k[3]/=255}function I(T){var C,R=T.length;for(C=0;C<R;C+=1)T[C].ty===4&&D(T[C].shapes)}return function(T){if(w(z,T.v)&&(I(T.layers),T.assets)){var C,R=T.assets.length;for(C=0;C<R;C+=1)T.assets[C].layers&&I(T.assets[C].layers)}}}(),F=function(){var z=[4,4,18];function D(T){var C,R=T.length,M,U;for(C=R-1;C>=0;C-=1)if(T[C].ty==="sh")if(T[C].ks.k.i)T[C].ks.k.c=T[C].closed;else for(U=T[C].ks.k.length,M=0;M<U;M+=1)T[C].ks.k[M].s&&(T[C].ks.k[M].s[0].c=T[C].closed),T[C].ks.k[M].e&&(T[C].ks.k[M].e[0].c=T[C].closed);else T[C].ty==="gr"&&D(T[C].it)}function I(T){var C,R,M=T.length,U,$,G,W;for(R=0;R<M;R+=1){if(C=T[R],C.hasMask){var q=C.masksProperties;for($=q.length,U=0;U<$;U+=1)if(q[U].pt.k.i)q[U].pt.k.c=q[U].cl;else for(W=q[U].pt.k.length,G=0;G<W;G+=1)q[U].pt.k[G].s&&(q[U].pt.k[G].s[0].c=q[U].cl),q[U].pt.k[G].e&&(q[U].pt.k[G].e[0].c=q[U].cl)}C.ty===4&&D(C.shapes)}}return function(T){if(w(z,T.v)&&(I(T.layers),T.assets)){var C,R=T.assets.length;for(C=0;C<R;C+=1)T.assets[C].layers&&I(T.assets[C].layers)}}}();function k(z){z.__complete||(O(z),A(z),P(z),L(z),F(z),x(z.layers,z.assets),c(z.chars,z.assets),z.__complete=!0)}function B(z){z.t.a.length===0&&"m"in z.t.p}var V={};return V.completeData=k,V.checkColors=O,V.checkChars=P,V.checkPathProperties=L,V.checkShapes=F,V.completeLayers=x,V}if(n.dataManager||(n.dataManager=g()),n.assetLoader||(n.assetLoader=function(){function x(_){var y=_.getResponseHeader("content-type");return y&&_.responseType==="json"&&y.indexOf("json")!==-1||_.response&&_typeof$5(_.response)==="object"?_.response:_.response&&typeof _.response=="string"?JSON.parse(_.response):_.responseText?JSON.parse(_.responseText):null}function c(_,y,b,E){var w,A=new XMLHttpRequest;try{A.responseType="json"}catch(P){}A.onreadystatechange=function(){if(A.readyState===4)if(A.status===200)w=x(A),b(w);else try{w=x(A),b(w)}catch(P){E&&E(P)}};try{A.open(["G","E","T"].join(""),_,!0)}catch(P){A.open(["G","E","T"].join(""),y+"/"+_,!0)}A.send()}return{load:c}}()),d.data.type==="loadAnimation")n.assetLoader.load(d.data.path,d.data.fullPath,function(x){n.dataManager.completeData(x),n.postMessage({id:d.data.id,payload:x,status:"success"})},function(){n.postMessage({id:d.data.id,status:"error"})});else if(d.data.type==="complete"){var p=d.data.animation;n.dataManager.completeData(p),n.postMessage({id:d.data.id,payload:p,status:"success"})}else d.data.type==="loadData"&&n.assetLoader.load(d.data.path,d.data.fullPath,function(x){n.postMessage({id:d.data.id,payload:x,status:"success"})},function(){n.postMessage({id:d.data.id,status:"error"})})}),r.onmessage=function(u){var d=u.data,g=d.id,p=t[g];t[g]=null,d.status==="success"?p.onComplete(d.payload):p.onError&&p.onError()})}function l(u,d){e+=1;var g="processId_"+e;return t[g]={onComplete:u,onError:d},g}function h(u,d,g){o();var p=l(d,g);r.postMessage({type:"loadAnimation",path:u,fullPath:window.location.origin+window.location.pathname,id:p})}function f(u,d,g){o();var p=l(d,g);r.postMessage({type:"loadData",path:u,fullPath:window.location.origin+window.location.pathname,id:p})}function m(u,d,g){o();var p=l(d,g);r.postMessage({type:"complete",animation:u,id:p})}return{loadAnimation:h,loadData:f,completeAnimation:m}}(),ImagePreloader=function(){var e=function(){var c=createTag("canvas");c.width=1,c.height=1;var _=c.getContext("2d");return _.fillStyle="rgba(0,0,0,0)",_.fillRect(0,0,1,1),c}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(c,_,y){var b="";if(c.e)b=c.p;else if(_){var E=c.p;E.indexOf("images/")!==-1&&(E=E.split("/")[1]),b=_+E}else b=y,b+=c.u?c.u:"",b+=c.p;return b}function s(c){var _=0,y=setInterval(function(){var b=c.getBBox();(b.width||_>500)&&(this._imageLoaded(),clearInterval(y)),_+=1}.bind(this),50)}function n(c){var _=r(c,this.assetsPath,this.path),y=createNS("image");isSafari?this.testImageLoaded(y):y.addEventListener("load",this._imageLoaded,!1),y.addEventListener("error",function(){b.img=e,this._imageLoaded()}.bind(this),!1),y.setAttributeNS("http://www.w3.org/1999/xlink","href",_),this._elementHelper.append?this._elementHelper.append(y):this._elementHelper.appendChild(y);var b={img:y,assetData:c};return b}function a(c){var _=r(c,this.assetsPath,this.path),y=createTag("img");y.crossOrigin="anonymous",y.addEventListener("load",this._imageLoaded,!1),y.addEventListener("error",function(){b.img=e,this._imageLoaded()}.bind(this),!1),y.src=_;var b={img:y,assetData:c};return b}function o(c){var _={assetData:c},y=r(c,this.assetsPath,this.path);return dataManager.loadData(y,function(b){_.img=b,this._footageLoaded()}.bind(this),function(){_.img={},this._footageLoaded()}.bind(this)),_}function l(c,_){this.imagesLoadedCb=_;var y,b=c.length;for(y=0;y<b;y+=1)c[y].layers||(!c[y].t||c[y].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(c[y]))):c[y].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(c[y]))))}function h(c){this.path=c||""}function f(c){this.assetsPath=c||""}function m(c){for(var _=0,y=this.images.length;_<y;){if(this.images[_].assetData===c)return this.images[_].img;_+=1}return null}function u(){this.imagesLoadedCb=null,this.images.length=0}function d(){return this.totalImages===this.loadedAssets}function g(){return this.totalFootages===this.loadedFootagesCount}function p(c,_){c==="svg"?(this._elementHelper=_,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function x(){this._imageLoaded=t.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=s.bind(this),this.createFootageData=o.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return x.prototype={loadAssets:l,setAssetsPath:f,setPath:h,loadedImages:d,loadedFootages:g,destroy:u,getAsset:m,createImgData:a,createImageData:n,imageLoaded:t,footageLoaded:i,setCacheType:p},x}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,i){if(this._cbs[t])for(var r=this._cbs[t],s=0;s<r.length;s+=1)r[s](i)},addEventListener:function(t,i){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(i),function(){this.removeEventListener(t,i)}.bind(this)},removeEventListener:function(t,i){if(!i)this._cbs[t]=null;else if(this._cbs[t]){for(var r=0,s=this._cbs[t].length;r<s;)this._cbs[t][r]===i&&(this._cbs[t].splice(r,1),r-=1,s-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}};var markerParser=function(){function e(t){for(var i=t.split(`\r
`),r={},s,n=0,a=0;a<i.length;a+=1)s=i[a].split(":"),s.length===2&&(r[s[0]]=s[1].trim(),n+=1);if(n===0)throw new Error;return r}return function(t){for(var i=[],r=0;r<t.length;r+=1){var s=t[r],n={time:s.tm,duration:s.dr};try{n.payload=JSON.parse(t[r].cm)}catch(a){try{n.payload=e(t[r].cm)}catch(o){n.payload={name:t[r].cm}}}i.push(n)}return i}}(),ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(i){for(var r=0,s=this.compositions.length;r<s;){if(this.compositions[r].data&&this.compositions[r].data.nm===i)return this.compositions[r].prepareFrame&&this.compositions[r].data.xt&&this.compositions[r].prepareFrame(this.currentFrame),this.compositions[r].compInterface;r+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(t,i){renderers[t]=i};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(i){return typeof i}:_typeof$4=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var i=getRenderer(t);this.renderer=new i(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var i={wrapper:e,animationData:t},r=e.attributes;i.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",i.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var s=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";s==="false"?i.loop=!1:s==="true"?i.loop=!0:s!==""&&(i.loop=parseInt(s,10));var n=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:r.getNamedItem("bm-autoplay")?r.getNamedItem("bm-autoplay").value:!0;i.autoplay=n!=="false",i.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"";var a=r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"";a==="false"&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t=this.animationData.layers,i,r=t.length,s=e.layers,n,a=s.length;for(n=0;n<a;n+=1)for(i=0;i<r;){if(t[i].id===s[n].id){t[i]=s[n];break}i+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,i=0;i<r;i+=1)this.animationData.assets.push(e.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var t=e.shift();this.timeCompleted=t.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var i=typeof e=="number"?e:void 0,r=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(i,r)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,i=0;i<this.markers.length;i+=1)if(t=this.markers[i],t.payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,i){if(!(i&&this.name!==i)){var r=Number(e);if(isNaN(r)){var s=this.getMarkerData(e);s&&this.goToAndStop(s.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,i){if(!(i&&this.name!==i)){var r=Number(e);if(isNaN(r)){var s=this.getMarkerData(e);s&&(s.duration?this.playSegments([s.time,s.time+s.duration],!0):this.goToAndStop(s.time,!0))}else this.goToAndStop(r,t,i);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var t=this.currentRawFrame+e*this.frameModifier,i=!1;t>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(i=!0,t=this.totalFrames-1):t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):t<0?this.checkSegments(t%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(i=!0,t=0)):this.setCurrentRawFrameValue(t),i&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>t&&(i=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),_typeof$4(e[0])==="object"){var i,r=e.length;for(i=0;i<r;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var i=e.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),t=this.assetsPath+i}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,i=this.assets.length;t<i;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,i){try{var r=this.renderer.getElementByPath(e);r.updateDocumentData(t,i)}catch(s){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],i=0,r=0,s=0,n=!0,a=!1;function o(D){for(var I=0,T=D.target;I<r;)t[I].animation===T&&(t.splice(I,1),I-=1,r-=1,T.isPaused||m()),I+=1}function l(D,I){if(!D)return null;for(var T=0;T<r;){if(t[T].elem===D&&t[T].elem!==null)return t[T].animation;T+=1}var C=new AnimationItem;return u(C,D),C.setData(D,I),C}function h(){var D,I=t.length,T=[];for(D=0;D<I;D+=1)T.push(t[D].animation);return T}function f(){s+=1,O()}function m(){s-=1}function u(D,I){D.addEventListener("destroy",o),D.addEventListener("_active",f),D.addEventListener("_idle",m),t.push({elem:I,animation:D}),r+=1}function d(D){var I=new AnimationItem;return u(I,null),I.setParams(D),I}function g(D,I){var T;for(T=0;T<r;T+=1)t[T].animation.setSpeed(D,I)}function p(D,I){var T;for(T=0;T<r;T+=1)t[T].animation.setDirection(D,I)}function x(D){var I;for(I=0;I<r;I+=1)t[I].animation.play(D)}function c(D){var I=D-i,T;for(T=0;T<r;T+=1)t[T].animation.advanceTime(I);i=D,s&&!a?window.requestAnimationFrame(c):n=!0}function _(D){i=D,window.requestAnimationFrame(c)}function y(D){var I;for(I=0;I<r;I+=1)t[I].animation.pause(D)}function b(D,I,T){var C;for(C=0;C<r;C+=1)t[C].animation.goToAndStop(D,I,T)}function E(D){var I;for(I=0;I<r;I+=1)t[I].animation.stop(D)}function w(D){var I;for(I=0;I<r;I+=1)t[I].animation.togglePause(D)}function A(D){var I;for(I=r-1;I>=0;I-=1)t[I].animation.destroy(D)}function P(D,I,T){var C=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),R,M=C.length;for(R=0;R<M;R+=1)T&&C[R].setAttribute("data-bm-type",T),l(C[R],D);if(I&&M===0){T||(T="svg");var U=document.getElementsByTagName("body")[0];U.innerText="";var $=createTag("div");$.style.width="100%",$.style.height="100%",$.setAttribute("data-bm-type",T),U.appendChild($),l($,D)}}function L(){var D;for(D=0;D<r;D+=1)t[D].animation.resize()}function O(){!a&&s&&n&&(window.requestAnimationFrame(_),n=!1)}function F(){a=!0}function k(){a=!1,O()}function B(D,I){var T;for(T=0;T<r;T+=1)t[T].animation.setVolume(D,I)}function V(D){var I;for(I=0;I<r;I+=1)t[I].animation.mute(D)}function z(D){var I;for(I=0;I<r;I+=1)t[I].animation.unmute(D)}return e.registerAnimation=l,e.loadAnimation=d,e.setSpeed=g,e.setDirection=p,e.play=x,e.pause=y,e.stop=E,e.togglePause=w,e.searchAnimations=P,e.resize=L,e.goToAndStop=b,e.destroy=A,e.freeze=F,e.unfreeze=k,e.setVolume=B,e.mute=V,e.unmute=z,e.getRegisteredAnimations=h,e}(),BezierFactory=function(){var e={};e.getBezierEasing=i;var t={};function i(_,y,b,E,w){var A=w||("bez_"+_+"_"+y+"_"+b+"_"+E).replace(/\./g,"p");if(t[A])return t[A];var P=new c([_,y,b,E]);return t[A]=P,P}var r=4,s=.001,n=1e-7,a=10,o=11,l=1/(o-1),h=typeof Float32Array=="function";function f(_,y){return 1-3*y+3*_}function m(_,y){return 3*y-6*_}function u(_){return 3*_}function d(_,y,b){return((f(y,b)*_+m(y,b))*_+u(y))*_}function g(_,y,b){return 3*f(y,b)*_*_+2*m(y,b)*_+u(y)}function p(_,y,b,E,w){var A,P,L=0;do P=y+(b-y)/2,A=d(P,E,w)-_,A>0?b=P:y=P;while(Math.abs(A)>n&&++L<a);return P}function x(_,y,b,E){for(var w=0;w<r;++w){var A=g(y,b,E);if(A===0)return y;var P=d(y,b,E)-_;y-=P/A}return y}function c(_){this._p=_,this._mSampleValues=h?new Float32Array(o):new Array(o),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(y){var b=this._p[0],E=this._p[1],w=this._p[2],A=this._p[3];return this._precomputed||this._precompute(),b===E&&w===A?y:y===0?0:y===1?1:d(this._getTForX(y),E,A)},_precompute:function(){var y=this._p[0],b=this._p[1],E=this._p[2],w=this._p[3];this._precomputed=!0,(y!==b||E!==w)&&this._calcSampleValues()},_calcSampleValues:function(){for(var y=this._p[0],b=this._p[2],E=0;E<o;++E)this._mSampleValues[E]=d(E*l,y,b)},_getTForX:function(y){for(var b=this._p[0],E=this._p[2],w=this._mSampleValues,A=0,P=1,L=o-1;P!==L&&w[P]<=y;++P)A+=l;--P;var O=(y-w[P])/(w[P+1]-w[P]),F=A+O*l,k=g(F,b,E);return k>=s?x(y,F,b,E):k===0?F:p(y,A,A+l,b,E)}},e}(),pooling=function(){function e(t){return t.concat(createSizedArray(t.length))}return{double:e}}(),poolFactory=function(){return function(e,t,i){var r=0,s=e,n=createSizedArray(s),a={newElement:o,release:l};function o(){var h;return r?(r-=1,h=n[r]):h=t(),h}function l(h){r===s&&(n=pooling.double(n),s*=2),i&&i(h),n[r]=h,r+=1}return a}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function t(i){var r,s=i.lengths.length;for(r=0;r<s;r+=1)bezierLengthPool.release(i.lengths[r]);i.lengths.length=0}return poolFactory(8,e,t)}();function bezFunction(){var e=Math;function t(u,d,g,p,x,c){var _=u*p+d*x+g*c-x*p-c*u-g*d;return _>-.001&&_<.001}function i(u,d,g,p,x,c,_,y,b){if(g===0&&c===0&&b===0)return t(u,d,p,x,_,y);var E=e.sqrt(e.pow(p-u,2)+e.pow(x-d,2)+e.pow(c-g,2)),w=e.sqrt(e.pow(_-u,2)+e.pow(y-d,2)+e.pow(b-g,2)),A=e.sqrt(e.pow(_-p,2)+e.pow(y-x,2)+e.pow(b-c,2)),P;return E>w?E>A?P=E-w-A:P=A-w-E:A>w?P=A-w-E:P=w-E-A,P>-1e-4&&P<1e-4}var r=function(){return function(u,d,g,p){var x=getDefaultCurveSegments(),c,_,y,b,E,w=0,A,P=[],L=[],O=bezierLengthPool.newElement();for(y=g.length,c=0;c<x;c+=1){for(E=c/(x-1),A=0,_=0;_<y;_+=1)b=bmPow(1-E,3)*u[_]+3*bmPow(1-E,2)*E*g[_]+3*(1-E)*bmPow(E,2)*p[_]+bmPow(E,3)*d[_],P[_]=b,L[_]!==null&&(A+=bmPow(P[_]-L[_],2)),L[_]=P[_];A&&(A=bmSqrt(A),w+=A),O.percents[c]=E,O.lengths[c]=w}return O.addedLength=w,O}}();function s(u){var d=segmentsLengthPool.newElement(),g=u.c,p=u.v,x=u.o,c=u.i,_,y=u._length,b=d.lengths,E=0;for(_=0;_<y-1;_+=1)b[_]=r(p[_],p[_+1],x[_],c[_+1]),E+=b[_].addedLength;return g&&y&&(b[_]=r(p[_],p[0],x[_],c[0]),E+=b[_].addedLength),d.totalLength=E,d}function n(u){this.segmentLength=0,this.points=new Array(u)}function a(u,d){this.partialLength=u,this.point=d}var o=function(){var u={};return function(d,g,p,x){var c=(d[0]+"_"+d[1]+"_"+g[0]+"_"+g[1]+"_"+p[0]+"_"+p[1]+"_"+x[0]+"_"+x[1]).replace(/\./g,"p");if(!u[c]){var _=getDefaultCurveSegments(),y,b,E,w,A,P=0,L,O,F=null;d.length===2&&(d[0]!==g[0]||d[1]!==g[1])&&t(d[0],d[1],g[0],g[1],d[0]+p[0],d[1]+p[1])&&t(d[0],d[1],g[0],g[1],g[0]+x[0],g[1]+x[1])&&(_=2);var k=new n(_);for(E=p.length,y=0;y<_;y+=1){for(O=createSizedArray(E),A=y/(_-1),L=0,b=0;b<E;b+=1)w=bmPow(1-A,3)*d[b]+3*bmPow(1-A,2)*A*(d[b]+p[b])+3*(1-A)*bmPow(A,2)*(g[b]+x[b])+bmPow(A,3)*g[b],O[b]=w,F!==null&&(L+=bmPow(O[b]-F[b],2));L=bmSqrt(L),P+=L,k.points[y]=new a(L,O),F=O}k.segmentLength=P,u[c]=k}return u[c]}}();function l(u,d){var g=d.percents,p=d.lengths,x=g.length,c=bmFloor((x-1)*u),_=u*d.addedLength,y=0;if(c===x-1||c===0||_===p[c])return g[c];for(var b=p[c]>_?-1:1,E=!0;E;)if(p[c]<=_&&p[c+1]>_?(y=(_-p[c])/(p[c+1]-p[c]),E=!1):c+=b,c<0||c>=x-1){if(c===x-1)return g[c];E=!1}return g[c]+(g[c+1]-g[c])*y}function h(u,d,g,p,x,c){var _=l(x,c),y=1-_,b=e.round((y*y*y*u[0]+(_*y*y+y*_*y+y*y*_)*g[0]+(_*_*y+y*_*_+_*y*_)*p[0]+_*_*_*d[0])*1e3)/1e3,E=e.round((y*y*y*u[1]+(_*y*y+y*_*y+y*y*_)*g[1]+(_*_*y+y*_*_+_*y*_)*p[1]+_*_*_*d[1])*1e3)/1e3;return[b,E]}var f=createTypedArray("float32",8);function m(u,d,g,p,x,c,_){x<0?x=0:x>1&&(x=1);var y=l(x,_);c=c>1?1:c;var b=l(c,_),E,w=u.length,A=1-y,P=1-b,L=A*A*A,O=y*A*A*3,F=y*y*A*3,k=y*y*y,B=A*A*P,V=y*A*P+A*y*P+A*A*b,z=y*y*P+A*y*b+y*A*b,D=y*y*b,I=A*P*P,T=y*P*P+A*b*P+A*P*b,C=y*b*P+A*b*b+y*P*b,R=y*b*b,M=P*P*P,U=b*P*P+P*b*P+P*P*b,$=b*b*P+P*b*b+b*P*b,G=b*b*b;for(E=0;E<w;E+=1)f[E*4]=e.round((L*u[E]+O*g[E]+F*p[E]+k*d[E])*1e3)/1e3,f[E*4+1]=e.round((B*u[E]+V*g[E]+z*p[E]+D*d[E])*1e3)/1e3,f[E*4+2]=e.round((I*u[E]+T*g[E]+C*p[E]+R*d[E])*1e3)/1e3,f[E*4+3]=e.round((M*u[E]+U*g[E]+$*p[E]+G*d[E])*1e3)/1e3;return f}return{getSegmentsLength:s,getNewSegment:m,getPointInSegment:h,buildBezierData:o,pointOnLine2D:t,pointOnLine3D:i}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var i=this.offsetTime,r;this.propType==="multidimensional"&&(r=createTypedArray("float32",this.pv.length));for(var s=t.lastIndex,n=s,a=this.keyframes.length-1,o=!0,l,h,f;o;){if(l=this.keyframes[n],h=this.keyframes[n+1],n===a-1&&e>=h.t-i){l.h&&(l=h),s=0;break}if(h.t-i>e){s=n;break}n<a-1?n+=1:(s=0,o=!1)}f=this.keyframesMetadata[n]||{};var m,u,d,g,p,x,c=h.t-i,_=l.t-i,y;if(l.to){f.bezierData||(f.bezierData=bez.buildBezierData(l.s,h.s||l.e,l.to,l.ti));var b=f.bezierData;if(e>=c||e<_){var E=e>=c?b.points.length-1:0;for(u=b.points[E].point.length,m=0;m<u;m+=1)r[m]=b.points[E].point[m]}else{f.__fnct?x=f.__fnct:(x=BezierFactory.getBezierEasing(l.o.x,l.o.y,l.i.x,l.i.y,l.n).get,f.__fnct=x),d=x((e-_)/(c-_));var w=b.segmentLength*d,A,P=t.lastFrame<e&&t._lastKeyframeIndex===n?t._lastAddedLength:0;for(p=t.lastFrame<e&&t._lastKeyframeIndex===n?t._lastPoint:0,o=!0,g=b.points.length;o;){if(P+=b.points[p].partialLength,w===0||d===0||p===b.points.length-1){for(u=b.points[p].point.length,m=0;m<u;m+=1)r[m]=b.points[p].point[m];break}else if(w>=P&&w<P+b.points[p+1].partialLength){for(A=(w-P)/b.points[p+1].partialLength,u=b.points[p].point.length,m=0;m<u;m+=1)r[m]=b.points[p].point[m]+(b.points[p+1].point[m]-b.points[p].point[m])*A;break}p<g-1?p+=1:o=!1}t._lastPoint=p,t._lastAddedLength=P-b.points[p].partialLength,t._lastKeyframeIndex=n}}else{var L,O,F,k,B;if(a=l.s.length,y=h.s||l.e,this.sh&&l.h!==1)if(e>=c)r[0]=y[0],r[1]=y[1],r[2]=y[2];else if(e<=_)r[0]=l.s[0],r[1]=l.s[1],r[2]=l.s[2];else{var V=createQuaternion(l.s),z=createQuaternion(y),D=(e-_)/(c-_);quaternionToEuler(r,slerp(V,z,D))}else for(n=0;n<a;n+=1)l.h!==1&&(e>=c?d=1:e<_?d=0:(l.o.x.constructor===Array?(f.__fnct||(f.__fnct=[]),f.__fnct[n]?x=f.__fnct[n]:(L=l.o.x[n]===void 0?l.o.x[0]:l.o.x[n],O=l.o.y[n]===void 0?l.o.y[0]:l.o.y[n],F=l.i.x[n]===void 0?l.i.x[0]:l.i.x[n],k=l.i.y[n]===void 0?l.i.y[0]:l.i.y[n],x=BezierFactory.getBezierEasing(L,O,F,k).get,f.__fnct[n]=x)):f.__fnct?x=f.__fnct:(L=l.o.x,O=l.o.y,F=l.i.x,k=l.i.y,x=BezierFactory.getBezierEasing(L,O,F,k).get,l.keyframeMetadata=x),d=x((e-_)/(c-_)))),y=h.s||l.e,B=l.h===1?l.s[n]:l.s[n]+(y[n]-l.s[n])*d,this.propType==="multidimensional"?r[n]=B:r=B}return t.lastIndex=s,r}function slerp(e,t,i){var r=[],s=e[0],n=e[1],a=e[2],o=e[3],l=t[0],h=t[1],f=t[2],m=t[3],u,d,g,p,x;return d=s*l+n*h+a*f+o*m,d<0&&(d=-d,l=-l,h=-h,f=-f,m=-m),1-d>1e-6?(u=Math.acos(d),g=Math.sin(u),p=Math.sin((1-i)*u)/g,x=Math.sin(i*u)/g):(p=1-i,x=i),r[0]=p*s+x*l,r[1]=p*n+x*h,r[2]=p*a+x*f,r[3]=p*o+x*m,r}function quaternionToEuler(e,t){var i=t[0],r=t[1],s=t[2],n=t[3],a=Math.atan2(2*r*n-2*i*s,1-2*r*r-2*s*s),o=Math.asin(2*i*r+2*s*n),l=Math.atan2(2*i*n-2*r*s,1-2*i*i-2*s*s);e[0]=a/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,i=e[1]*degToRads,r=e[2]*degToRads,s=Math.cos(t/2),n=Math.cos(i/2),a=Math.cos(r/2),o=Math.sin(t/2),l=Math.sin(i/2),h=Math.sin(r/2),f=s*n*a-o*l*h,m=o*l*a+s*n*h,u=o*n*a+s*l*h,d=s*l*a-o*n*h;return[m,u,d,f]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var r=this.interpolateValue(e,this._caching);this.pv=r}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if(this.propType==="unidimensional")t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)t=e[i]*this.mult,mathAbs(this.v[i]-t)>1e-5&&(this.v[i]=t,this._mdf=!0),i+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,i,r){this.propType="unidimensional",this.mult=i||1,this.data=t,this.v=i?t.k*i:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,i,r){this.propType="multidimensional",this.mult=i||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s,n=t.k.length;for(this.v=createTypedArray("float32",n),this.pv=createTypedArray("float32",n),this.vel=createTypedArray("float32",n),s=0;s<n;s+=1)this.v[s]=t.k[s]*this.mult,this.pv[s]=t.k[s];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,i,r){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=i||1,this.elem=e,this.container=r,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,i,r){this.propType="multidimensional";var s,n=t.k.length,a,o,l,h;for(s=0;s<n-1;s+=1)t.k[s].to&&t.k[s].s&&t.k[s+1]&&t.k[s+1].s&&(a=t.k[s].s,o=t.k[s+1].s,l=t.k[s].to,h=t.k[s].ti,(a.length===2&&!(a[0]===o[0]&&a[1]===o[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],a[0]+l[0],a[1]+l[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],o[0]+h[0],o[1]+h[1])||a.length===3&&!(a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],a[0]+l[0],a[1]+l[1],a[2]+l[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],o[0]+h[0],o[1]+h[1],o[2]+h[2]))&&(t.k[s].to=null,t.k[s].ti=null),a[0]===o[0]&&a[1]===o[1]&&l[0]===0&&l[1]===0&&h[0]===0&&h[1]===0&&(a.length===2||a[2]===o[2]&&l[2]===0&&h[2]===0)&&(t.k[s].to=null,t.k[s].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=e,this.container=r,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var f=t.k[0].s.length;for(this.v=createTypedArray("float32",f),this.pv=createTypedArray("float32",f),s=0;s<f;s+=1)this.v[s]=initFrame,this.pv[s]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",f)},this.addEffect=addEffect}var PropertyFactory=function(){function e(i,r,s,n,a){r.sid&&(r=i.globalData.slotManager.getProp(r));var o;if(!r.k.length)o=new ValueProperty(i,r,n,a);else if(typeof r.k[0]=="number")o=new MultiDimensionalProperty(i,r,n,a);else switch(s){case 0:o=new KeyframedValueProperty(i,r,n,a);break;case 1:o=new KeyframedMultidimensionalProperty(i,r,n,a);break;default:break}return o.effectsSequence.length&&a.addDynamicProperty(o),o}var t={getProp:e};return t}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var i=0;i<t;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,i,r,s){var n;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":n=this.v;break;case"i":n=this.i;break;case"o":n=this.o;break;default:n=[];break}(!n[r]||n[r]&&!s)&&(n[r]=pointPool.newElement()),n[r][0]=e,n[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,i,r,s,n,a,o){this.setXYAt(e,t,"v",a,o),this.setXYAt(i,r,"o",a,o),this.setXYAt(s,n,"i",a,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,i=this.o,r=this.i,s=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),s=1);var n=this._length-1,a=this._length,o;for(o=s;o<a;o+=1)e.setTripleAt(t[n][0],t[n][1],r[n][0],r[n][1],i[n][0],i[n][1],o,!1),n-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function t(s){var n=s._length,a;for(a=0;a<n;a+=1)pointPool.release(s.v[a]),pointPool.release(s.i[a]),pointPool.release(s.o[a]),s.v[a]=null,s.i[a]=null,s.o[a]=null;s._length=0,s.c=!1}function i(s){var n=r.newElement(),a,o=s._length===void 0?s.v.length:s._length;for(n.setLength(o),n.c=s.c,a=0;a<o;a+=1)n.setTripleAt(s.v[a][0],s.v[a][1],s.o[a][0],s.o[a][1],s.i[a][0],s.i[a][1],a);return n}var r=poolFactory(4,e,t);return r.clone=i,r}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:s,release:n},t=0,i=4,r=createSizedArray(i);function s(){var a;return t?(t-=1,a=r[t]):a=new ShapeCollection,a}function n(a){var o,l=a._length;for(o=0;o<l;o+=1)shapePool.release(a.shapes[o]);a._length=0,t===i&&(r=pooling.double(r),i*=2),r[t]=a,t+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function t(c,_,y){var b=y.lastIndex,E,w,A,P,L,O,F,k,B,V=this.keyframes;if(c<V[0].t-this.offsetTime)E=V[0].s[0],A=!0,b=0;else if(c>=V[V.length-1].t-this.offsetTime)E=V[V.length-1].s?V[V.length-1].s[0]:V[V.length-2].e[0],A=!0;else{for(var z=b,D=V.length-1,I=!0,T,C,R;I&&(T=V[z],C=V[z+1],!(C.t-this.offsetTime>c));)z<D-1?z+=1:I=!1;if(R=this.keyframesMetadata[z]||{},A=T.h===1,b=z,!A){if(c>=C.t-this.offsetTime)k=1;else if(c<T.t-this.offsetTime)k=0;else{var M;R.__fnct?M=R.__fnct:(M=BezierFactory.getBezierEasing(T.o.x,T.o.y,T.i.x,T.i.y).get,R.__fnct=M),k=M((c-(T.t-this.offsetTime))/(C.t-this.offsetTime-(T.t-this.offsetTime)))}w=C.s?C.s[0]:T.e[0]}E=T.s[0]}for(O=_._length,F=E.i[0].length,y.lastIndex=b,P=0;P<O;P+=1)for(L=0;L<F;L+=1)B=A?E.i[P][L]:E.i[P][L]+(w.i[P][L]-E.i[P][L])*k,_.i[P][L]=B,B=A?E.o[P][L]:E.o[P][L]+(w.o[P][L]-E.o[P][L])*k,_.o[P][L]=B,B=A?E.v[P][L]:E.v[P][L]+(w.v[P][L]-E.v[P][L])*k,_.v[P][L]=B}function i(){var c=this.comp.renderedFrame-this.offsetTime,_=this.keyframes[0].t-this.offsetTime,y=this.keyframes[this.keyframes.length-1].t-this.offsetTime,b=this._caching.lastFrame;return b!==e&&(b<_&&c<_||b>y&&c>y)||(this._caching.lastIndex=b<c?this._caching.lastIndex:0,this.interpolateShape(c,this.pv,this._caching)),this._caching.lastFrame=c,this.pv}function r(){this.paths=this.localShapeCollection}function s(c,_){if(c._length!==_._length||c.c!==_.c)return!1;var y,b=c._length;for(y=0;y<b;y+=1)if(c.v[y][0]!==_.v[y][0]||c.v[y][1]!==_.v[y][1]||c.o[y][0]!==_.o[y][0]||c.o[y][1]!==_.o[y][1]||c.i[y][0]!==_.i[y][0]||c.i[y][1]!==_.i[y][1])return!1;return!0}function n(c){s(this.v,c)||(this.v=shapePool.clone(c),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function a(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var c;this.kf?c=this.pv:this.data.ks?c=this.data.ks.k:c=this.data.pt.k;var _,y=this.effectsSequence.length;for(_=0;_<y;_+=1)c=this.effectsSequence[_](c);this.setVValue(c),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(c,_,y){this.propType="shape",this.comp=c.comp,this.container=c,this.elem=c,this.data=_,this.k=!1,this.kf=!1,this._mdf=!1;var b=y===3?_.pt.k:_.ks.k;this.v=shapePool.clone(b),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function l(c){this.effectsSequence.push(c),this.container.addDynamicProperty(this)}o.prototype.interpolateShape=t,o.prototype.getValue=a,o.prototype.setVValue=n,o.prototype.addEffect=l;function h(c,_,y){this.propType="shape",this.comp=c.comp,this.elem=c,this.container=c,this.offsetTime=c.data.st,this.keyframes=y===3?_.pt.k:_.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var b=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,b),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=r,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[i.bind(this)]}h.prototype.getValue=a,h.prototype.interpolateShape=t,h.prototype.setVValue=n,h.prototype.addEffect=l;var f=function(){var c=roundCorner;function _(y,b){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=b.d,this.elem=y,this.comp=y.comp,this.frameId=-1,this.initDynamicPropertyContainer(y),this.p=PropertyFactory.getProp(y,b.p,1,0,this),this.s=PropertyFactory.getProp(y,b.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return _.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var b=this.p.v[0],E=this.p.v[1],w=this.s.v[0]/2,A=this.s.v[1]/2,P=this.d!==3,L=this.v;L.v[0][0]=b,L.v[0][1]=E-A,L.v[1][0]=P?b+w:b-w,L.v[1][1]=E,L.v[2][0]=b,L.v[2][1]=E+A,L.v[3][0]=P?b-w:b+w,L.v[3][1]=E,L.i[0][0]=P?b-w*c:b+w*c,L.i[0][1]=E-A,L.i[1][0]=P?b+w:b-w,L.i[1][1]=E-A*c,L.i[2][0]=P?b+w*c:b-w*c,L.i[2][1]=E+A,L.i[3][0]=P?b-w:b+w,L.i[3][1]=E+A*c,L.o[0][0]=P?b+w*c:b-w*c,L.o[0][1]=E-A,L.o[1][0]=P?b+w:b-w,L.o[1][1]=E+A*c,L.o[2][0]=P?b-w*c:b+w*c,L.o[2][1]=E+A,L.o[3][0]=P?b-w:b+w,L.o[3][1]=E-A*c}},extendPrototype([DynamicPropertyContainer],_),_}(),m=function(){function c(_,y){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=_,this.comp=_.comp,this.data=y,this.frameId=-1,this.d=y.d,this.initDynamicPropertyContainer(_),y.sy===1?(this.ir=PropertyFactory.getProp(_,y.ir,0,0,this),this.is=PropertyFactory.getProp(_,y.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(_,y.pt,0,0,this),this.p=PropertyFactory.getProp(_,y.p,1,0,this),this.r=PropertyFactory.getProp(_,y.r,0,degToRads,this),this.or=PropertyFactory.getProp(_,y.or,0,0,this),this.os=PropertyFactory.getProp(_,y.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return c.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var y=Math.floor(this.pt.v)*2,b=Math.PI*2/y,E=!0,w=this.or.v,A=this.ir.v,P=this.os.v,L=this.is.v,O=2*Math.PI*w/(y*2),F=2*Math.PI*A/(y*2),k,B,V,z,D=-Math.PI/2;D+=this.r.v;var I=this.data.d===3?-1:1;for(this.v._length=0,k=0;k<y;k+=1){B=E?w:A,V=E?P:L,z=E?O:F;var T=B*Math.cos(D),C=B*Math.sin(D),R=T===0&&C===0?0:C/Math.sqrt(T*T+C*C),M=T===0&&C===0?0:-T/Math.sqrt(T*T+C*C);T+=+this.p.v[0],C+=+this.p.v[1],this.v.setTripleAt(T,C,T-R*z*V*I,C-M*z*V*I,T+R*z*V*I,C+M*z*V*I,k,!0),E=!E,D+=b*I}},convertPolygonToPath:function(){var y=Math.floor(this.pt.v),b=Math.PI*2/y,E=this.or.v,w=this.os.v,A=2*Math.PI*E/(y*4),P,L=-Math.PI*.5,O=this.data.d===3?-1:1;for(L+=this.r.v,this.v._length=0,P=0;P<y;P+=1){var F=E*Math.cos(L),k=E*Math.sin(L),B=F===0&&k===0?0:k/Math.sqrt(F*F+k*k),V=F===0&&k===0?0:-F/Math.sqrt(F*F+k*k);F+=+this.p.v[0],k+=+this.p.v[1],this.v.setTripleAt(F,k,F-B*A*w*O,k-V*A*w*O,F+B*A*w*O,k+V*A*w*O,P,!0),L+=b*O}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],c),c}(),u=function(){function c(_,y){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=_,this.comp=_.comp,this.frameId=-1,this.d=y.d,this.initDynamicPropertyContainer(_),this.p=PropertyFactory.getProp(_,y.p,1,0,this),this.s=PropertyFactory.getProp(_,y.s,1,0,this),this.r=PropertyFactory.getProp(_,y.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return c.prototype={convertRectToPath:function(){var y=this.p.v[0],b=this.p.v[1],E=this.s.v[0]/2,w=this.s.v[1]/2,A=bmMin(E,w,this.r.v),P=A*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(y+E,b-w+A,y+E,b-w+A,y+E,b-w+P,0,!0),this.v.setTripleAt(y+E,b+w-A,y+E,b+w-P,y+E,b+w-A,1,!0),A!==0?(this.v.setTripleAt(y+E-A,b+w,y+E-A,b+w,y+E-P,b+w,2,!0),this.v.setTripleAt(y-E+A,b+w,y-E+P,b+w,y-E+A,b+w,3,!0),this.v.setTripleAt(y-E,b+w-A,y-E,b+w-A,y-E,b+w-P,4,!0),this.v.setTripleAt(y-E,b-w+A,y-E,b-w+P,y-E,b-w+A,5,!0),this.v.setTripleAt(y-E+A,b-w,y-E+A,b-w,y-E+P,b-w,6,!0),this.v.setTripleAt(y+E-A,b-w,y+E-P,b-w,y+E-A,b-w,7,!0)):(this.v.setTripleAt(y-E,b+w,y-E+P,b+w,y-E,b+w,2),this.v.setTripleAt(y-E,b-w,y-E,b-w+P,y-E,b-w,3))):(this.v.setTripleAt(y+E,b-w+A,y+E,b-w+P,y+E,b-w+A,0,!0),A!==0?(this.v.setTripleAt(y+E-A,b-w,y+E-A,b-w,y+E-P,b-w,1,!0),this.v.setTripleAt(y-E+A,b-w,y-E+P,b-w,y-E+A,b-w,2,!0),this.v.setTripleAt(y-E,b-w+A,y-E,b-w+A,y-E,b-w+P,3,!0),this.v.setTripleAt(y-E,b+w-A,y-E,b+w-P,y-E,b+w-A,4,!0),this.v.setTripleAt(y-E+A,b+w,y-E+A,b+w,y-E+P,b+w,5,!0),this.v.setTripleAt(y+E-A,b+w,y+E-P,b+w,y+E-A,b+w,6,!0),this.v.setTripleAt(y+E,b+w-A,y+E,b+w-A,y+E,b+w-P,7,!0)):(this.v.setTripleAt(y-E,b-w,y-E+P,b-w,y-E,b-w,1,!0),this.v.setTripleAt(y-E,b+w,y-E,b+w-P,y-E,b+w,2,!0),this.v.setTripleAt(y+E,b+w,y+E-P,b+w,y+E,b+w,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],c),c}();function d(c,_,y){var b;if(y===3||y===4){var E=y===3?_.pt:_.ks,w=E.k;w.length?b=new h(c,_,y):b=new o(c,_,y)}else y===5?b=new u(c,_):y===6?b=new f(c,_):y===7&&(b=new m(c,_));return b.k&&c.addDynamicProperty(b),b}function g(){return o}function p(){return h}var x={};return x.getShapeProp=d,x.getConstructorFunction=g,x.getKeyframedConstructorFunction=p,x}();var Matrix=function(){var e=Math.cos,t=Math.sin,i=Math.tan,r=Math.round;function s(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function n(T){if(T===0)return this;var C=e(T),R=t(T);return this._t(C,-R,0,0,R,C,0,0,0,0,1,0,0,0,0,1)}function a(T){if(T===0)return this;var C=e(T),R=t(T);return this._t(1,0,0,0,0,C,-R,0,0,R,C,0,0,0,0,1)}function o(T){if(T===0)return this;var C=e(T),R=t(T);return this._t(C,0,R,0,0,1,0,0,-R,0,C,0,0,0,0,1)}function l(T){if(T===0)return this;var C=e(T),R=t(T);return this._t(C,-R,0,0,R,C,0,0,0,0,1,0,0,0,0,1)}function h(T,C){return this._t(1,C,T,1,0,0)}function f(T,C){return this.shear(i(T),i(C))}function m(T,C){var R=e(C),M=t(C);return this._t(R,M,0,0,-M,R,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(T),1,0,0,0,0,1,0,0,0,0,1)._t(R,-M,0,0,M,R,0,0,0,0,1,0,0,0,0,1)}function u(T,C,R){return!R&&R!==0&&(R=1),T===1&&C===1&&R===1?this:this._t(T,0,0,0,0,C,0,0,0,0,R,0,0,0,0,1)}function d(T,C,R,M,U,$,G,W,q,X,re,oe,pe,ce,we,ie){return this.props[0]=T,this.props[1]=C,this.props[2]=R,this.props[3]=M,this.props[4]=U,this.props[5]=$,this.props[6]=G,this.props[7]=W,this.props[8]=q,this.props[9]=X,this.props[10]=re,this.props[11]=oe,this.props[12]=pe,this.props[13]=ce,this.props[14]=we,this.props[15]=ie,this}function g(T,C,R){return R=R||0,T!==0||C!==0||R!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,T,C,R,1):this}function p(T,C,R,M,U,$,G,W,q,X,re,oe,pe,ce,we,ie){var j=this.props;if(T===1&&C===0&&R===0&&M===0&&U===0&&$===1&&G===0&&W===0&&q===0&&X===0&&re===1&&oe===0)return j[12]=j[12]*T+j[15]*pe,j[13]=j[13]*$+j[15]*ce,j[14]=j[14]*re+j[15]*we,j[15]*=ie,this._identityCalculated=!1,this;var qe=j[0],Ne=j[1],je=j[2],et=j[3],tt=j[4],it=j[5],le=j[6],Re=j[7],Xe=j[8],J=j[9],ee=j[10],K=j[11],ae=j[12],Ke=j[13],ze=j[14],se=j[15];return j[0]=qe*T+Ne*U+je*q+et*pe,j[1]=qe*C+Ne*$+je*X+et*ce,j[2]=qe*R+Ne*G+je*re+et*we,j[3]=qe*M+Ne*W+je*oe+et*ie,j[4]=tt*T+it*U+le*q+Re*pe,j[5]=tt*C+it*$+le*X+Re*ce,j[6]=tt*R+it*G+le*re+Re*we,j[7]=tt*M+it*W+le*oe+Re*ie,j[8]=Xe*T+J*U+ee*q+K*pe,j[9]=Xe*C+J*$+ee*X+K*ce,j[10]=Xe*R+J*G+ee*re+K*we,j[11]=Xe*M+J*W+ee*oe+K*ie,j[12]=ae*T+Ke*U+ze*q+se*pe,j[13]=ae*C+Ke*$+ze*X+se*ce,j[14]=ae*R+Ke*G+ze*re+se*we,j[15]=ae*M+Ke*W+ze*oe+se*ie,this._identityCalculated=!1,this}function x(T){var C=T.props;return this.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15])}function c(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function _(T){for(var C=0;C<16;){if(T.props[C]!==this.props[C])return!1;C+=1}return!0}function y(T){var C;for(C=0;C<16;C+=1)T.props[C]=this.props[C];return T}function b(T){var C;for(C=0;C<16;C+=1)this.props[C]=T[C]}function E(T,C,R){return{x:T*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12],y:T*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13],z:T*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]}}function w(T,C,R){return T*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12]}function A(T,C,R){return T*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13]}function P(T,C,R){return T*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]}function L(){var T=this.props[0]*this.props[5]-this.props[1]*this.props[4],C=this.props[5]/T,R=-this.props[1]/T,M=-this.props[4]/T,U=this.props[0]/T,$=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/T,G=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/T,W=new Matrix;return W.props[0]=C,W.props[1]=R,W.props[4]=M,W.props[5]=U,W.props[12]=$,W.props[13]=G,W}function O(T){var C=this.getInverseMatrix();return C.applyToPointArray(T[0],T[1],T[2]||0)}function F(T){var C,R=T.length,M=[];for(C=0;C<R;C+=1)M[C]=O(T[C]);return M}function k(T,C,R){var M=createTypedArray("float32",6);if(this.isIdentity())M[0]=T[0],M[1]=T[1],M[2]=C[0],M[3]=C[1],M[4]=R[0],M[5]=R[1];else{var U=this.props[0],$=this.props[1],G=this.props[4],W=this.props[5],q=this.props[12],X=this.props[13];M[0]=T[0]*U+T[1]*G+q,M[1]=T[0]*$+T[1]*W+X,M[2]=C[0]*U+C[1]*G+q,M[3]=C[0]*$+C[1]*W+X,M[4]=R[0]*U+R[1]*G+q,M[5]=R[0]*$+R[1]*W+X}return M}function B(T,C,R){var M;return this.isIdentity()?M=[T,C,R]:M=[T*this.props[0]+C*this.props[4]+R*this.props[8]+this.props[12],T*this.props[1]+C*this.props[5]+R*this.props[9]+this.props[13],T*this.props[2]+C*this.props[6]+R*this.props[10]+this.props[14]],M}function V(T,C){if(this.isIdentity())return T+","+C;var R=this.props;return Math.round((T*R[0]+C*R[4]+R[12])*100)/100+","+Math.round((T*R[1]+C*R[5]+R[13])*100)/100}function z(){for(var T=0,C=this.props,R="matrix3d(",M=1e4;T<16;)R+=r(C[T]*M)/M,R+=T===15?")":",",T+=1;return R}function D(T){var C=1e4;return T<1e-6&&T>0||T>-1e-6&&T<0?r(T*C)/C:T}function I(){var T=this.props,C=D(T[0]),R=D(T[1]),M=D(T[4]),U=D(T[5]),$=D(T[12]),G=D(T[13]);return"matrix("+C+","+R+","+M+","+U+","+$+","+G+")"}return function(){this.reset=s,this.rotate=n,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=f,this.skewFromAxis=m,this.shear=h,this.scale=u,this.setTransform=d,this.translate=g,this.transform=p,this.multiply=x,this.applyToPoint=E,this.applyToX=w,this.applyToY=A,this.applyToZ=P,this.applyToPointArray=B,this.applyToTriplePoints=k,this.applyToPointStringified=V,this.toCSS=z,this.to2dCSS=I,this.clone=y,this.cloneFromProps=b,this.equals=_,this.inversePoints=F,this.inversePoint=O,this.getInverseMatrix=L,this._t=this.transform,this.isIdentity=c,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(i){return typeof i}:_typeof$3=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$3(e)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(e){setLocationHref(e)}function searchAnimations(){standalone===!0?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return standalone===!0&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(e,t){e==="expressions"&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),i=0;i<t.length;i+=1){var r=t[i].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}return null}var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{!((typeof exports=="undefined"?"undefined":_typeof$3(exports))==="object"&&typeof module!="undefined")&&!(typeof define=="function"&&define.amd)&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};e.registerModifier=i,e.getModifier=r;function i(s,n){t[s]||(t[s]=n)}function r(s,n,a){return new t[s](n,a)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,i,r,s){var n=[];t<=1?n.push({s:e,e:t}):e>=1?n.push({s:e-1,e:t-1}):(n.push({s:e,e:1}),n.push({s:0,e:t-1}));var a=[],o,l=n.length,h;for(o=0;o<l;o+=1)if(h=n[o],!(h.e*s<r||h.s*s>r+i)){var f,m;h.s*s<=r?f=0:f=(h.s*s-r)/i,h.e*s>=r+i?m=1:m=(h.e*s-r)/i,a.push([f,m])}return a.length||a.push([0,0]),a},TrimModifier.prototype.releasePathsData=function(e){var t,i=e.length;for(t=0;t<i;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,i;if(this._mdf||e){var r=this.o.v%360/360;if(r<0&&(r+=1),this.s.v>1?t=1+r:this.s.v<0?t=0+r:t=this.s.v+r,this.e.v>1?i=1+r:this.e.v<0?i=0+r:i=this.e.v+r,t>i){var s=t;t=i,i=s}t=Math.round(t*1e4)*1e-4,i=Math.round(i*1e4)*1e-4,this.sValue=t,this.eValue=i}else t=this.sValue,i=this.eValue;var n,a,o=this.shapes.length,l,h,f,m,u,d=0;if(i===t)for(a=0;a<o;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection,this._mdf&&(this.shapes[a].pathsData.length=0);else if(i===1&&t===0||i===0&&t===1){if(this._mdf)for(a=0;a<o;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var g=[],p,x;for(a=0;a<o;a+=1)if(p=this.shapes[a],!p.shape._mdf&&!this._mdf&&!e&&this.m!==2)p.shape.paths=p.localShapeCollection;else{if(n=p.shape.paths,h=n._length,u=0,!p.shape._mdf&&p.pathsData.length)u=p.totalShapeLength;else{for(f=this.releasePathsData(p.pathsData),l=0;l<h;l+=1)m=bez.getSegmentsLength(n.shapes[l]),f.push(m),u+=m.totalLength;p.totalShapeLength=u,p.pathsData=f}d+=u,p.shape._mdf=!0}var c=t,_=i,y=0,b;for(a=o-1;a>=0;a-=1)if(p=this.shapes[a],p.shape._mdf){for(x=p.localShapeCollection,x.releaseShapes(),this.m===2&&o>1?(b=this.calculateShapeEdges(t,i,p.totalShapeLength,y,d),y+=p.totalShapeLength):b=[[c,_]],h=b.length,l=0;l<h;l+=1){c=b[l][0],_=b[l][1],g.length=0,_<=1?g.push({s:p.totalShapeLength*c,e:p.totalShapeLength*_}):c>=1?g.push({s:p.totalShapeLength*(c-1),e:p.totalShapeLength*(_-1)}):(g.push({s:p.totalShapeLength*c,e:p.totalShapeLength}),g.push({s:0,e:p.totalShapeLength*(_-1)}));var E=this.addShapes(p,g[0]);if(g[0].s!==g[0].e){if(g.length>1){var w=p.shape.paths.shapes[p.shape.paths._length-1];if(w.c){var A=E.pop();this.addPaths(E,x),E=this.addShapes(p,g[1],A)}else this.addPaths(E,x),E=this.addShapes(p,g[1])}this.addPaths(E,x)}}p.shape.paths=x}}},TrimModifier.prototype.addPaths=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)t.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,t,i,r,s,n,a){s.setXYAt(t[0],t[1],"o",n),s.setXYAt(i[0],i[1],"i",n+1),a&&s.setXYAt(e[0],e[1],"v",n),s.setXYAt(r[0],r[1],"v",n+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,i,r){t.setXYAt(e[1],e[5],"o",i),t.setXYAt(e[2],e[6],"i",i+1),r&&t.setXYAt(e[0],e[4],"v",i),t.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,t,i){var r=e.pathsData,s=e.shape.paths.shapes,n,a=e.shape.paths._length,o,l,h=0,f,m,u,d,g=[],p,x=!0;for(i?(m=i._length,p=i._length):(i=shapePool.newElement(),m=0,p=0),g.push(i),n=0;n<a;n+=1){for(u=r[n].lengths,i.c=s[n].c,l=s[n].c?u.length:u.length+1,o=1;o<l;o+=1)if(f=u[o-1],h+f.addedLength<t.s)h+=f.addedLength,i.c=!1;else if(h>t.e){i.c=!1;break}else t.s<=h&&t.e>=h+f.addedLength?(this.addSegment(s[n].v[o-1],s[n].o[o-1],s[n].i[o],s[n].v[o],i,m,x),x=!1):(d=bez.getNewSegment(s[n].v[o-1],s[n].v[o],s[n].o[o-1],s[n].i[o],(t.s-h)/f.addedLength,(t.e-h)/f.addedLength,u[o-1]),this.addSegmentFromArray(d,i,m,x),x=!1,i.c=!1),h+=f.addedLength,m+=1;if(s[n].c&&u.length){if(f=u[o-1],h<=t.e){var c=u[o-1].addedLength;t.s<=h&&t.e>=h+c?(this.addSegment(s[n].v[o-1],s[n].o[o-1],s[n].i[0],s[n].v[0],i,m,x),x=!1):(d=bez.getNewSegment(s[n].v[o-1],s[n].v[0],s[n].o[o-1],s[n].i[0],(t.s-h)/c,(t.e-h)/c,u[o-1]),this.addSegmentFromArray(d,i,m,x),x=!1,i.c=!1)}else i.c=!1;h+=f.addedLength,m+=1}if(i._length&&(i.setXYAt(i.v[p][0],i.v[p][1],"i",p),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),h>t.e)break;n<a-1&&(i=shapePool.newElement(),x=!0,g.push(i),m=0)}return g};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var i=t/100,r=[0,0],s=e._length,n=0;for(n=0;n<s;n+=1)r[0]+=e.v[n][0],r[1]+=e.v[n][1];r[0]/=s,r[1]/=s;var a=shapePool.newElement();a.c=e.c;var o,l,h,f,m,u;for(n=0;n<s;n+=1)o=e.v[n][0]+(r[0]-e.v[n][0])*i,l=e.v[n][1]+(r[1]-e.v[n][1])*i,h=e.o[n][0]+(r[0]-e.o[n][0])*-i,f=e.o[n][1]+(r[1]-e.o[n][1])*-i,m=e.i[n][0]+(r[0]-e.i[n][0])*-i,u=e.i[n][1]+(r[1]-e.i[n][1])*-i,a.setTripleAt(o,l,h,f,m,u,n);return a},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,i,r=this.shapes.length,s,n,a=this.amount.v;if(a!==0){var o,l;for(i=0;i<r;i+=1){if(o=this.shapes[i],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!e))for(l.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,n=o.shape.paths._length,s=0;s<n;s+=1)l.addShape(this.processPath(t[s],a));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(l){var h=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||h,this.a&&l.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&l.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&l.skewFromAxis(-this.sk.v,this.sa.v),this.r?l.rotate(-this.r.v):l.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?l.translate(this.px.v,this.py.v,-this.pz.v):l.translate(this.px.v,this.py.v,0):l.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(l){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||l){var h;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var f,m;if(h=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(f=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/h,0),m=this.p.getValueAtTime(this.p.keyframes[0].t/h,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(f=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/h,0),m=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/h,0)):(f=this.p.pv,m=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/h,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){f=[],m=[];var u=this.px,d=this.py;u._caching.lastFrame+u.offsetTime<=u.keyframes[0].t?(f[0]=u.getValueAtTime((u.keyframes[0].t+.01)/h,0),f[1]=d.getValueAtTime((d.keyframes[0].t+.01)/h,0),m[0]=u.getValueAtTime(u.keyframes[0].t/h,0),m[1]=d.getValueAtTime(d.keyframes[0].t/h,0)):u._caching.lastFrame+u.offsetTime>=u.keyframes[u.keyframes.length-1].t?(f[0]=u.getValueAtTime(u.keyframes[u.keyframes.length-1].t/h,0),f[1]=d.getValueAtTime(d.keyframes[d.keyframes.length-1].t/h,0),m[0]=u.getValueAtTime((u.keyframes[u.keyframes.length-1].t-.01)/h,0),m[1]=d.getValueAtTime((d.keyframes[d.keyframes.length-1].t-.01)/h,0)):(f=[u.pv,d.pv],m[0]=u.getValueAtTime((u._caching.lastFrame+u.offsetTime-.01)/h,u.offsetTime),m[1]=d.getValueAtTime((d._caching.lastFrame+d.offsetTime-.01)/h,d.offsetTime))}else m=e,f=m;this.v.rotate(-Math.atan2(f[1]-m[1],f[0]-m[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function r(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function s(){}function n(l){this._addDynamicProperty(l),this.elem.addDynamicProperty(l),this._isDirty=!0}function a(l,h,f){if(this.elem=l,this.frameId=-1,this.propType="transform",this.data=h,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(f||l),h.p&&h.p.s?(this.px=PropertyFactory.getProp(l,h.p.x,0,0,this),this.py=PropertyFactory.getProp(l,h.p.y,0,0,this),h.p.z&&(this.pz=PropertyFactory.getProp(l,h.p.z,0,0,this))):this.p=PropertyFactory.getProp(l,h.p||{k:[0,0,0]},1,0,this),h.rx){if(this.rx=PropertyFactory.getProp(l,h.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(l,h.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(l,h.rz,0,degToRads,this),h.or.k[0].ti){var m,u=h.or.k.length;for(m=0;m<u;m+=1)h.or.k[m].to=null,h.or.k[m].ti=null}this.or=PropertyFactory.getProp(l,h.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(l,h.r||{k:0},0,degToRads,this);h.sk&&(this.sk=PropertyFactory.getProp(l,h.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(l,h.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(l,h.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(l,h.s||{k:[100,100,100]},1,.01,this),h.o?this.o=PropertyFactory.getProp(l,h.o,0,.01,l):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}a.prototype={applyToMatrix:t,getValue:i,precalculateMatrix:r,autoOrient:s},extendPrototype([DynamicPropertyContainer],a),a.prototype.addDynamicProperty=n,a.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function o(l,h,f){return new a(l,h,f)}return{getTransformProperty:o}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,i,r,s,n){var a=n?-1:1,o=r.s.v[0]+(1-r.s.v[0])*(1-s),l=r.s.v[1]+(1-r.s.v[1])*(1-s);e.translate(r.p.v[0]*a*s,r.p.v[1]*a*s,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*a*s),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(n?1/o:o,n?1/l:l),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,i,r){for(this.elem=e,this.arr=t,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[i]);i>0;)i-=1,this._elements.unshift(t[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)e[i]._render=t,e[i].ty==="gr"&&this.changeGroupRender(e[i].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,i,r,s,n,a=!1;if(this._mdf||e){var o=Math.ceil(this.c.v);if(this._groups.length<o){for(;this._groups.length<o;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}n=0;var h;for(r=0;r<=this._groups.length-1;r+=1){if(h=n<o,this._groups[r]._render=h,this.changeGroupRender(this._groups[r].it,h),!h){var f=this.elemsData[r].it,m=f[f.length-1];m.transform.op.v!==0?(m.transform.op._mdf=!0,m.transform.op.v=0):m.transform.op._mdf=!1}n+=1}this._currentCopies=o;var u=this.o.v,d=u%1,g=u>0?Math.floor(u):Math.ceil(u),p=this.pMatrix.props,x=this.rMatrix.props,c=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var _=0;if(u>0){for(;_<g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,d,!1),_+=d)}else if(u<0){for(;_>g;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),_-=1;d&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-d,!0),_-=d)}r=this.data.m===1?0:this._currentCopies-1,s=this.data.m===1?1:-1,n=this._currentCopies;for(var y,b;n;){if(t=this.elemsData[r].it,i=t[t.length-1].transform.mProps.v.props,b=i.length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),_!==0){for((r!==0&&s===1||r!==this._currentCopies-1&&s===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7],x[8],x[9],x[10],x[11],x[12],x[13],x[14],x[15]),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),y=0;y<b;y+=1)i[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<b;y+=1)i[y]=this.matrix.props[y];_+=1,n-=1,r+=s}}else for(n=this._currentCopies,r=0,s=1;n;)t=this.elemsData[r].it,i=t[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,n-=1,r+=s;return a},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var i=shapePool.newElement();i.c=e.c;var r,s=e._length,n,a,o,l,h,f,m=0,u,d,g,p,x,c;for(r=0;r<s;r+=1)n=e.v[r],o=e.o[r],a=e.i[r],n[0]===o[0]&&n[1]===o[1]&&n[0]===a[0]&&n[1]===a[1]?(r===0||r===s-1)&&!e.c?(i.setTripleAt(n[0],n[1],o[0],o[1],a[0],a[1],m),m+=1):(r===0?l=e.v[s-1]:l=e.v[r-1],h=Math.sqrt(Math.pow(n[0]-l[0],2)+Math.pow(n[1]-l[1],2)),f=h?Math.min(h/2,t)/h:0,x=n[0]+(l[0]-n[0])*f,u=x,c=n[1]-(n[1]-l[1])*f,d=c,g=u-(u-n[0])*roundCorner,p=d-(d-n[1])*roundCorner,i.setTripleAt(u,d,g,p,x,c,m),m+=1,r===s-1?l=e.v[0]:l=e.v[r+1],h=Math.sqrt(Math.pow(n[0]-l[0],2)+Math.pow(n[1]-l[1],2)),f=h?Math.min(h/2,t)/h:0,g=n[0]+(l[0]-n[0])*f,u=g,p=n[1]+(l[1]-n[1])*f,d=p,x=u-(u-n[0])*roundCorner,c=d-(d-n[1])*roundCorner,i.setTripleAt(u,d,g,p,x,c,m),m+=1):(i.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],m),m+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var t,i,r=this.shapes.length,s,n,a=this.rd.v;if(a!==0){var o,l;for(i=0;i<r;i+=1){if(o=this.shapes[i],l=o.localShapeCollection,!(!o.shape._mdf&&!this._mdf&&!e))for(l.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,n=o.shape.paths._length,s=0;s<n;s+=1)l.addShape(this.processPath(t[s],a));o.shape.paths=o.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,t){return Math.abs(e-t)*1e5<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,i){return e*(1-i)+t*i}function lerpPoint(e,t,i){return[lerp(e[0],t[0],i),lerp(e[1],t[1],i)]}function quadRoots(e,t,i){if(e===0)return[];var r=t*t-4*e*i;if(r<0)return[];var s=-t/(2*e);if(r===0)return[s];var n=Math.sqrt(r)/(2*e);return[s-n,s+n]}function polynomialCoefficients(e,t,i,r){return[-e+3*t-3*i+r,3*e-6*t+3*i,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,i,r,s){s&&pointEqual(e,t)&&(t=lerpPoint(e,r,1/3)),s&&pointEqual(i,r)&&(i=lerpPoint(e,r,2/3));var n=polynomialCoefficients(e[0],t[0],i[0],r[0]),a=polynomialCoefficients(e[1],t[1],i[1],r[1]);this.a=[n[0],a[0]],this.b=[n[1],a[1]],this.c=[n[2],a[2]],this.d=[n[3],a[3]],this.points=[e,t,i,r]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,i=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(i<0)return[];var r=Math.sqrt(i);return floatZero(r)?r>0&&r<1?[t]:[]:[t-r,t+r].filter(function(s){return s>0&&s<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),i=lerpPoint(this.points[1],this.points[2],e),r=lerpPoint(this.points[2],this.points[3],e),s=lerpPoint(t,i,e),n=lerpPoint(i,r,e),a=lerpPoint(s,n,e);return[new PolynomialBezier(this.points[0],t,s,a,!0),new PolynomialBezier(a,n,r,this.points[3],!0)]};function extrema(e,t){var i=e.points[0][t],r=e.points[e.points.length-1][t];if(i>r){var s=r;r=i,i=s}for(var n=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),a=0;a<n.length;a+=1)if(n[a]>0&&n[a]<1){var o=e.point(n[a])[t];o<i?i=o:o>r&&(r=o)}return{min:i,max:r}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,t,i){var r=e.boundingBox();return{cx:r.cx,cy:r.cy,width:r.width,height:r.height,bez:e,t:(t+i)/2,t1:t,t2:i}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return Math.abs(e.cx-t.cx)*2<e.width+t.width&&Math.abs(e.cy-t.cy)*2<e.height+t.height}function intersectsImpl(e,t,i,r,s,n){if(boxIntersect(e,t)){if(i>=n||e.width<=r&&e.height<=r&&t.width<=r&&t.height<=r){s.push([e.t,t.t]);return}var a=splitData(e),o=splitData(t);intersectsImpl(a[0],o[0],i+1,r,s,n),intersectsImpl(a[0],o[1],i+1,r,s,n),intersectsImpl(a[1],o[0],i+1,r,s,n),intersectsImpl(a[1],o[1],i+1,r,s,n)}}PolynomialBezier.prototype.intersections=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=7);var r=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,r,i),r},PolynomialBezier.shapeSegment=function(e,t){var i=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[i],e.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var i=(t+1)%e.length();return new PolynomialBezier(e.v[i],e.i[i],e.o[t],e.v[t],!0)};function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,i,r){var s=[e[0],e[1],1],n=[t[0],t[1],1],a=[i[0],i[1],1],o=[r[0],r[1],1],l=crossProduct(crossProduct(s,n),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,i){return[e[0]+Math.cos(t)*i,e[1]-Math.sin(t)*i]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,t,i,r,s,n,a){var o=i-Math.PI/2,l=i+Math.PI/2,h=t[0]+Math.cos(i)*r*s,f=t[1]-Math.sin(i)*r*s;e.setTripleAt(h,f,h+Math.cos(o)*n,f-Math.sin(o)*n,h+Math.cos(l)*a,f-Math.sin(l)*a,e.length())}function getPerpendicularVector(e,t){var i=[t[0]-e[0],t[1]-e[1]],r=-Math.PI*.5,s=[Math.cos(r)*i[0]-Math.sin(r)*i[1],Math.sin(r)*i[0]+Math.cos(r)*i[1]];return s}function getProjectingAngle(e,t){var i=t===0?e.length()-1:t-1,r=(t+1)%e.length(),s=e.v[i],n=e.v[r],a=getPerpendicularVector(s,n);return Math.atan2(0,1)-Math.atan2(a[1],a[0])}function zigZagCorner(e,t,i,r,s,n,a){var o=getProjectingAngle(t,i),l=t.v[i%t._length],h=t.v[i===0?t._length-1:i-1],f=t.v[(i+1)%t._length],m=n===2?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0,u=n===2?Math.sqrt(Math.pow(l[0]-f[0],2)+Math.pow(l[1]-f[1],2)):0;setPoint(e,t.v[i%t._length],o,a,r,u/((s+1)*2),m/((s+1)*2),n)}function zigZagSegment(e,t,i,r,s,n){for(var a=0;a<r;a+=1){var o=(a+1)/(r+1),l=s===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,h=t.normalAngle(o),f=t.point(o);setPoint(e,f,h,n,i,l/((r+1)*2),l/((r+1)*2),s),n=-n}return n}ZigZagModifier.prototype.processPath=function(e,t,i,r){var s=e._length,n=shapePool.newElement();if(n.c=e.c,e.c||(s-=1),s===0)return n;var a=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(n,e,0,t,i,r,a);for(var l=0;l<s;l+=1)a=zigZagSegment(n,o,t,i,r,-a),l===s-1&&!e.c?o=null:o=PolynomialBezier.shapeSegment(e,(l+1)%s),zigZagCorner(n,e,l+1,t,i,r,a);return n},ZigZagModifier.prototype.processShapes=function(e){var t,i,r=this.shapes.length,s,n,a=this.amplitude.v,o=Math.max(0,Math.round(this.frequency.v)),l=this.pointsType.v;if(a!==0){var h,f;for(i=0;i<r;i+=1){if(h=this.shapes[i],f=h.localShapeCollection,!(!h.shape._mdf&&!this._mdf&&!e))for(f.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,n=h.shape.paths._length,s=0;s<n;s+=1)f.addShape(this.processPath(t[s],a,o,l));h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,t,i){var r=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,r,i),polarOffset(t,r,i)]}function offsetSegment(e,t){var i,r,s,n,a,o,l;l=linearOffset(e.points[0],e.points[1],t),i=l[0],r=l[1],l=linearOffset(e.points[1],e.points[2],t),s=l[0],n=l[1],l=linearOffset(e.points[2],e.points[3],t),a=l[0],o=l[1];var h=lineIntersection(i,r,s,n);h===null&&(h=r);var f=lineIntersection(a,o,s,n);return f===null&&(f=a),new PolynomialBezier(i,h,f,o)}function joinLines(e,t,i,r,s){var n=t.points[3],a=i.points[0];if(r===3||pointEqual(n,a))return n;if(r===2){var o=-t.tangentAngle(1),l=-i.tangentAngle(0)+Math.PI,h=lineIntersection(n,polarOffset(n,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),f=h?pointDistance(h,n):pointDistance(n,a)/2,m=polarOffset(n,o,2*f*roundCorner);return e.setXYAt(m[0],m[1],"o",e.length()-1),m=polarOffset(a,l,2*f*roundCorner),e.setTripleAt(a[0],a[1],a[0],a[1],m[0],m[1],e.length()),a}var u=pointEqual(n,t.points[2])?t.points[0]:t.points[2],d=pointEqual(a,i.points[1])?i.points[3]:i.points[1],g=lineIntersection(u,n,a,d);return g&&pointDistance(g,n)<s?(e.setTripleAt(g[0],g[1],g[0],g[1],g[0],g[1],e.length()),g):n}function getIntersection(e,t){var i=e.intersections(t);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(e,t){var i=e.slice(),r=t.slice(),s=getIntersection(e[e.length-1],t[0]);return s&&(i[e.length-1]=e[e.length-1].split(s[0])[0],r[0]=t[0].split(s[1])[1]),e.length>1&&t.length>1&&(s=getIntersection(e[0],t[t.length-1]),s)?[[e[0].split(s[0])[0]],[t[t.length-1].split(s[1])[1]]]:[i,r]}function pruneIntersections(e){for(var t,i=1;i<e.length;i+=1)t=pruneSegmentIntersection(e[i-1],e[i]),e[i-1]=t[0],e[i]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var i=e.inflectionPoints(),r,s,n,a;if(i.length===0)return[offsetSegment(e,t)];if(i.length===1||floatEqual(i[1],1))return n=e.split(i[0]),r=n[0],s=n[1],[offsetSegment(r,t),offsetSegment(s,t)];n=e.split(i[0]),r=n[0];var o=(i[1]-i[0])/(1-i[0]);return n=n[1].split(o),a=n[0],s=n[1],[offsetSegment(r,t),offsetSegment(a,t),offsetSegment(s,t)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,t,i,r){var s=shapePool.newElement();s.c=e.c;var n=e.length();e.c||(n-=1);var a,o,l,h=[];for(a=0;a<n;a+=1)l=PolynomialBezier.shapeSegment(e,a),h.push(offsetSegmentSplit(l,t));if(!e.c)for(a=n-1;a>=0;a-=1)l=PolynomialBezier.shapeSegmentInverted(e,a),h.push(offsetSegmentSplit(l,t));h=pruneIntersections(h);var f=null,m=null;for(a=0;a<h.length;a+=1){var u=h[a];for(m&&(f=joinLines(s,m,u[0],i,r)),m=u[u.length-1],o=0;o<u.length;o+=1)l=u[o],f&&pointEqual(l.points[0],f)?s.setXYAt(l.points[1][0],l.points[1][1],"o",s.length()-1):s.setTripleAt(l.points[0][0],l.points[0][1],l.points[1][0],l.points[1][1],l.points[0][0],l.points[0][1],s.length()),s.setTripleAt(l.points[3][0],l.points[3][1],l.points[3][0],l.points[3][1],l.points[2][0],l.points[2][1],s.length()),f=l.points[3]}return h.length&&joinLines(s,m,h[0][0],i,r),s},OffsetPathModifier.prototype.processShapes=function(e){var t,i,r=this.shapes.length,s,n,a=this.amount.v,o=this.miterLimit.v,l=this.lineJoin;if(a!==0){var h,f;for(i=0;i<r;i+=1){if(h=this.shapes[i],f=h.localShapeCollection,!(!h.shape._mdf&&!this._mdf&&!e))for(f.releaseShapes(),h.shape._mdf=!0,t=h.shape.paths.shapes,n=h.shape.paths._length,s=0;s<n;s+=1)f.addShape(this.processPath(t[s],a,l,o));h.shape.paths=h.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],i="normal",r="normal",s=t.length,n,a=0;a<s;a+=1)switch(n=t[a].toLowerCase(),n){case"italic":r="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200";break;default:break}return{style:r,weight:e.fWeight||i}}var FontManager=function(){var e=5e3,t={w:0,size:0,shapes:[],data:{shapes:[]}},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,s=917631,n=917601,a=917626,o=65039,l=8205,h=127462,f=127487,m=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function u(D){var I=D.split(","),T,C=I.length,R=[];for(T=0;T<C;T+=1)I[T]!=="sans-serif"&&I[T]!=="monospace"&&R.push(I[T]);return R.join(",")}function d(D,I){var T=createTag("span");T.setAttribute("aria-hidden",!0),T.style.fontFamily=I;var C=createTag("span");C.innerText="giItT1WQy@!-/#",T.style.position="absolute",T.style.left="-10000px",T.style.top="-10000px",T.style.fontSize="300px",T.style.fontVariant="normal",T.style.fontStyle="normal",T.style.fontWeight="normal",T.style.letterSpacing="0",T.appendChild(C),document.body.appendChild(T);var R=C.offsetWidth;return C.style.fontFamily=u(D)+", "+I,{node:C,w:R,parent:T}}function g(){var D,I=this.fonts.length,T,C,R=I;for(D=0;D<I;D+=1)this.fonts[D].loaded?R-=1:this.fonts[D].fOrigin==="n"||this.fonts[D].origin===0?this.fonts[D].loaded=!0:(T=this.fonts[D].monoCase.node,C=this.fonts[D].monoCase.w,T.offsetWidth!==C?(R-=1,this.fonts[D].loaded=!0):(T=this.fonts[D].sansCase.node,C=this.fonts[D].sansCase.w,T.offsetWidth!==C&&(R-=1,this.fonts[D].loaded=!0)),this.fonts[D].loaded&&(this.fonts[D].sansCase.parent.parentNode.removeChild(this.fonts[D].sansCase.parent),this.fonts[D].monoCase.parent.parentNode.removeChild(this.fonts[D].monoCase.parent)));R!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function p(D,I){var T=document.body&&I?"svg":"canvas",C,R=getFontProperties(D);if(T==="svg"){var M=createNS("text");M.style.fontSize="100px",M.setAttribute("font-family",D.fFamily),M.setAttribute("font-style",R.style),M.setAttribute("font-weight",R.weight),M.textContent="1",D.fClass?(M.style.fontFamily="inherit",M.setAttribute("class",D.fClass)):M.style.fontFamily=D.fFamily,I.appendChild(M),C=M}else{var U=new OffscreenCanvas(500,500).getContext("2d");U.font=R.style+" "+R.weight+" 100px "+D.fFamily,C=U}function $(G){return T==="svg"?(C.textContent=G,C.getComputedTextLength()):C.measureText(G).width}return{measureText:$}}function x(D,I){if(!D){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=D.list;return}if(!document.body){this.isLoaded=!0,D.list.forEach(function(re){re.helper=p(re),re.cache={}}),this.fonts=D.list;return}var T=D.list,C,R=T.length,M=R;for(C=0;C<R;C+=1){var U=!0,$,G;if(T[C].loaded=!1,T[C].monoCase=d(T[C].fFamily,"monospace"),T[C].sansCase=d(T[C].fFamily,"sans-serif"),!T[C].fPath)T[C].loaded=!0,M-=1;else if(T[C].fOrigin==="p"||T[C].origin===3){if($=document.querySelectorAll('style[f-forigin="p"][f-family="'+T[C].fFamily+'"], style[f-origin="3"][f-family="'+T[C].fFamily+'"]'),$.length>0&&(U=!1),U){var W=createTag("style");W.setAttribute("f-forigin",T[C].fOrigin),W.setAttribute("f-origin",T[C].origin),W.setAttribute("f-family",T[C].fFamily),W.type="text/css",W.innerText="@font-face {font-family: "+T[C].fFamily+"; font-style: normal; src: url('"+T[C].fPath+"');}",I.appendChild(W)}}else if(T[C].fOrigin==="g"||T[C].origin===1){for($=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),G=0;G<$.length;G+=1)$[G].href.indexOf(T[C].fPath)!==-1&&(U=!1);if(U){var q=createTag("link");q.setAttribute("f-forigin",T[C].fOrigin),q.setAttribute("f-origin",T[C].origin),q.type="text/css",q.rel="stylesheet",q.href=T[C].fPath,document.body.appendChild(q)}}else if(T[C].fOrigin==="t"||T[C].origin===2){for($=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),G=0;G<$.length;G+=1)T[C].fPath===$[G].src&&(U=!1);if(U){var X=createTag("link");X.setAttribute("f-forigin",T[C].fOrigin),X.setAttribute("f-origin",T[C].origin),X.setAttribute("rel","stylesheet"),X.setAttribute("href",T[C].fPath),I.appendChild(X)}}T[C].helper=p(T[C],I),T[C].cache={},this.fonts.push(T[C])}M===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function c(D){if(D){this.chars||(this.chars=[]);var I,T=D.length,C,R=this.chars.length,M;for(I=0;I<T;I+=1){for(C=0,M=!1;C<R;)this.chars[C].style===D[I].style&&this.chars[C].fFamily===D[I].fFamily&&this.chars[C].ch===D[I].ch&&(M=!0),C+=1;M||(this.chars.push(D[I]),R+=1)}}}function _(D,I,T){for(var C=0,R=this.chars.length;C<R;){if(this.chars[C].ch===D&&this.chars[C].style===I&&this.chars[C].fFamily===T)return this.chars[C];C+=1}return(typeof D=="string"&&D.charCodeAt(0)!==13||!D)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",D,I,T)),t}function y(D,I,T){var C=this.getFontByName(I),R=D;if(!C.cache[R]){var M=C.helper;if(D===" "){var U=M.measureText("|"+D+"|"),$=M.measureText("||");C.cache[R]=(U-$)/100}else C.cache[R]=M.measureText(D)/100}return C.cache[R]*T}function b(D){for(var I=0,T=this.fonts.length;I<T;){if(this.fonts[I].fName===D)return this.fonts[I];I+=1}return this.fonts[0]}function E(D){var I=0,T=D.charCodeAt(0);if(T>=55296&&T<=56319){var C=D.charCodeAt(1);C>=56320&&C<=57343&&(I=(T-55296)*1024+C-56320+65536)}return I}function w(D,I){var T=D.toString(16)+I.toString(16);return m.indexOf(T)!==-1}function A(D){return D===l}function P(D){return D===o}function L(D){var I=E(D);return I>=h&&I<=f}function O(D){return L(D.substr(0,2))&&L(D.substr(2,2))}function F(D){return i.indexOf(D)!==-1}function k(D,I){var T=E(D.substr(I,2));if(T!==r)return!1;var C=0;for(I+=2;C<5;){if(T=E(D.substr(I,2)),T<n||T>a)return!1;C+=1,I+=2}return E(D.substr(I,2))===s}function B(){this.isLoaded=!0}var V=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};V.isModifier=w,V.isZeroWidthJoiner=A,V.isFlagEmoji=O,V.isRegionalCode=L,V.isCombinedCharacter=F,V.isRegionalFlag=k,V.isVariationSelector=P,V.BLACK_FLAG_CODE_POINT=r;var z={addChars:c,addFonts:x,getCharData:_,getFontByName:b,measureText:y,checkLoadedFonts:g,setIsLoaded:B};return V.prototype=z,V}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){this.renderableComponents.indexOf(t)===-1&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){this.renderableComponents.indexOf(t)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,i=this.renderableComponents.length;for(t=0;t<i;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function AngleEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function ColorEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function PointEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,1,0,i)}function LayerIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function MaskIndexEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function CheckboxEffect(e,t,i){this.p=PropertyFactory.getProp(t,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var i=e.ef||[];this.effectElements=[];var r,s=i.length,n;for(r=0;r<s;r+=1)n=new GroupEffect(i[r],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var i,r=this.data.ef.length,s,n=this.data.ef;for(i=0;i<r;i+=1){switch(s=null,n[i].ty){case 0:s=new SliderEffect(n[i],t,this);break;case 1:s=new AngleEffect(n[i],t,this);break;case 2:s=new ColorEffect(n[i],t,this);break;case 3:s=new PointEffect(n[i],t,this);break;case 4:case 7:s=new CheckboxEffect(n[i],t,this);break;case 10:s=new LayerIndexEffect(n[i],t,this);break;case 11:s=new MaskIndexEffect(n[i],t,this);break;case 5:s=new EffectsManager(n[i],t,this);break;default:s=new NoValueEffect(n[i],t,this);break}s&&this.effectElements.push(s)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,i=this.data.masksProperties.length;t<i;){if(this.data.masksProperties[t].mode!=="n"&&this.data.masksProperties[t].cl!==!1)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var i=t("layer"),r=t("effects"),s=t("shape"),n=t("text"),a=t("comp");this.layerInterface=i(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),this.data.ty===0||this.data.xt?this.compInterface=a(this):this.data.ty===4?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm),i=this.baseElement||this.layerElement;i.style["mix-blend-mode"]=t},initBaseData:function(t,i,r){this.globalData=i,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,i){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(i||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){this.dynamicProperties.indexOf(t)===-1&&this.dynamicProperties.push(t)}};function FootageElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,i)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,t,i){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,i),this._isPlaying=!1,this._canPlay=!1;var r=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(r),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var t,i=this.layers.length,r;for(this.completeLayers=!0,t=i-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t],r.ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t)),this.completeLayers=this.elements[t]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,i=e.length,r,s=this.layers.length;for(t=0;t<i;t+=1)for(r=0;r<s;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,i){for(var r=this.elements,s=this.layers,n=0,a=s.length;n<a;)s[n].ind==t&&(!r[n]||r[n]===!0?(this.buildItem(n),this.addPendingElement(e)):(i.push(r[n]),r[n].setAsParent(),s[n].parent!==void 0?this.buildElementParenting(e,s[n].parent,i):e.setHierarchy(i))),n+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,i=e.length;for(t=0;t<i;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.getElementById=function(e){var t,i=this.elements.length;for(t=0;t<i;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t=e.shift(),i;if(typeof t=="number")i=this.elements[t];else{var r,s=this.elements.length;for(r=0;r<s;r+=1)if(this.elements[r].data.nm===t){i=this.elements[r];break}}return e.length===0?i:i.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,i=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,i.cloneFromProps(t),r=0;r<s;r+=1)i.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,i=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<i;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<i;t+=1){var s=this.localTransforms[t].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(t=0;t<i;t+=1)n*=this.localTransforms[t].opacity*.01;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var i=0,r=t.length;for(i=0;i<r;i+=1)this.localTransforms.push(t[i])}}},globalToLocal:function(t){var i=[];i.push(this.finalTransform);for(var r=!0,s=this.comp;r;)s.finalTransform?(s.data.hasMask&&i.splice(0,0,s.finalTransform),s=s.comp):r=!1;var n,a=i.length,o;for(n=0;n<a;n+=1)o=i[n].mat.applyToPointArray(0,0,0),t=[t[0]-o[0],t[1]-o[1],0];return t},mHelper:new Matrix};function MaskElement(e,t,i){this.data=e,this.element=t,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r=this.globalData.defs,s,n=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(n),this.solidPath="";var a,o=this.masksProperties,l=0,h=[],f,m,u=createElementID(),d,g,p,x,c="clipPath",_="clip-path";for(s=0;s<n;s+=1)if((o[s].mode!=="a"&&o[s].mode!=="n"||o[s].inv||o[s].o.k!==100||o[s].o.x)&&(c="mask",_="mask"),(o[s].mode==="s"||o[s].mode==="i")&&l===0?(d=createNS("rect"),d.setAttribute("fill","#ffffff"),d.setAttribute("width",this.element.comp.data.w||0),d.setAttribute("height",this.element.comp.data.h||0),h.push(d)):d=null,a=createNS("path"),o[s].mode==="n")this.viewData[s]={op:PropertyFactory.getProp(this.element,o[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[s],3),elem:a,lastPath:""},r.appendChild(a);else{l+=1,a.setAttribute("fill",o[s].mode==="s"?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero");var y;if(o[s].x.k!==0?(c="mask",_="mask",x=PropertyFactory.getProp(this.element,o[s].x,0,null,this.element),y=createElementID(),g=createNS("filter"),g.setAttribute("id",y),p=createNS("feMorphology"),p.setAttribute("operator","erode"),p.setAttribute("in","SourceGraphic"),p.setAttribute("radius","0"),g.appendChild(p),r.appendChild(g),a.setAttribute("stroke",o[s].mode==="s"?"#000000":"#ffffff")):(p=null,x=null),this.storedData[s]={elem:a,x,expan:p,lastPath:"",lastOperator:"",filterId:y,lastRadius:0},o[s].mode==="i"){m=h.length;var b=createNS("g");for(f=0;f<m;f+=1)b.appendChild(h[f]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",u+"_"+l),E.appendChild(a),r.appendChild(E),b.setAttribute("mask","url("+getLocationHref()+"#"+u+"_"+l+")"),h.length=0,h.push(b)}else h.push(a);o[s].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[s]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,o[s].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,o[s],3),invRect:d},this.viewData[s].prop.k||this.drawPath(o[s],this.viewData[s].prop.v,this.viewData[s])}for(this.maskElement=createNS(c),n=h.length,s=0;s<n;s+=1)this.maskElement.appendChild(h[s]);l>0&&(this.maskElement.setAttribute("id",u),this.element.maskedElement.setAttribute(_,"url("+getLocationHref()+"#"+u+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t=this.element.finalTransform.mat,i,r=this.masksProperties.length;for(i=0;i<r;i+=1)if((this.viewData[i].prop._mdf||e)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||e)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),this.masksProperties[i].mode!=="n"&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[i].invRect.setAttribute("transform",t.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||e))){var s=this.storedData[i].expan;this.storedData[i].x.v<0?(this.storedData[i].lastOperator!=="erode"&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[i].filterId+")")),s.setAttribute("radius",-this.storedData[i].x.v)):(this.storedData[i].lastOperator!=="dilate"&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",this.storedData[i].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,t,i){var r=" M"+t.v[0][0]+","+t.v[0][1],s,n;for(n=t._length,s=1;s<n;s+=1)r+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[s][0]+","+t.i[s][1]+" "+t.v[s][0]+","+t.v[s][1];if(t.c&&n>1&&(r+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),i.lastPath!==r){var a="";i.elem&&(t.c&&(a=e.inv?this.solidPath+r:r),i.elem.setAttribute("d",a)),i.lastPath=r}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=t,e.createAlphaToLuminanceFilter=i;function t(r,s){var n=createNS("filter");return n.setAttribute("id",r),s!==!0&&(n.setAttribute("filterUnits","objectBoundingBox"),n.setAttribute("x","0%"),n.setAttribute("y","0%"),n.setAttribute("width","100%"),n.setAttribute("height","100%")),n}function i(){var r=createNS("feColorMatrix");return r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),r}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas!="undefined"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,i="SourceGraphic",r=e.data.ef?e.data.ef.length:0,s=createElementID(),n=filtersFactory.createFilter(s,!0),a=0;this.filters=[];var o;for(t=0;t<r;t+=1){o=null;var l=e.data.ef[t].ty;if(registeredEffects$1[l]){var h=registeredEffects$1[l].effect;o=new h(n,e.effectsManager.effectElements[t],e,idPrefix+a,i),i=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1)}o&&this.filters.push(o)}a&&(e.globalData.defs.appendChild(n),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,i=this.filters.length,r=[];for(t=0;t<i;t+=1)this.filters[t].type===e&&r.push(this.filters[t]);return r};function registerEffect$1(e,t,i){registeredEffects$1[e]={effect:t,countsAsEffect:i}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var i=createNS("g");i.setAttribute("id",this.layerId),i.appendChild(this.layerElement),t=i,this.globalData.defs.appendChild(i)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),a.appendChild(this.layerElement),this.transformedElement=a,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var i=this.layerId+"_"+t,r,s,n,a;if(t===1||t===3){var o=createNS("mask");o.setAttribute("id",i),o.setAttribute("mask-type",t===3?"luminance":"alpha"),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(n),this.globalData.defs.appendChild(o),!featureSupport.maskType&&t===1&&(o.setAttribute("mask-type","luminance"),r=createElementID(),s=filtersFactory.createFilter(r),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),a.appendChild(n),o.appendChild(a),a.setAttribute("filter","url("+getLocationHref()+"#"+r+")"))}else if(t===2){var l=createNS("mask");l.setAttribute("id",i),l.setAttribute("mask-type","alpha");var h=createNS("g");l.appendChild(h),r=createElementID(),s=filtersFactory.createFilter(r);var f=createNS("feComponentTransfer");f.setAttribute("in","SourceGraphic"),s.appendChild(f);var m=createNS("feFuncA");m.setAttribute("type","table"),m.setAttribute("tableValues","1.0 0.0"),f.appendChild(m),this.globalData.defs.appendChild(s);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),h.setAttribute("filter","url("+getLocationHref()+"#"+r+")"),h.appendChild(u),n=createNS("use"),n.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),h.appendChild(n),featureSupport.maskType||(l.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),a=createNS("g"),h.appendChild(u),a.appendChild(this.layerElement),h.appendChild(a)),this.globalData.defs.appendChild(l)}this.matteMasks[t]=i}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(i,r,s){this.initFrame(),this.initBaseData(i,r,s),this.initTransform(i,r,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var i=this.baseElement||this.layerElement;i.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var i=this.baseElement||this.layerElement;i.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(t){var i,r=this.shapeModifiers.length;for(i=0;i<r;i+=1)this.shapeModifiers[i].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var i=0,r=this.shapeModifiers.length;i<r;)if(this.shapeModifiers[i].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,i=this.shapes.length;for(t=0;t<i;t+=1)this.shapes[t].sh.reset();i=this.shapeModifiers.length;var r;for(t=i-1;t>=0&&(r=this.shapeModifiers[t].processShapes(this._isFirstFrame),!r);t-=1);}},searchProcessedElement:function(t){for(var i=this.processedElements,r=0,s=i.length;r<s;){if(i[r].elem===t)return i[r].pos;r+=1}return 0},addProcessedElement:function(t,i){for(var r=this.processedElements,s=r.length;s;)if(s-=1,r[s].elem===t){r[s].pos=i;return}r.push(new ProcessedElement(t,i))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=t,this._isAnimated=!!i.k;for(var r=0,s=e.length;r<s;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,t,i,r){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var s,n=t.length||0,a;for(s=0;s<n;s+=1)a=PropertyFactory.getProp(e,t[s].v,0,0,this),this.k=a.k||this.k,this.dataProps[s]={n:t[s].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,i=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<i;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=i}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,t,i){this.data=t,this.c=createTypedArray("uint8c",t.p*4);var r=t.k.k[0].s?t.k.k[0].s.length-t.p*4:t.k.k.length-t.p*4;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,t){for(var i=0,r=this.o.length/2,s;i<r;){if(s=Math.abs(e[i*4]-e[t*4+i*2]),s>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,i=this.data.p*4,r,s;for(t=0;t<i;t+=1)r=t%4===0?100:255,s=Math.round(this.prop.v[t]*r),this.c[t]!==s&&(this.c[t]=s,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,t=this.data.p*4;t<i;t+=1)r=t%2===0?100:1,s=t%2===0?Math.round(this.prop.v[t]*100):this.prop.v[t],this.o[t-this.data.p*4]!==s&&(this.o[t-this.data.p*4]=s,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,i)}SVGGradientFillStyleData.prototype.initGradientData=function(e,t,i){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,t),this.setGradientOpacity(t,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var i=createElementID(),r=createNS(t.t===1?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var s=[],n,a,o;for(o=t.g.p*4,a=0;a<o;a+=4)n=createNS("stop"),r.appendChild(n),s.push(n);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var i,r,s,n=createNS("mask"),a=createNS("path");n.appendChild(a);var o=createElementID(),l=createElementID();n.setAttribute("id",l);var h=createNS(e.t===1?"linearGradient":"radialGradient");h.setAttribute("id",o),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),s=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var f=this.stops;for(r=e.g.p*4;r<s;r+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(i),f.push(i);a.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),e.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&a.setAttribute("stroke-miterlimit",e.ml)),this.of=h,this.ms=n,this.ost=f,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,t,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,i),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,i){this.transform={mProps:e,op:t,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(t,i,r,s){if(i===0)return"";var n=t.o,a=t.i,o=t.v,l,h=" M"+s.applyToPointStringified(o[0][0],o[0][1]);for(l=1;l<i;l+=1)h+=" C"+s.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+s.applyToPointStringified(a[l][0],a[l][1])+" "+s.applyToPointStringified(o[l][0],o[l][1]);return r&&i&&(h+=" C"+s.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+s.applyToPointStringified(a[0][0],a[0][1])+" "+s.applyToPointStringified(o[0][0],o[0][1]),h+="z"),h},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix,i={createRenderFunction:r};function r(m){switch(m.ty){case"fl":return o;case"gf":return h;case"gs":return l;case"st":return f;case"sh":case"el":case"rc":case"sr":return a;case"tr":return s;case"no":return n;default:return null}}function s(m,u,d){(d||u.transform.op._mdf)&&u.transform.container.setAttribute("opacity",u.transform.op.v),(d||u.transform.mProps._mdf)&&u.transform.container.setAttribute("transform",u.transform.mProps.v.to2dCSS())}function n(){}function a(m,u,d){var g,p,x,c,_,y,b=u.styles.length,E=u.lvl,w,A,P,L;for(y=0;y<b;y+=1){if(c=u.sh._mdf||d,u.styles[y].lvl<E){for(A=t.reset(),P=E-u.styles[y].lvl,L=u.transformers.length-1;!c&&P>0;)c=u.transformers[L].mProps._mdf||c,P-=1,L-=1;if(c)for(P=E-u.styles[y].lvl,L=u.transformers.length-1;P>0;)A.multiply(u.transformers[L].mProps.v),P-=1,L-=1}else A=e;if(w=u.sh.paths,p=w._length,c){for(x="",g=0;g<p;g+=1)_=w.shapes[g],_&&_._length&&(x+=buildShapeString(_,_._length,_.c,A));u.caches[y]=x}else x=u.caches[y];u.styles[y].d+=m.hd===!0?"":x,u.styles[y]._mdf=c||u.styles[y]._mdf}}function o(m,u,d){var g=u.style;(u.c._mdf||d)&&g.pElem.setAttribute("fill","rgb("+bmFloor(u.c.v[0])+","+bmFloor(u.c.v[1])+","+bmFloor(u.c.v[2])+")"),(u.o._mdf||d)&&g.pElem.setAttribute("fill-opacity",u.o.v)}function l(m,u,d){h(m,u,d),f(m,u,d)}function h(m,u,d){var g=u.gf,p=u.g._hasOpacity,x=u.s.v,c=u.e.v;if(u.o._mdf||d){var _=m.ty==="gf"?"fill-opacity":"stroke-opacity";u.style.pElem.setAttribute(_,u.o.v)}if(u.s._mdf||d){var y=m.t===1?"x1":"cx",b=y==="x1"?"y1":"cy";g.setAttribute(y,x[0]),g.setAttribute(b,x[1]),p&&!u.g._collapsable&&(u.of.setAttribute(y,x[0]),u.of.setAttribute(b,x[1]))}var E,w,A,P;if(u.g._cmdf||d){E=u.cst;var L=u.g.c;for(A=E.length,w=0;w<A;w+=1)P=E[w],P.setAttribute("offset",L[w*4]+"%"),P.setAttribute("stop-color","rgb("+L[w*4+1]+","+L[w*4+2]+","+L[w*4+3]+")")}if(p&&(u.g._omdf||d)){var O=u.g.o;for(u.g._collapsable?E=u.cst:E=u.ost,A=E.length,w=0;w<A;w+=1)P=E[w],u.g._collapsable||P.setAttribute("offset",O[w*2]+"%"),P.setAttribute("stop-opacity",O[w*2+1])}if(m.t===1)(u.e._mdf||d)&&(g.setAttribute("x2",c[0]),g.setAttribute("y2",c[1]),p&&!u.g._collapsable&&(u.of.setAttribute("x2",c[0]),u.of.setAttribute("y2",c[1])));else{var F;if((u.s._mdf||u.e._mdf||d)&&(F=Math.sqrt(Math.pow(x[0]-c[0],2)+Math.pow(x[1]-c[1],2)),g.setAttribute("r",F),p&&!u.g._collapsable&&u.of.setAttribute("r",F)),u.e._mdf||u.h._mdf||u.a._mdf||d){F||(F=Math.sqrt(Math.pow(x[0]-c[0],2)+Math.pow(x[1]-c[1],2)));var k=Math.atan2(c[1]-x[1],c[0]-x[0]),B=u.h.v;B>=1?B=.99:B<=-1&&(B=-.99);var V=F*B,z=Math.cos(k+u.a.v)*V+x[0],D=Math.sin(k+u.a.v)*V+x[1];g.setAttribute("fx",z),g.setAttribute("fy",D),p&&!u.g._collapsable&&(u.of.setAttribute("fx",z),u.of.setAttribute("fy",D))}}}function f(m,u,d){var g=u.style,p=u.d;p&&(p._mdf||d)&&p.dashStr&&(g.pElem.setAttribute("stroke-dasharray",p.dashStr),g.pElem.setAttribute("stroke-dashoffset",p.dashoffset[0])),u.c&&(u.c._mdf||d)&&g.pElem.setAttribute("stroke","rgb("+bmFloor(u.c.v[0])+","+bmFloor(u.c.v[1])+","+bmFloor(u.c.v[2])+")"),(u.o._mdf||d)&&g.pElem.setAttribute("stroke-opacity",u.o.v),(u.w._mdf||d)&&(g.pElem.setAttribute("stroke-width",u.w.v),g.msElem&&g.msElem.setAttribute("stroke-width",u.w.v))}return i}();function SVGShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,i),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t=this.shapes.length,i,r,s=this.stylesList.length,n,a=[],o=!1;for(r=0;r<s;r+=1){for(n=this.stylesList[r],o=!1,a.length=0,e=0;e<t;e+=1)i=this.shapes[e],i.styles.indexOf(n)!==-1&&(a.push(i),o=i._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var i,r=new SVGStyleData(e,t),s=r.pElem;if(e.ty==="st")i=new SVGStrokeStyleData(this,e,r);else if(e.ty==="fl")i=new SVGFillStyleData(this,e,r);else if(e.ty==="gf"||e.ty==="gs"){var n=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new n(this,e,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),s.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))}else e.ty==="no"&&(i=new SVGNoStyleData(this,e,r));return(e.ty==="st"||e.ty==="gs")&&(s.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),s.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),s.setAttribute("fill-opacity","0"),e.lj===1&&s.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&s.setAttribute("fill-rule","evenodd"),e.ln&&s.setAttribute("id",e.ln),e.cl&&s.setAttribute("class",e.cl),e.bm&&(s.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var i=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(i,i.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,i){var r=4;e.ty==="rc"?r=5:e.ty==="el"?r=6:e.ty==="sr"&&(r=7);var s=ShapePropertyFactory.getShapeProp(this,e,r,this),n=new SVGShapeData(t,i,s);return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===t)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t=e.styles,i,r=this.stylesList.length;for(i=0;i<r;i+=1)this.stylesList[i].closed||t.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,i,r,s,n,a){var o=[].concat(n),l,h=e.length-1,f,m,u=[],d=[],g,p,x;for(l=h;l>=0;l-=1){if(x=this.searchProcessedElement(e[l]),x?t[l]=i[x-1]:e[l]._render=a,e[l].ty==="fl"||e[l].ty==="st"||e[l].ty==="gf"||e[l].ty==="gs"||e[l].ty==="no")x?t[l].style.closed=!1:t[l]=this.createStyleElement(e[l],s),e[l]._render&&t[l].style.pElem.parentNode!==r&&r.appendChild(t[l].style.pElem),u.push(t[l].style);else if(e[l].ty==="gr"){if(!x)t[l]=this.createGroupElement(e[l]);else for(m=t[l].it.length,f=0;f<m;f+=1)t[l].prevViewData[f]=t[l].it[f];this.searchShapes(e[l].it,t[l].it,t[l].prevViewData,t[l].gr,s+1,o,a),e[l]._render&&t[l].gr.parentNode!==r&&r.appendChild(t[l].gr)}else e[l].ty==="tr"?(x||(t[l]=this.createTransformElement(e[l],r)),g=t[l].transform,o.push(g)):e[l].ty==="sh"||e[l].ty==="rc"||e[l].ty==="el"||e[l].ty==="sr"?(x||(t[l]=this.createShapeElement(e[l],o,s)),this.setElementStyles(t[l])):e[l].ty==="tm"||e[l].ty==="rd"||e[l].ty==="ms"||e[l].ty==="pb"||e[l].ty==="zz"||e[l].ty==="op"?(x?(p=t[l],p.closed=!1):(p=ShapeModifiers.getModifier(e[l].ty),p.init(this,e[l]),t[l]=p,this.shapeModifiers.push(p)),d.push(p)):e[l].ty==="rp"&&(x?(p=t[l],p.closed=!0):(p=ShapeModifiers.getModifier(e[l].ty),t[l]=p,p.init(this,e,l,t),this.shapeModifiers.push(p),a=!1),d.push(p));this.addProcessedElement(e[l],l+1)}for(h=u.length,l=0;l<h;l+=1)u[l].closed=!0;for(h=d.length,l=0;l<h;l+=1)d[l].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t=this.animatedContents.length,i;for(e=0;e<t;e+=1)i=this.animatedContents[e],(this._isFirstFrame||i.element._isAnimated)&&i.data!==!0&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,t,i,r,s,n){this.o=e,this.sw=t,this.sc=i,this.fc=r,this.m=s,this.p=n,this._mdf={o:!0,sw:!!t,sc:!!i,fc:!!r,m:!0,p:!0}}LetterProps.prototype.update=function(e,t,i,r,s,n){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==s&&(this.m=s,this._mdf.m=!0,a=!0),n.length&&(this.p[0]!==n[0]||this.p[1]!==n[1]||this.p[4]!==n[4]||this.p[5]!==n[5]||this.p[12]!==n[12]||this.p[13]!==n[13])&&(this.p=n,this._mdf.p=!0,a=!0),a};function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,i=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var r,s=this.effectsSequence.length,n=e||this.data.d.k[this.keysIndex].s;for(r=0;r<s;r+=1)i!==this.keysIndex?n=this.effectsSequence[r](n,n.t):n=this.effectsSequence[r](this.currentData,n.t);t!==n&&this.setCurrentData(n),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,i=0,r=e.length;i<=r-1&&!(i===r-1||e[i+1].t>t);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t=[],i=0,r=e.length,s,n,a=!1,o=!1,l="";i<r;)a=o,o=!1,s=e.charCodeAt(i),l=e.charAt(i),FontManager.isCombinedCharacter(s)?a=!0:s>=55296&&s<=56319?FontManager.isRegionalFlag(e,i)?l=e.substr(i,14):(n=e.charCodeAt(i+1),n>=56320&&n<=57343&&(FontManager.isModifier(s,n)?(l=e.substr(i,2),a=!0):FontManager.isFlagEmoji(e.substr(i,4))?l=e.substr(i,4):l=e.substr(i,2))):s>56319?(n=e.charCodeAt(i+1),FontManager.isVariationSelector(s)&&(a=!0)):FontManager.isZeroWidthJoiner(s)&&(a=!0,o=!0),a?(t[t.length-1]+=l,a=!1):t.push(l),i+=l.length;return t},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t=this.elem.globalData.fontManager,i=this.data,r=[],s,n,a,o=0,l,h=i.m.g,f=0,m=0,u=0,d=[],g=0,p=0,x,c,_=t.getFontByName(e.f),y,b=0,E=getFontProperties(_);e.fWeight=E.weight,e.fStyle=E.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var w=e.tr/1e3*e.finalSize,A;if(e.sz)for(var P=!0,L=e.sz[0],O=e.sz[1],F,k;P;){k=this.buildFinalText(e.t),F=0,g=0,n=k.length,w=e.tr/1e3*e.finalSize;var B=-1;for(s=0;s<n;s+=1)A=k[s].charCodeAt(0),a=!1,k[s]===" "?B=s:(A===13||A===3)&&(g=0,a=!0,F+=e.finalLineHeight||e.finalSize*1.2),t.chars?(y=t.getCharData(k[s],_.fStyle,_.fFamily),b=a?0:y.w*e.finalSize/100):b=t.measureText(k[s],e.f,e.finalSize),g+b>L&&k[s]!==" "?(B===-1?n+=1:s=B,F+=e.finalLineHeight||e.finalSize*1.2,k.splice(s,B===s?1:0,"\r"),B=-1,g=0):(g+=b,g+=w);F+=_.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&O<F?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=k,n=e.finalText.length,P=!1)}g=-w,b=0;var V=0,z;for(s=0;s<n;s+=1)if(a=!1,z=e.finalText[s],A=z.charCodeAt(0),A===13||A===3?(V=0,d.push(g),p=g>p?g:p,g=-2*w,l="",a=!0,u+=1):l=z,t.chars?(y=t.getCharData(z,_.fStyle,t.getFontByName(e.f).fFamily),b=a?0:y.w*e.finalSize/100):b=t.measureText(l,e.f,e.finalSize),z===" "?V+=b+w:(g+=b+w+V,V=0),r.push({l:b,an:b,add:f,n:a,anIndexes:[],val:l,line:u,animatorJustifyOffset:0}),h==2){if(f+=b,l===""||l===" "||s===n-1){for((l===""||l===" ")&&(f-=b);m<=s;)r[m].an=f,r[m].ind=o,r[m].extra=b,m+=1;o+=1,f=0}}else if(h==3){if(f+=b,l===""||s===n-1){for(l===""&&(f-=b);m<=s;)r[m].an=f,r[m].ind=o,r[m].extra=b,m+=1;f=0,o+=1}}else r[o].ind=o,r[o].extra=0,o+=1;if(e.l=r,p=g>p?g:p,d.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=p,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=d;var D=i.a,I,T;c=D.length;var C,R,M=[];for(x=0;x<c;x+=1){for(I=D[x],I.a.sc&&(e.strokeColorAnim=!0),I.a.sw&&(e.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(e.fillColorAnim=!0),R=0,C=I.s.b,s=0;s<n;s+=1)T=r[s],T.anIndexes[x]=R,(C==1&&T.val!==""||C==2&&T.val!==""&&T.val!==" "||C==3&&(T.n||T.val==" "||s==n-1)||C==4&&(T.n||s==n-1))&&(I.s.rn===1&&M.push(R),R+=1);i.a[x].s.totalChars=R;var U=-1,$;if(I.s.rn===1)for(s=0;s<n;s+=1)T=r[s],U!=T.anIndexes[x]&&(U=T.anIndexes[x],$=M.splice(Math.floor(Math.random()*M.length),1)[0]),T.anIndexes[x]=$}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=_.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var i=this.copyData({},this.data.d.k[t].s);i=this.copyData(i,e),this.data.d.k[t].s=i,this.recalculate(t),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,i=Math.floor;function r(n,a){this._currentTextLength=-1,this.k=!1,this.data=a,this.elem=n,this.comp=n.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(n),this.s=PropertyFactory.getProp(n,a.s||{k:0},0,0,this),"e"in a?this.e=PropertyFactory.getProp(n,a.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(n,a.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(n,a.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(n,a.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(n,a.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(n,a.a,0,.01,this),this.dynamicProperties.length||this.getValue()}r.prototype={getMult:function(a){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var o=0,l=0,h=1,f=1;this.ne.v>0?o=this.ne.v/100:l=-this.ne.v/100,this.xe.v>0?h=1-this.xe.v/100:f=1+this.xe.v/100;var m=BezierFactory.getBezierEasing(o,l,h,f).get,u=0,d=this.finalS,g=this.finalE,p=this.data.sh;if(p===2)g===d?u=a>=g?1:0:u=e(0,t(.5/(g-d)+(a-d)/(g-d),1)),u=m(u);else if(p===3)g===d?u=a>=g?0:1:u=1-e(0,t(.5/(g-d)+(a-d)/(g-d),1)),u=m(u);else if(p===4)g===d?u=0:(u=e(0,t(.5/(g-d)+(a-d)/(g-d),1)),u<.5?u*=2:u=1-2*(u-.5)),u=m(u);else if(p===5){if(g===d)u=0;else{var x=g-d;a=t(e(0,a+.5-d),g-d);var c=-x/2+a,_=x/2;u=Math.sqrt(1-c*c/(_*_))}u=m(u)}else p===6?(g===d?u=0:(a=t(e(0,a+.5-d),g-d),u=(1+Math.cos(Math.PI+Math.PI*2*a/(g-d)))/2),u=m(u)):(a>=i(d)&&(a-d<0?u=e(0,t(t(g,1)-(d-a),1)):u=e(0,t(g-a,1))),u=m(u));if(this.sm.v!==100){var y=this.sm.v*.01;y===0&&(y=1e-8);var b=.5-y*.5;u<b?u=0:(u=(u-b)/y,u>1&&(u=1))}return u*this.a.v},getValue:function(a){this.iterateDynamicProperties(),this._mdf=a||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,a&&this.data.r===2&&(this.e.v=this._currentTextLength);var o=this.data.r===2?1:100/this.data.totalChars,l=this.o.v/o,h=this.s.v/o+l,f=this.e.v/o+l;if(h>f){var m=h;h=f,f=m}this.finalS=h,this.finalE=f}},extendPrototype([DynamicPropertyContainer],r);function s(n,a,o){return new r(n,a,o)}return{getTextSelectorProp:s}}();function TextAnimatorDataProperty(e,t,i){var r={propType:!1},s=PropertyFactory.getProp,n=t.a;this.a={r:n.r?s(e,n.r,0,degToRads,i):r,rx:n.rx?s(e,n.rx,0,degToRads,i):r,ry:n.ry?s(e,n.ry,0,degToRads,i):r,sk:n.sk?s(e,n.sk,0,degToRads,i):r,sa:n.sa?s(e,n.sa,0,degToRads,i):r,s:n.s?s(e,n.s,1,.01,i):r,a:n.a?s(e,n.a,1,0,i):r,o:n.o?s(e,n.o,0,.01,i):r,p:n.p?s(e,n.p,1,0,i):r,sw:n.sw?s(e,n.sw,0,0,i):r,sc:n.sc?s(e,n.sc,1,0,i):r,fc:n.fc?s(e,n.fc,1,0,i):r,fh:n.fh?s(e,n.fh,0,0,i):r,fs:n.fs?s(e,n.fs,0,.01,i):r,fb:n.fb?s(e,n.fb,0,.01,i):r,t:n.t?s(e,n.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,i),this.s.t=t.s.t}function TextAnimatorProperty(e,t,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t=this._textData.a.length,i,r=PropertyFactory.getProp;for(e=0;e<t;e+=1)i=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:r(this._elem,this._textData.p.a,0,0,this),f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:r(this._elem,this._textData.p.r,0,0,this),p:r(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,!(!this._mdf&&!this._isFirstFrame&&!t&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var i=this._moreOptions.alignment.v,r=this._animatorsData,s=this._textData,n=this.mHelper,a=this._renderType,o=this.renderedLetters.length,l,h,f,m,u=e.l,d,g,p,x,c,_,y,b,E,w,A,P,L,O,F;if(this._hasMaskedPath){if(F=this._pathData.m,!this._pathData.n||this._pathData._mdf){var k=F.v;this._pathData.r.v&&(k=k.reverse()),d={tLength:0,segments:[]},m=k._length-1;var B;for(P=0,f=0;f<m;f+=1)B=bez.buildBezierData(k.v[f],k.v[f+1],[k.o[f][0]-k.v[f][0],k.o[f][1]-k.v[f][1]],[k.i[f+1][0]-k.v[f+1][0],k.i[f+1][1]-k.v[f+1][1]]),d.tLength+=B.segmentLength,d.segments.push(B),P+=B.segmentLength;f=m,F.v.c&&(B=bez.buildBezierData(k.v[f],k.v[0],[k.o[f][0]-k.v[f][0],k.o[f][1]-k.v[f][1]],[k.i[0][0]-k.v[0][0],k.i[0][1]-k.v[0][1]]),d.tLength+=B.segmentLength,d.segments.push(B),P+=B.segmentLength),this._pathData.pi=d}if(d=this._pathData.pi,g=this._pathData.f.v,y=0,_=1,x=0,c=!0,w=d.segments,g<0&&F.v.c)for(d.tLength<Math.abs(g)&&(g=-Math.abs(g)%d.tLength),y=w.length-1,E=w[y].points,_=E.length-1;g<0;)g+=E[_].partialLength,_-=1,_<0&&(y-=1,E=w[y].points,_=E.length-1);E=w[y].points,b=E[_-1],p=E[_],A=p.partialLength}m=u.length,l=0,h=0;var V=e.finalSize*1.2*.714,z=!0,D,I,T,C,R;C=r.length;var M,U=-1,$,G,W,q=g,X=y,re=_,oe=-1,pe,ce,we,ie,j,qe,Ne,je,et="",tt=this.defaultPropsArray,it;if(e.j===2||e.j===1){var le=0,Re=0,Xe=e.j===2?-.5:-1,J=0,ee=!0;for(f=0;f<m;f+=1)if(u[f].n){for(le&&(le+=Re);J<f;)u[J].animatorJustifyOffset=le,J+=1;le=0,ee=!0}else{for(T=0;T<C;T+=1)D=r[T].a,D.t.propType&&(ee&&e.j===2&&(Re+=D.t.v*Xe),I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),M.length?le+=D.t.v*M[0]*Xe:le+=D.t.v*M*Xe);ee=!1}for(le&&(le+=Re);J<f;)u[J].animatorJustifyOffset=le,J+=1}for(f=0;f<m;f+=1){if(n.reset(),pe=1,u[f].n)l=0,h+=e.yOffset,h+=z?1:0,g=q,z=!1,this._hasMaskedPath&&(y=X,_=re,E=w[y].points,b=E[_-1],p=E[_],A=p.partialLength,x=0),et="",je="",qe="",it="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(oe!==u[f].line){switch(e.j){case 1:g+=P-e.lineWidths[u[f].line];break;case 2:g+=(P-e.lineWidths[u[f].line])/2;break;default:break}oe=u[f].line}U!==u[f].ind&&(u[U]&&(g+=u[U].extra),g+=u[f].an/2,U=u[f].ind),g+=i[0]*u[f].an*.005;var K=0;for(T=0;T<C;T+=1)D=r[T].a,D.p.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),M.length?K+=D.p.v[0]*M[0]:K+=D.p.v[0]*M),D.a.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),M.length?K+=D.a.v[0]*M[0]:K+=D.a.v[0]*M);for(c=!0,this._pathData.a.v&&(g=u[0].an*.5+(P-this._pathData.f.v-u[0].an*.5-u[u.length-1].an*.5)*U/(m-1),g+=this._pathData.f.v);c;)x+A>=g+K||!E?(L=(g+K-x)/p.partialLength,G=b.point[0]+(p.point[0]-b.point[0])*L,W=b.point[1]+(p.point[1]-b.point[1])*L,n.translate(-i[0]*u[f].an*.005,-(i[1]*V)*.01),c=!1):E&&(x+=p.partialLength,_+=1,_>=E.length&&(_=0,y+=1,w[y]?E=w[y].points:F.v.c?(_=0,y=0,E=w[y].points):(x-=p.partialLength,E=null)),E&&(b=p,p=E[_],A=p.partialLength));$=u[f].an/2-u[f].add,n.translate(-$,0,0)}else $=u[f].an/2-u[f].add,n.translate(-$,0,0),n.translate(-i[0]*u[f].an*.005,-i[1]*V*.01,0);for(T=0;T<C;T+=1)D=r[T].a,D.t.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),(l!==0||e.j!==0)&&(this._hasMaskedPath?M.length?g+=D.t.v*M[0]:g+=D.t.v*M:M.length?l+=D.t.v*M[0]:l+=D.t.v*M));for(e.strokeWidthAnim&&(we=e.sw||0),e.strokeColorAnim&&(e.sc?ce=[e.sc[0],e.sc[1],e.sc[2]]:ce=[0,0,0]),e.fillColorAnim&&e.fc&&(ie=[e.fc[0],e.fc[1],e.fc[2]]),T=0;T<C;T+=1)D=r[T].a,D.a.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),M.length?n.translate(-D.a.v[0]*M[0],-D.a.v[1]*M[1],D.a.v[2]*M[2]):n.translate(-D.a.v[0]*M,-D.a.v[1]*M,D.a.v[2]*M));for(T=0;T<C;T+=1)D=r[T].a,D.s.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),M.length?n.scale(1+(D.s.v[0]-1)*M[0],1+(D.s.v[1]-1)*M[1],1):n.scale(1+(D.s.v[0]-1)*M,1+(D.s.v[1]-1)*M,1));for(T=0;T<C;T+=1){if(D=r[T].a,I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),D.sk.propType&&(M.length?n.skewFromAxis(-D.sk.v*M[0],D.sa.v*M[1]):n.skewFromAxis(-D.sk.v*M,D.sa.v*M)),D.r.propType&&(M.length?n.rotateZ(-D.r.v*M[2]):n.rotateZ(-D.r.v*M)),D.ry.propType&&(M.length?n.rotateY(D.ry.v*M[1]):n.rotateY(D.ry.v*M)),D.rx.propType&&(M.length?n.rotateX(D.rx.v*M[0]):n.rotateX(D.rx.v*M)),D.o.propType&&(M.length?pe+=(D.o.v*M[0]-pe)*M[0]:pe+=(D.o.v*M-pe)*M),e.strokeWidthAnim&&D.sw.propType&&(M.length?we+=D.sw.v*M[0]:we+=D.sw.v*M),e.strokeColorAnim&&D.sc.propType)for(j=0;j<3;j+=1)M.length?ce[j]+=(D.sc.v[j]-ce[j])*M[0]:ce[j]+=(D.sc.v[j]-ce[j])*M;if(e.fillColorAnim&&e.fc){if(D.fc.propType)for(j=0;j<3;j+=1)M.length?ie[j]+=(D.fc.v[j]-ie[j])*M[0]:ie[j]+=(D.fc.v[j]-ie[j])*M;D.fh.propType&&(M.length?ie=addHueToRGB(ie,D.fh.v*M[0]):ie=addHueToRGB(ie,D.fh.v*M)),D.fs.propType&&(M.length?ie=addSaturationToRGB(ie,D.fs.v*M[0]):ie=addSaturationToRGB(ie,D.fs.v*M)),D.fb.propType&&(M.length?ie=addBrightnessToRGB(ie,D.fb.v*M[0]):ie=addBrightnessToRGB(ie,D.fb.v*M))}}for(T=0;T<C;T+=1)D=r[T].a,D.p.propType&&(I=r[T].s,M=I.getMult(u[f].anIndexes[T],s.a[T].s.totalChars),this._hasMaskedPath?M.length?n.translate(0,D.p.v[1]*M[0],-D.p.v[2]*M[1]):n.translate(0,D.p.v[1]*M,-D.p.v[2]*M):M.length?n.translate(D.p.v[0]*M[0],D.p.v[1]*M[1],-D.p.v[2]*M[2]):n.translate(D.p.v[0]*M,D.p.v[1]*M,-D.p.v[2]*M));if(e.strokeWidthAnim&&(qe=we<0?0:we),e.strokeColorAnim&&(Ne="rgb("+Math.round(ce[0]*255)+","+Math.round(ce[1]*255)+","+Math.round(ce[2]*255)+")"),e.fillColorAnim&&e.fc&&(je="rgb("+Math.round(ie[0]*255)+","+Math.round(ie[1]*255)+","+Math.round(ie[2]*255)+")"),this._hasMaskedPath){if(n.translate(0,-e.ls),n.translate(0,i[1]*V*.01+h,0),this._pathData.p.v){O=(p.point[1]-b.point[1])/(p.point[0]-b.point[0]);var ae=Math.atan(O)*180/Math.PI;p.point[0]<b.point[0]&&(ae+=180),n.rotate(-ae*Math.PI/180)}n.translate(G,W,0),g-=i[0]*u[f].an*.005,u[f+1]&&U!==u[f+1].ind&&(g+=u[f].an/2,g+=e.tr*.001*e.finalSize)}else{switch(n.translate(l,h,0),e.ps&&n.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:n.translate(u[f].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[u[f].line]),0,0);break;case 2:n.translate(u[f].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[u[f].line])/2,0,0);break;default:break}n.translate(0,-e.ls),n.translate($,0,0),n.translate(i[0]*u[f].an*.005,i[1]*V*.01,0),l+=u[f].l+e.tr*.001*e.finalSize}a==="html"?et=n.toCSS():a==="svg"?et=n.to2dCSS():tt=[n.props[0],n.props[1],n.props[2],n.props[3],n.props[4],n.props[5],n.props[6],n.props[7],n.props[8],n.props[9],n.props[10],n.props[11],n.props[12],n.props[13],n.props[14],n.props[15]],it=pe}o<=f?(R=new LetterProps(it,qe,Ne,je,et,tt),this.renderedLetters.push(R),o+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[f],this.lettersChangedFlag=R.update(it,qe,Ne,je,et,tt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,t,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var i,r=t.length,s,n="";for(i=0;i<r;i+=1)t[i].ty==="sh"&&(s=t[i].ks.k,n+=buildShapeString(s,s.i.length,!0,e));return n},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,i,r,s){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0);break;default:break}t.translate(r,s,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,i){this.textSpans=[],this.renderType="svg",this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,i=e.length,r=[],s="";t<i;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(s),s=""):s+=e[t],t+=1;return r.push(s),r},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var i=e.shapes[0];if(i.it){var r=i.it[i.it.length-1];r.s&&(r.s.k[0]=t,r.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,t,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var r=this.globalData.fontManager.getFontByName(i.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var s=i.fWeight,n=i.fStyle;this.layerElement.setAttribute("font-style",n),this.layerElement.setAttribute("font-weight",s)}this.layerElement.setAttribute("aria-label",i.t);var a=i.l||[],o=!!this.globalData.fontManager.chars;t=a.length;var l,h=this.mHelper,f="",m=this.data.singleShape,u=0,d=0,g=!0,p=i.tr*.001*i.finalSize;if(m&&!o&&!i.sz){var x=this.textContainer,c="start";switch(i.j){case 1:c="end";break;case 2:c="middle";break;default:c="start";break}x.setAttribute("text-anchor",c),x.setAttribute("letter-spacing",p);var _=this.buildTextContents(i.finalText);for(t=_.length,d=i.ps?i.ps[1]+i.ascent:0,e=0;e<t;e+=1)l=this.textSpans[e].span||createNS("tspan"),l.textContent=_[e],l.setAttribute("x",0),l.setAttribute("y",d),l.style.display="inherit",x.appendChild(l),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=l,d+=i.finalLineHeight;this.layerElement.appendChild(x)}else{var y=this.textSpans.length,b;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!o||!m||e===0){if(l=y>e?this.textSpans[e].span:createNS(o?"g":"text"),y<=e){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=l,o){var E=createNS("g");l.appendChild(E),this.textSpans[e].childSpan=E}this.textSpans[e].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(h.reset(),m&&(a[e].n&&(u=-p,d+=i.yOffset,d+=g?1:0,g=!1),this.applyTextPropertiesToMatrix(i,h,a[e].line,u,d),u+=a[e].l||0,u+=p),o){b=this.globalData.fontManager.getCharData(i.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily);var w;if(b.t===1)w=new SVGCompElement(b.data,this.globalData,this);else{var A=emptyShapeData;b.data&&b.data.shapes&&(A=this.buildShapeData(b.data,i.finalSize)),w=new SVGShapeElement(A,this.globalData,this)}if(this.textSpans[e].glyph){var P=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(P.layerElement),P.destroy()}this.textSpans[e].glyph=w,w._debug=!0,w.prepareFrame(0),w.renderFrame(),this.textSpans[e].childSpan.appendChild(w.layerElement),b.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else m&&l.setAttribute("transform","translate("+h.props[12]+","+h.props[13]+")"),l.textContent=a[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&l&&l.setAttribute("d",f)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t=this.textSpans.length,i;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<t;e+=1)i=this.textSpans[e].glyph,i&&(i.prepareFrame(this.comp.renderedFrame-this.data.st),i._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,i=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l;t=r.length;var s,n,a;for(e=0;e<t;e+=1)r[e].n||(s=i[e],n=this.textSpans[e].span,a=this.textSpans[e].glyph,a&&a.renderFrame(),s._mdf.m&&n.setAttribute("transform",s.m),s._mdf.o&&n.setAttribute("opacity",s.o),s._mdf.sw&&n.setAttribute("stroke-width",s.sw),s._mdf.sc&&n.setAttribute("stroke",s.sc),s._mdf.fc&&n.setAttribute("fill",s.fc))}};function ISolidElement(e,t,i){this.initElement(e,t,i)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initFrame(),this.initTransform(e,t,i),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var s=createElementID();i.setAttribute("id",s),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+s+")"),t.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,i=this.layers.length;for(t=0;t<i;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){t[e]=!0;var i=this.createItem(this.layers[e]);if(t[e]=i,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt){var r="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(r===-1)return;if(!this.elements[r]||this.elements[r]===!0)this.buildItem(r),this.addPendingElement(i);else{var s=t[r],n=s.getMatte(this.layers[e].tt);i.setMatte(n)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,i=this.elements.length;t<i;){if(this.elements[t]===e){var r="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,s=this.elements[r],n=s.getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=i-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){for(var r=0,s;r<t;)this.elements[r]&&this.elements[r]!==!0&&this.elements[r].getBaseElement()&&(s=this.elements[r].getBaseElement()),r+=1;s?this.layerElement.insertBefore(i,s):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var i,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,t,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(t&&t.title){var r=createNS("title"),s=createElementID();r.setAttribute("id",s),r.textContent=t.title,this.svgElement.appendChild(r),i+=s}if(t&&t.description){var n=createNS("desc"),a=createElementID();n.setAttribute("id",a),n.textContent=t.description,this.svgElement.appendChild(n),i+=" "+a}i&&this.svgElement.setAttribute("aria-labelledby",i);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(t){var i,r=t.length,s="_";for(i=0;i<r;i+=1)s+=t[i].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(t,i){for(var r=0,s=t.transforms.length,n=i;r<s&&!i;){if(t.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(t.finalTransform.reset(),r=s-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=n},processSequences:function(t){var i,r=this.sequenceList.length;for(i=0;i<r;i+=1)this.processSequence(this.sequenceList[i],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",i=null,r=null,s=null;function n(){var l=createNS("svg"),h=createNS("filter"),f=createNS("feColorMatrix");return h.setAttribute("id",t),f.setAttribute("type","matrix"),f.setAttribute("color-interpolation-filters","sRGB"),f.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),h.appendChild(f),l.appendChild(h),l.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(l.style.display="none"),l}function a(){i||(s=n(),document.body.appendChild(s),i=createTag("canvas"),r=i.getContext("2d"),r.filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function o(l){return i||a(),i.width=l.width,i.height=l.height,r.filter="url(#"+t+")",i}return{load:a,get:o}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var i=createTag("canvas");return i.width=e,i.height=t,i}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var t,i=e.data.ef?e.data.ef.length:0;this.filters=[];var r;for(t=0;t<i;t+=1){r=null;var s=e.data.ef[t].ty;if(registeredEffects[s]){var n=registeredEffects[s].effect;r=new n(e.effectsManager.effectElements[t],e)}r&&this.filters.push(r)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,i=this.filters.length,r=[];for(t=0;t<i;t+=1)this.filters[t].type===e&&r.push(this.filters[t]);return r};function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,r=this.masksProperties.length,s=!1;for(i=0;i<r;i+=1)this.masksProperties[i].mode!=="n"&&(s=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=s,s&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,t=this.element.canvasContext,i,r=this.masksProperties.length,s,n,a;for(t.beginPath(),i=0;i<r;i+=1)if(this.masksProperties[i].mode!=="n"){this.masksProperties[i].inv&&(t.moveTo(0,0),t.lineTo(this.element.globalData.compSize.w,0),t.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),t.lineTo(0,this.element.globalData.compSize.h),t.lineTo(0,0)),a=this.viewData[i].v,s=e.applyToPointArray(a.v[0][0],a.v[0][1],0),t.moveTo(s[0],s[1]);var o,l=a._length;for(o=1;o<l;o+=1)n=e.applyToTriplePoints(a.o[o-1],a.i[o],a.v[o]),t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=e.applyToTriplePoints(a.o[o-1],a.i[0],a.v[0]),t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),t.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,i=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(i);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var i=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=i}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0],i=t.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],i=t.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var r=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(r.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var s=assetLoader.getLumaCanvas(this.canvasContext.canvas),n=s.getContext("2d");n.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(s,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var i=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(i),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,t,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,s,e);var n,a=i.length,o;for(n=0;n<a;n+=1)i[n].closed||(o={transforms:r.addTransformSequence(i[n].transforms),trNodes:[]},this.styledShapes.push(o),i[n].elements.push(o))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},r={};if(e.ty==="fl"||e.ty==="st"?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(i.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(i.lc=lineCapEnum[e.lc||2],i.lj=lineJoinEnum[e.lj||2],e.lj==1&&(i.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(i.wi=r.w.v),e.d){var s=new DashProperty(this,e.d,"canvas",this);r.d=s,r.d.k||(i.da=r.d.dashArray,i.do=r.d.dashoffset[0])}}else i.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(i),r.style=i,r},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return t},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,i=e.length;for(t=0;t<i;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,i,r,s){var n,a=e.length-1,o,l,h=[],f=[],m,u,d,g=[].concat(s);for(n=a;n>=0;n-=1){if(m=this.searchProcessedElement(e[n]),m?t[n]=i[m-1]:e[n]._shouldRender=r,e[n].ty==="fl"||e[n].ty==="st"||e[n].ty==="gf"||e[n].ty==="gs")m?t[n].style.closed=!1:t[n]=this.createStyleElement(e[n],g),h.push(t[n].style);else if(e[n].ty==="gr"){if(!m)t[n]=this.createGroupElement(e[n]);else for(l=t[n].it.length,o=0;o<l;o+=1)t[n].prevViewData[o]=t[n].it[o];this.searchShapes(e[n].it,t[n].it,t[n].prevViewData,r,g)}else e[n].ty==="tr"?(m||(d=this.createTransformElement(e[n]),t[n]=d),g.push(t[n]),this.addTransformToStyleList(t[n])):e[n].ty==="sh"||e[n].ty==="rc"||e[n].ty==="el"||e[n].ty==="sr"?m||(t[n]=this.createShapeElement(e[n])):e[n].ty==="tm"||e[n].ty==="rd"||e[n].ty==="pb"||e[n].ty==="zz"||e[n].ty==="op"?(m?(u=t[n],u.closed=!1):(u=ShapeModifiers.getModifier(e[n].ty),u.init(this,e[n]),t[n]=u,this.shapeModifiers.push(u)),f.push(u)):e[n].ty==="rp"&&(m?(u=t[n],u.closed=!0):(u=ShapeModifiers.getModifier(e[n].ty),t[n]=u,u.init(this,e,n,t),this.shapeModifiers.push(u),r=!1),f.push(u));this.addProcessedElement(e[n],n+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),a=f.length,n=0;n<a;n+=1)f[n].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t=this.stylesList.length,i,r,s,n,a,o,l=this.globalData.renderer,h=this.globalData.canvasContext,f,m;for(e=0;e<t;e+=1)if(m=this.stylesList[e],f=m.type,!((f==="st"||f==="gs")&&m.wi===0||!m.data._shouldRender||m.coOp===0||this.globalData.currentGlobalAlpha===0)){for(l.save(),a=m.elements,f==="st"||f==="gs"?(l.ctxStrokeStyle(f==="st"?m.co:m.grd),l.ctxLineWidth(m.wi),l.ctxLineCap(m.lc),l.ctxLineJoin(m.lj),l.ctxMiterLimit(m.ml||0)):l.ctxFillStyle(f==="fl"?m.co:m.grd),l.ctxOpacity(m.coOp),f!=="st"&&f!=="gs"&&h.beginPath(),l.ctxTransform(m.preTransforms.finalTransform.props),r=a.length,i=0;i<r;i+=1){for((f==="st"||f==="gs")&&(h.beginPath(),m.da&&(h.setLineDash(m.da),h.lineDashOffset=m.do)),o=a[i].trNodes,n=o.length,s=0;s<n;s+=1)o[s].t==="m"?h.moveTo(o[s].p[0],o[s].p[1]):o[s].t==="c"?h.bezierCurveTo(o[s].pts[0],o[s].pts[1],o[s].pts[2],o[s].pts[3],o[s].pts[4],o[s].pts[5]):h.closePath();(f==="st"||f==="gs")&&(l.ctxStroke(),m.da&&h.setLineDash(this.dashResetter))}f!=="st"&&f!=="gs"&&this.globalData.renderer.ctxFill(m.r),l.restore()}},CVShapeElement.prototype.renderShape=function(e,t,i,r){var s,n=t.length-1,a;for(a=e,s=n;s>=0;s-=1)t[s].ty==="tr"?(a=i[s].transform,this.renderShapeTransform(e,a)):t[s].ty==="sh"||t[s].ty==="el"||t[s].ty==="rc"||t[s].ty==="sr"?this.renderPath(t[s],i[s]):t[s].ty==="fl"?this.renderFill(t[s],i[s],a):t[s].ty==="st"?this.renderStroke(t[s],i[s],a):t[s].ty==="gf"||t[s].ty==="gs"?this.renderGradientFill(t[s],i[s],a):t[s].ty==="gr"?this.renderShape(a,t[s].it,i[s].it):t[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var i=e.trNodes,r=t.paths,s,n,a,o=r._length;i.length=0;var l=e.transforms.finalTransform;for(a=0;a<o;a+=1){var h=r.shapes[a];if(h&&h.v){for(n=h._length,s=1;s<n;s+=1)s===1&&i.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),i.push({t:"c",pts:l.applyToTriplePoints(h.o[s-1],h.i[s],h.v[s])});n===1&&i.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&n&&(i.push({t:"c",pts:l.applyToTriplePoints(h.o[s-1],h.i[0],h.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var i,r=t.styledShapes.length;for(i=0;i<r;i+=1)this.renderStyledShape(t.styledShapes[i],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,i){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,i){var r=t.style,s;if(!r.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var n=this.globalData.canvasContext,a=t.s.v,o=t.e.v;if(e.t===1)s=n.createLinearGradient(a[0],a[1],o[0],o[1]);else{var l=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),h=Math.atan2(o[1]-a[1],o[0]-a[0]),f=t.h.v;f>=1?f=.99:f<=-1&&(f=-.99);var m=l*f,u=Math.cos(h+t.a.v)*m+a[0],d=Math.sin(h+t.a.v)*m+a[1];s=n.createRadialGradient(u,d,0,a[0],a[1],l)}var g,p=e.g.p,x=t.g.c,c=1;for(g=0;g<p;g+=1)t.g._hasOpacity&&t.g._collapsable&&(c=t.g.o[g*2+1]),s.addColorStop(x[g*4]/100,"rgba("+x[g*4+1]+","+x[g*4+2]+","+x[g*4+3]+","+c+")");r.grd=s}r.coOp=t.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,t,i){var r=t.style,s=t.d;s&&(s._mdf||this._isFirstFrame)&&(r.da=s.dashArray,r.do=s.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*i.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,t,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r=this.globalData.fontManager.getFontByName(e.f),s,n,a=e.l,o=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var l,h,f,m,u,d,g,p,x,c,_=this.data.singleShape,y=e.tr*.001*e.finalSize,b=0,E=0,w=!0,A=0;for(s=0;s<n;s+=1){l=this.globalData.fontManager.getCharData(e.finalText[s],r.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),h=l&&l.data||{},o.reset(),_&&a[s].n&&(b=-y,E+=e.yOffset,E+=w?1:0,w=!1),u=h.shapes?h.shapes[0].it:[],g=u.length,o.scale(e.finalSize/100,e.finalSize/100),_&&this.applyTextPropertiesToMatrix(e,o,a[s].line,b,E),x=createSizedArray(g-1);var P=0;for(d=0;d<g;d+=1)if(u[d].ty==="sh"){for(m=u[d].ks.k.i.length,p=u[d].ks.k,c=[],f=1;f<m;f+=1)f===1&&c.push(o.applyToX(p.v[0][0],p.v[0][1],0),o.applyToY(p.v[0][0],p.v[0][1],0)),c.push(o.applyToX(p.o[f-1][0],p.o[f-1][1],0),o.applyToY(p.o[f-1][0],p.o[f-1][1],0),o.applyToX(p.i[f][0],p.i[f][1],0),o.applyToY(p.i[f][0],p.i[f][1],0),o.applyToX(p.v[f][0],p.v[f][1],0),o.applyToY(p.v[f][0],p.v[f][1],0));c.push(o.applyToX(p.o[f-1][0],p.o[f-1][1],0),o.applyToY(p.o[f-1][0],p.o[f-1][1],0),o.applyToX(p.i[0][0],p.i[0][1],0),o.applyToY(p.i[0][0],p.i[0][1],0),o.applyToX(p.v[0][0],p.v[0][1],0),o.applyToY(p.v[0][0],p.v[0][1],0)),x[P]=c,P+=1}_&&(b+=a[s].l,b+=y),this.textSpans[A]?this.textSpans[A].elem=x:this.textSpans[A]={elem:x},A+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,i,r,s,n,a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;i=l.length;var h,f=null,m=null,u=null,d,g,p=this.globalData.renderer;for(t=0;t<i;t+=1)if(!l[t].n){if(h=o[t],h&&(p.save(),p.ctxTransform(h.p),p.ctxOpacity(h.o)),this.fill){for(h&&h.fc?f!==h.fc&&(p.ctxFillStyle(h.fc),f=h.fc):f!==this.values.fill&&(f=this.values.fill,p.ctxFillStyle(this.values.fill)),d=this.textSpans[t].elem,s=d.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(g=d[r],a=g.length,this.globalData.canvasContext.moveTo(g[0],g[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(g[n],g[n+1],g[n+2],g[n+3],g[n+4],g[n+5]);this.globalData.canvasContext.closePath(),p.ctxFill()}if(this.stroke){for(h&&h.sw?u!==h.sw&&(u=h.sw,p.ctxLineWidth(h.sw)):u!==this.values.sWidth&&(u=this.values.sWidth,p.ctxLineWidth(this.values.sWidth)),h&&h.sc?m!==h.sc&&(m=h.sc,p.ctxStrokeStyle(h.sc)):m!==this.values.stroke&&(m=this.values.stroke,p.ctxStrokeStyle(this.values.stroke)),d=this.textSpans[t].elem,s=d.length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(g=d[r],a=g.length,this.globalData.canvasContext.moveTo(g[0],g[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(g[n],g[n+1],g[n+2],g[n+3],g[n+4],g[n+5]);this.globalData.canvasContext.closePath(),p.ctxStroke()}h&&this.globalData.renderer.restore()}};function CVImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t=e.getContext("2d"),i=this.img.width,r=this.img.height,s=i/r,n=this.assetData.w/this.assetData.h,a,o,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s>n&&l==="xMidYMid slice"||s<n&&l!=="xMidYMid slice"?(o=r,a=o*n):(a=i,o=a/n),t.drawImage(this.img,(i-a)/2,(r-o)/2,a,o,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,t,i){this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,i,r){this.canvasContext.fillRect(e,t,i,r)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var i="0px 0px 0px";t.transformOrigin=i,t.mozTransformOrigin=i,t.webkitTransformOrigin=i,t["-webkit-transform"]=i,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){this.reset();var i,r;e?(i=e,r=t,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=r):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,r=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=r*this.renderConfig.dpr);var s,n;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",h=l.substr(0,4),f=l.substr(4);s=i/r,n=this.transformCanvas.w/this.transformCanvas.h,n>s&&o==="meet"||n<s&&o==="slice"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),h==="xMid"&&(n<s&&o==="meet"||n>s&&o==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:h==="xMax"&&(n<s&&o==="meet"||n>s&&o==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,f==="YMid"&&(n>s&&o==="meet"||n<s&&o==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:f==="YMax"&&(n>s&&o==="meet"||n<s&&o==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,t=this.layers?this.layers.length:0;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!t||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var i,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!(t[e]||this.layers[e].ty===99)){var i=this.createItem(this.layers[e],this,this.globalData);t[e]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,t=15;for(e=0;e<t;e+=1){var i=new CanvasContext;this.stack[e]=i}this._length=t,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t=this.stack[this.cArrPos],i=t.transform,r,s=this.cTr.props;for(r=0;r<16;r+=1)s[r]=i[r];if(e){this.nativeContext.restore();var n=this.stack[this.cArrPos+1];this.appliedFillStyle=n.fillStyle,this.appliedStrokeStyle=n.strokeStyle,this.appliedLineWidth=n.lineWidth,this.appliedLineCap=n.lineCap,this.appliedLineJoin=n.lineJoin,this.appliedMiterLimit=n.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(e||t.opacity!==-1&&this.currentOpacity!==t.opacity)&&(this.nativeContext.globalAlpha=t.opacity,this.currentOpacity=t.opacity),this.currentFillStyle=t.fillStyle,this.currentStrokeStyle=t.strokeStyle,this.currentLineWidth=t.lineWidth,this.currentLineCap=t.lineCap,this.currentLineJoin=t.lineJoin,this.currentMiterLimit=t.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i=this.stack[this.cArrPos],r;for(r=0;r<16;r+=1)i.transform[r]=t[r];this.cArrPos+=1;var s=this.stack[this.cArrPos];s.opacity=i.opacity,s.fillStyle=i.fillStyle,s.strokeStyle=i.strokeStyle,s.lineWidth=i.lineWidth,s.lineCap=i.lineCap,s.lineJoin=i.lineJoin,s.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var i=t.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,i,r){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,i,r)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,t,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var t,i=this.layers.length;for(t=i-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var e,t=this.layers.length;for(e=t-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:t&&t.clearCanvas!==void 0?t.clearCanvas:!0,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var i=this.finalTransform.mat.toCSS();t.transform=i,t.webkitTransform=i}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,t,i){this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,t,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)t=e[i].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var i=e.sh.v,r=e.transformers,s,n=i._length,a,o,l,h;if(!(n<=1)){for(s=0;s<n-1;s+=1)a=this.getTransformedPoint(r,i.v[s]),o=this.getTransformedPoint(r,i.o[s]),l=this.getTransformedPoint(r,i.i[s+1]),h=this.getTransformedPoint(r,i.v[s+1]),this.checkBounds(a,o,l,h,t);i.c&&(a=this.getTransformedPoint(r,i.v[s]),o=this.getTransformedPoint(r,i.o[s]),l=this.getTransformedPoint(r,i.i[0]),h=this.getTransformedPoint(r,i.v[0]),this.checkBounds(a,o,l,h,t))}},HShapeElement.prototype.checkBounds=function(e,t,i,r,s){this.getBoundsOfCurve(e,t,i,r);var n=this.shapeBoundingBox;s.x=bmMin(n.left,s.x),s.xMax=bmMax(n.right,s.xMax),s.y=bmMin(n.top,s.y),s.yMax=bmMax(n.bottom,s.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,i,r){for(var s=[[e[0],r[0]],[e[1],r[1]]],n,a,o,l,h,f,m,u=0;u<2;++u)a=6*e[u]-12*t[u]+6*i[u],n=-3*e[u]+9*t[u]-9*i[u]+3*r[u],o=3*t[u]-3*e[u],a|=0,n|=0,o|=0,n===0&&a===0||(n===0?(l=-o/a,l>0&&l<1&&s[u].push(this.calculateF(l,e,t,i,r,u))):(h=a*a-4*o*n,h>=0&&(f=(-a+bmSqrt(h))/(2*n),f>0&&f<1&&s[u].push(this.calculateF(f,e,t,i,r,u)),m=(-a-bmSqrt(h))/(2*n),m>0&&m<1&&s[u].push(this.calculateF(m,e,t,i,r,u)))));this.shapeBoundingBox.left=bmMin.apply(null,s[0]),this.shapeBoundingBox.top=bmMin.apply(null,s[1]),this.shapeBoundingBox.right=bmMax.apply(null,s[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,s[1])},HShapeElement.prototype.calculateF=function(e,t,i,r,s,n){return bmPow(1-e,3)*t[n]+3*bmPow(1-e,2)*e*i[n]+3*(1-e)*bmPow(e,2)*r[n]+bmPow(e,3)*s[n]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var i,r=e.length;for(i=0;i<r;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],t):e[i]&&e[i].it?this.calculateBoundingBox(e[i].it,t):e[i]&&e[i].style&&e[i].w&&this.expandStrokeBoundingBox(e[i].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var i=0;if(e.keyframes){for(var r=0;r<e.keyframes.length;r+=1){var s=e.keyframes[r].s;s>i&&(i=s)}i*=e.mult}else i=e.v*e.mult;t.x-=i,t.xMax+=i,t.y-=i,t.yMax+=i},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var r=this.shapeCont.style,s="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";r.transform=s,r.webkitTransform=s}}};function HTextElement(e,t,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,i=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=i,t.color=i,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{t.fontFamily=r.fFamily;var s=e.fWeight,n=e.fStyle;t.fontStyle=n,t.fontWeight=s}var a,o,l=e.l;o=l.length;var h,f,m,u=this.mHelper,d,g="",p=0;for(a=0;a<o;a+=1){if(this.globalData.fontManager.chars?(this.textPaths[p]?h=this.textPaths[p]:(h=createNS("path"),h.setAttribute("stroke-linecap",lineCapEnum[1]),h.setAttribute("stroke-linejoin",lineJoinEnum[2]),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[p]?(f=this.textSpans[p],m=f.children[0]):(f=createTag("div"),f.style.lineHeight=0,m=createNS("svg"),m.appendChild(h),styleDiv(f)))):this.isMasked?h=this.textPaths[p]?this.textPaths[p]:createNS("text"):this.textSpans[p]?(f=this.textSpans[p],h=this.textPaths[p]):(f=createTag("span"),styleDiv(f),h=createTag("span"),styleDiv(h),f.appendChild(h)),this.globalData.fontManager.chars){var x=this.globalData.fontManager.getCharData(e.finalText[a],r.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),c;if(x?c=x.data:c=null,u.reset(),c&&c.shapes&&c.shapes.length&&(d=c.shapes[0].it,u.scale(e.finalSize/100,e.finalSize/100),g=this.createPathShape(u,d),h.setAttribute("d",g)),this.isMasked)this.innerElem.appendChild(h);else{if(this.innerElem.appendChild(f),c&&c.shapes){document.body.appendChild(m);var _=m.getBBox();m.setAttribute("width",_.width+2),m.setAttribute("height",_.height+2),m.setAttribute("viewBox",_.x-1+" "+(_.y-1)+" "+(_.width+2)+" "+(_.height+2));var y=m.style,b="translate("+(_.x-1)+"px,"+(_.y-1)+"px)";y.transform=b,y.webkitTransform=b,l[a].yOffset=_.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);f.appendChild(m)}}else if(h.textContent=l[a].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(h);else{this.innerElem.appendChild(f);var E=h.style,w="translate3d(0,"+-e.finalSize/1.2+"px,0)";E.transform=w,E.webkitTransform=w}this.isMasked?this.textSpans[p]=h:this.textSpans[p]=f,this.textSpans[p].style.display="block",this.textPaths[p]=h,p+=1}for(;p<this.textSpans.length;)this.textSpans[p].style.display="none",p+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var i,r,s=0,n=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;r=a.length;var o,l,h;for(i=0;i<r;i+=1)a[i].n?s+=1:(l=this.textSpans[i],h=this.textPaths[i],o=n[s],s+=1,o._mdf.m&&(this.isMasked?l.setAttribute("transform",o.m):(l.style.webkitTransform=o.m,l.style.transform=o.m)),l.style.opacity=o.o,o.sw&&o._mdf.sw&&h.setAttribute("stroke-width",o.sw),o.sc&&o._mdf.sc&&h.setAttribute("stroke",o.sc),o.fc&&o._mdf.fc&&(h.setAttribute("fill",o.fc),h.style.color=o.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var f=this.innerElem.getBBox();this.currentBBox.w!==f.width&&(this.currentBBox.w=f.width,this.svgElement.setAttribute("width",f.width)),this.currentBBox.h!==f.height&&(this.currentBBox.h=f.height,this.svgElement.setAttribute("height",f.height));var m=1;if(this.currentBBox.w!==f.width+m*2||this.currentBBox.h!==f.height+m*2||this.currentBBox.x!==f.x-m||this.currentBBox.y!==f.y-m){this.currentBBox.w=f.width+m*2,this.currentBBox.h=f.height+m*2,this.currentBBox.x=f.x-m,this.currentBBox.y=f.y-m,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=u,e.webkitTransform=u}}}};function HCameraElement(e,t,i){this.initFrame(),this.initBaseData(e,t,i),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var s,n=e.ks.or.k.length;for(s=0;s<n;s+=1)e.ks.or.k[s].to=null,e.ks.or.k[s].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t=this.comp.threeDElements.length,i,r,s;for(e=0;e<t;e+=1)if(i=this.comp.threeDElements[e],i.type==="3d"){r=i.perspectiveElem.style,s=i.container.style;var n=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=n,r.webkitPerspective=n,s.transformOrigin=a,s.mozTransformOrigin=a,s.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,t,i;if(this.hierarchy)for(i=this.hierarchy.length,t=0;t<i;t+=1)e=this.hierarchy[t].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(i=this.hierarchy.length-1,t=i;t>=0;t-=1){var r=this.hierarchy[t].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var s;this.p?s=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:s=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var n=Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)),a=[s[0]/n,s[1]/n,s[2]/n],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),h=Math.atan2(a[0],-a[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var f=!this._prevMat.equals(this.mat);if((f||this.pe._mdf)&&this.comp.threeDElements){i=this.comp.threeDElements.length;var m,u,d;for(t=0;t<i;t+=1)if(m=this.comp.threeDElements[t],m.type==="3d"){if(f){var g=this.mat.toCSS();d=m.container.style,d.transform=g,d.webkitTransform=g}this.pe._mdf&&(u=m.perspectiveElem.style,u.perspective=this.pe.v+"px",u.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,t,i){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,t){var i=e.getBaseElement();if(i){var r=this.layers[t];if(!r.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(i,t);else{for(var s=0,n,a,o;s<t;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement&&(a=this.elements[s],o=this.layers[s].ddd?this.getThreeDContainerByPos(s):a.getBaseElement(),n=o||n),s+=1;n?(!r.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,n):(!r.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}else this.addTo3dContainer(i,t)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,i=this.threeDElements.length;t<i;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var i=createTag("div"),r,s;styleDiv(i);var n=createTag("div");if(styleDiv(n),t==="3d"){r=i.style,r.width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a,s=n.style;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.transform=o,s.webkitTransform=o}i.appendChild(n);var l={container:n,perspectiveElem:i,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t=this.layers.length,i,r="";for(e=0;e<t;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(r!=="3d"&&(r="3d",i=this.createThreeDContainer(e,"3d")),i.endPos=Math.max(i.endPos,e)):(r!=="2d"&&(r="2d",i=this.createThreeDContainer(e,"2d")),i.endPos=Math.max(i.endPos,e));for(t=this.threeDElements.length,e=t-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var i=0,r=this.threeDElements.length;i<r;){if(t<=this.threeDElements[i].endPos){for(var s=this.threeDElements[i].startPos,n;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[i].container.insertBefore(e,n):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),i=this.animationItem.wrapper,r=t.style;r.width=e.w+"px",r.height=e.h+"px",this.resizerElem=t,styleDiv(t),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),i.appendChild(t),r.overflow="hidden";var s=createNS("svg");s.setAttribute("width","1"),s.setAttribute("height","1"),styleDiv(s),this.resizerElem.appendChild(s);var n=createNS("defs");s.appendChild(n),this.data=e,this.setupGlobalData(e,s),this.globalData.defs=n,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,i=e/t,r=this.globalData.compSize.w/this.globalData.compSize.h,s,n,a,o;r>i?(s=e/this.globalData.compSize.w,n=e/this.globalData.compSize.w,a=0,o=(t-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(s=t/this.globalData.compSize.h,n=t/this.globalData.compSize.h,a=(e-this.globalData.compSize.w*(t/this.globalData.compSize.h))/2,o=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+s+",0,0,0,0,"+n+",0,0,0,0,1,0,"+a+","+o+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,t=this.globalData.compSize.h,i,r=this.threeDElements.length;for(i=0;i<r;i+=1){var s=this.threeDElements[i].perspectiveElem.style;s.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px",s.perspective=s.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,i=e.length,r=createTag("div");for(t=0;t<i;t+=1)if(e[t].xt){var s=this.createComp(e[t],r,this.globalData.comp,null);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}};function HCompElement(e,t,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var i=0,r;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function t(i){for(var r=0,s=e.layers.length;r<s;){if(e.layers[r].nm===i||e.layers[r].ind===i)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}}();function _typeof$2(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(i){return typeof i}:_typeof$2=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$2(e)}function seedRandom(e,t){var i=this,r=256,s=6,n=52,a="random",o=t.pow(r,s),l=t.pow(2,n),h=l*2,f=r-1,m;function u(y,b,E){var w=[];b=b===!0?{entropy:!0}:b||{};var A=x(p(b.entropy?[y,_(e)]:y===null?c():y,3),w),P=new d(w),L=function(){for(var F=P.g(s),k=o,B=0;F<l;)F=(F+B)*r,k*=r,B=P.g(1);for(;F>=h;)F/=2,k/=2,B>>>=1;return(F+B)/k};return L.int32=function(){return P.g(4)|0},L.quick=function(){return P.g(4)/4294967296},L.double=L,x(_(P.S),e),(b.pass||E||function(O,F,k,B){return B&&(B.S&&g(B,P),O.state=function(){return g(P,{})}),k?(t[a]=O,F):O})(L,A,"global"in b?b.global:this==t,b.state)}t["seed"+a]=u;function d(y){var b,E=y.length,w=this,A=0,P=w.i=w.j=0,L=w.S=[];for(E||(y=[E++]);A<r;)L[A]=A++;for(A=0;A<r;A++)L[A]=L[P=f&P+y[A%E]+(b=L[A])],L[P]=b;w.g=function(O){for(var F,k=0,B=w.i,V=w.j,z=w.S;O--;)F=z[B=f&B+1],k=k*r+z[f&(z[B]=z[V=f&V+F])+(z[V]=F)];return w.i=B,w.j=V,k}}function g(y,b){return b.i=y.i,b.j=y.j,b.S=y.S.slice(),b}function p(y,b){var E=[],w=_typeof$2(y),A;if(b&&w=="object")for(A in y)try{E.push(p(y[A],b-1))}catch(P){}return E.length?E:w=="string"?y:y+"\0"}function x(y,b){for(var E=y+"",w,A=0;A<E.length;)b[f&A]=f&(w^=b[f&A]*19)+E.charCodeAt(A++);return _(b)}function c(){try{if(m)return _(m.randomBytes(r));var y=new Uint8Array(r);return(i.crypto||i.msCrypto).getRandomValues(y),_(y)}catch(w){var b=i.navigator,E=b&&b.plugins;return[+new Date,i,E,i.screen,_(e)]}}function _(y){return String.fromCharCode.apply(0,y)}x(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(i){return typeof i}:_typeof$1=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(e)}var ExpressionManager=function(){"use strict";var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return e==="number"||t instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var t=_typeof$1(e);if(t==="number"||e instanceof Number||t==="boolean")return-e;if($bm_isInstanceOfArray(e)){var i,r=e.length,s=[];for(i=0;i<r;i+=1)s[i]=-e[i];return s}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var i=_typeof$1(e),r=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(r,t)||i==="string"||r==="string")return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return e=e.slice(0),e[0]+=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,n=e.length,a=t.length,o=[];s<n||s<a;)(typeof e[s]=="number"||e[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?o[s]=e[s]+t[s]:o[s]=t[s]===void 0?e[s]:e[s]||t[s],s+=1;return o}return 0}var add=sum;function sub(e,t){var i=_typeof$1(e),r=_typeof$1(t);if(isNumerable(i,e)&&isNumerable(r,t))return i==="string"&&(e=parseInt(e,10)),r==="string"&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return e=e.slice(0),e[0]-=t,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return t=t.slice(0),t[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var s=0,n=e.length,a=t.length,o=[];s<n||s<a;)(typeof e[s]=="number"||e[s]instanceof Number)&&(typeof t[s]=="number"||t[s]instanceof Number)?o[s]=e[s]-t[s]:o[s]=t[s]===void 0?e[s]:e[s]||t[s],s+=1;return o}return 0}function mul(e,t){var i=_typeof$1(e),r=_typeof$1(t),s;if(isNumerable(i,e)&&isNumerable(r,t))return e*t;var n,a;if($bm_isInstanceOfArray(e)&&isNumerable(r,t)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e[n]*t;return s}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e*t[n];return s}return 0}function div(e,t){var i=_typeof$1(e),r=_typeof$1(t),s;if(isNumerable(i,e)&&isNumerable(r,t))return e/t;var n,a;if($bm_isInstanceOfArray(e)&&isNumerable(r,t)){for(a=e.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e[n]/t;return s}if(isNumerable(i,e)&&$bm_isInstanceOfArray(t)){for(a=t.length,s=createTypedArray("float32",a),n=0;n<a;n+=1)s[n]=e/t[n];return s}return 0}function mod(e,t){return typeof e=="string"&&(e=parseInt(e,10)),typeof t=="string"&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,i){if(t>i){var r=i;i=t,t=r}return Math.min(Math.max(e,t),i)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(typeof e=="number"||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var i,r=Math.min(e.length,t.length),s=0;for(i=0;i<r;i+=1)s+=Math.pow(t[i]-e[i],2);return Math.sqrt(s)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t=e[0],i=e[1],r=e[2],s=Math.max(t,i,r),n=Math.min(t,i,r),a,o,l=(s+n)/2;if(s===n)a=0,o=0;else{var h=s-n;switch(o=l>.5?h/(2-s-n):h/(s+n),s){case t:a=(i-r)/h+(i<r?6:0);break;case i:a=(r-t)/h+2;break;case r:a=(t-i)/h+4;break;default:break}a/=6}return[a,o,l,e[3]]}function hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function hslToRgb(e){var t=e[0],i=e[1],r=e[2],s,n,a;if(i===0)s=r,a=r,n=r;else{var o=r<.5?r*(1+i):r+i-r*i,l=2*r-o;s=hue2rgb(l,o,t+1/3),n=hue2rgb(l,o,t),a=hue2rgb(l,o,t-1/3)}return[s,n,a,e[3]]}function linear(e,t,i,r,s){if((r===void 0||s===void 0)&&(r=t,s=i,t=0,i=1),i<t){var n=i;i=t,t=n}if(e<=t)return r;if(e>=i)return s;var a=i===t?0:(e-t)/(i-t);if(!r.length)return r+(s-r)*a;var o,l=r.length,h=createTypedArray("float32",l);for(o=0;o<l;o+=1)h[o]=r[o]+(s[o]-r[o])*a;return h}function random(e,t){if(t===void 0&&(e===void 0?(e=0,t=1):(t=e,e=void 0)),t.length){var i,r=t.length;e||(e=createTypedArray("float32",r));var s=createTypedArray("float32",r),n=BMMath.random();for(i=0;i<r;i+=1)s[i]=e[i]+n*(t[i]-e[i]);return s}e===void 0&&(e=0);var a=BMMath.random();return e+a*(t-e)}function createPath(e,t,i,r){var s,n=e.length,a=shapePool.newElement();a.setPathData(!!r,n);var o=[0,0],l,h;for(s=0;s<n;s+=1)l=t&&t[s]?t[s]:o,h=i&&i[s]?i[s]:o,a.setTripleAt(e[s][0],e[s][1],h[0]+e[s][0],h[1]+e[s][1],l[0]+e[s][0],l[1]+e[s][1],s,!0);return a}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function e(t,i){var r,s,n=this.pv.length?this.pv.length:1,a=createTypedArray("float32",n);t=5;var o=Math.floor(time*t);for(r=0,s=0;r<o;){for(s=0;s<n;s+=1)a[s]+=-i+i*2*BMMath.random();r+=1}var l=time*t,h=l-Math.floor(l),f=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)f[s]=this.pv[s]+a[s]+(-i+i*2*BMMath.random())*h;return f}return this.pv+a[0]+(-i+i*2*BMMath.random())*h}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,t){var i=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,s=-Math.atan2(i[1],i[2])/degToRads;return[s,r,0]}function easeOut(e,t,i,r,s){return applyEase(easeOutBez,e,t,i,r,s)}function easeIn(e,t,i,r,s){return applyEase(easeInBez,e,t,i,r,s)}function ease(e,t,i,r,s){return applyEase(easeInOutBez,e,t,i,r,s)}function applyEase(e,t,i,r,s,n){s===void 0?(s=i,n=r):t=(t-i)/(r-i),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(s)){var o,l=s.length,h=createTypedArray("float32",l);for(o=0;o<l;o+=1)h[o]=(n[o]-s[o])*a+s[o];return h}return(n-s)*a+s}function nearestKey(e){var t,i=data.k.length,r,s;if(!data.k.length||typeof data.k[0]=="number")r=0,s=0;else if(r=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)r=1,s=data.k[0].t;else{for(t=0;t<i-1;t+=1)if(e===data.k[t].t){r=t+1,s=data.k[t].t;break}else if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,s=data.k[t+1].t):(r=t+1,s=data.k[t].t);break}r===-1&&(r=t+1,s=data.k[t].t)}var n={};return n.index=r,n.time=s/elem.comp.globalData.frameRate,n}function key(e){var t,i,r;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var s=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(r=s.length,i=0;i<r;i+=1)t[i]=s[i],t.value[i]=s[i];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return!e&&e!==0&&(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return typeof value=="string"?t===void 0?value.substring(e):value.substring(e,t):""}function substr(e,t){return typeof value=="string"?t===void 0?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=t,e.resetFrame=ExpressionManager.resetFrame;function t(i){var r=0,s=[];function n(){r+=1}function a(){r-=1,r===0&&l()}function o(h){s.indexOf(h)===-1&&s.push(h)}function l(){var h,f=s.length;for(h=0;h<f;h+=1)s[h].release();s.length=0}i.renderer.compInterface=CompExpressionInterface(i.renderer),i.renderer.globalData.projectInterface.registerComposition(i.renderer),i.renderer.globalData.pushExpression=n,i.renderer.globalData.popExpression=a,i.renderer.globalData.registerExpressionProperty=o}return e}(),MaskManagerInterface=function(){function e(i,r){this._mask=i,this._data=r}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var t=function(r){var s=createSizedArray(r.viewData.length),n,a=r.viewData.length;for(n=0;n<a;n+=1)s[n]=new e(r.viewData[n],r.masksProperties[n]);var o=function(h){for(n=0;n<a;){if(r.masksProperties[n].nm===h)return s[n];n+=1}return null};return o};return t}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function i(a,o,l){Object.defineProperty(a,"velocity",{get:function(){return o.getVelocityAtTime(o.comp.currentFrame)}}),a.numKeys=o.keyframes?o.keyframes.length:0,a.key=function(h){if(!a.numKeys)return 0;var f="";"s"in o.keyframes[h-1]?f=o.keyframes[h-1].s:"e"in o.keyframes[h-2]?f=o.keyframes[h-2].e:f=o.keyframes[h-2].s;var m=l==="unidimensional"?new Number(f):Object.assign({},f);return m.time=o.keyframes[h-1].t/o.elem.comp.globalData.frameRate,m.value=l==="unidimensional"?f[0]:f,m},a.valueAtTime=o.getValueAtTime,a.speedAtTime=o.getSpeedAtTime,a.velocityAtTime=o.getVelocityAtTime,a.propertyGroup=o.propertyGroup}function r(a){(!a||!("pv"in a))&&(a=e);var o=1/a.mult,l=a.pv*o,h=new Number(l);return h.value=l,i(h,a,"unidimensional"),function(){return a.k&&a.getValue(),l=a.v*o,h.value!==l&&(h=new Number(l),h.value=l,i(h,a,"unidimensional")),h}}function s(a){(!a||!("pv"in a))&&(a=t);var o=1/a.mult,l=a.data&&a.data.l||a.pv.length,h=createTypedArray("float32",l),f=createTypedArray("float32",l);return h.value=f,i(h,a,"multidimensional"),function(){a.k&&a.getValue();for(var m=0;m<l;m+=1)f[m]=a.v[m]*o,h[m]=f[m];return h}}function n(){return e}return function(a){return a?a.propType==="unidimensional"?r(a):s(a):n}}(),TransformExpressionInterface=function(){return function(e){function t(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)});var i,r,s,n;return e.p?n=ExpressionPropertyInterface(e.p):(i=ExpressionPropertyInterface(e.px),r=ExpressionPropertyInterface(e.py),e.pz&&(s=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?n():[i(),r(),s?s():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}}(),LayerExpressionInterface=function(){function e(h){var f=new Matrix;if(h!==void 0){var m=this._elem.finalTransform.mProp.getValueAtTime(h);m.clone(f)}else{var u=this._elem.finalTransform.mProp;u.applyToMatrix(f)}return f}function t(h,f){var m=this.getMatrix(f);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.applyPoint(m,h)}function i(h,f){var m=this.getMatrix(f);return this.applyPoint(m,h)}function r(h,f){var m=this.getMatrix(f);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.invertPoint(m,h)}function s(h,f){var m=this.getMatrix(f);return this.invertPoint(m,h)}function n(h,f){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,u=this._elem.hierarchy.length;for(m=0;m<u;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(h)}return h.applyToPointArray(f[0],f[1],f[2]||0)}function a(h,f){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,u=this._elem.hierarchy.length;for(m=0;m<u;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(h)}return h.inversePoint(f)}function o(h){var f=new Matrix;if(f.reset(),this._elem.finalTransform.mProp.applyToMatrix(f),this._elem.hierarchy&&this._elem.hierarchy.length){var m,u=this._elem.hierarchy.length;for(m=0;m<u;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(f);return f.inversePoint(h)}return f.inversePoint(h)}function l(){return[1,1,1,1]}return function(h){var f;function m(p){d.mask=new MaskManagerInterface(p,h)}function u(p){d.effect=p}function d(p){switch(p){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return f;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=e,d.invertPoint=a,d.applyPoint=n,d.toWorld=i,d.toWorldVec=t,d.fromWorld=s,d.fromWorldVec=r,d.toComp=i,d.fromComp=o,d.sampleImage=l,d.sourceRectAtTime=h.sourceRectAtTime.bind(h),d._elem=h,f=TransformExpressionInterface(h.finalTransform.mProp);var g=getDescriptor(f,"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(f,"rotation"),scale:getDescriptor(f,"scale"),position:getDescriptor(f,"position"),opacity:getDescriptor(f,"opacity"),anchorPoint:g,anchor_point:g,transform:{get:function(){return f}},active:{get:function(){return h.isInRange}}}),d.startTime=h.data.st,d.index=h.data.ind,d.source=h.data.refId,d.height=h.data.ty===0?h.data.h:100,d.width=h.data.ty===0?h.data.w:100,d.inPoint=h.data.ip/h.comp.globalData.frameRate,d.outPoint=h.data.op/h.comp.globalData.frameRate,d._name=h.data.nm,d.registerMaskInterface=m,d.registerEffectsInterface=u,d}}(),propertyGroupFactory=function(){return function(e,t){return function(i){return i=i===void 0?1:i,i<=0?e:t(i-1)}}}(),PropertyInterface=function(){return function(e,t){var i={_name:e};function r(s){return s=s===void 0?1:s,s<=0?i:t(s-1)}return r}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:t};function t(s,n){if(s.effectsManager){var a=[],o=s.data.ef,l,h=s.effectsManager.effectElements.length;for(l=0;l<h;l+=1)a.push(i(o[l],s.effectsManager.effectElements[l],n,s));var f=s.data.ef||[],m=function(d){for(l=0,h=f.length;l<h;){if(d===f[l].nm||d===f[l].mn||d===f[l].ix)return a[l];l+=1}return null};return Object.defineProperty(m,"numProperties",{get:function(){return f.length}}),m}return null}function i(s,n,a,o){function l(d){for(var g=s.ef,p=0,x=g.length;p<x;){if(d===g[p].nm||d===g[p].mn||d===g[p].ix)return g[p].ty===5?f[p]:f[p]();p+=1}throw new Error}var h=propertyGroupFactory(l,a),f=[],m,u=s.ef.length;for(m=0;m<u;m+=1)s.ef[m].ty===5?f.push(i(s.ef[m],n.effectElements[m],n.effectElements[m].propertyGroup,o)):f.push(r(n.effectElements[m],s.ef[m].ty,o,h));return s.mn==="ADBE Color Control"&&Object.defineProperty(l,"color",{get:function(){return f[0]()}}),Object.defineProperties(l,{numProperties:{get:function(){return s.np}},_name:{value:s.nm},propertyGroup:{value:h}}),l.enabled=s.en!==0,l.active=l.enabled,l}function r(s,n,a,o){var l=ExpressionPropertyInterface(s.p);function h(){return n===10?a.comp.compInterface(s.p.v):l()}return s.p.setGroupProperty&&s.p.setGroupProperty(PropertyInterface("",o)),h}return e}(),ShapePathInterface=function(){return function(t,i,r){var s=i.sh;function n(o){return o==="Shape"||o==="shape"||o==="Path"||o==="path"||o==="ADBE Vector Shape"||o===2?n.path:null}var a=propertyGroupFactory(n,r);return s.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),n}}(),ShapeExpressionInterface=function(){function e(g,p,x){var c=[],_,y=g?g.length:0;for(_=0;_<y;_+=1)g[_].ty==="gr"?c.push(i(g[_],p[_],x)):g[_].ty==="fl"?c.push(r(g[_],p[_],x)):g[_].ty==="st"?c.push(a(g[_],p[_],x)):g[_].ty==="tm"?c.push(o(g[_],p[_],x)):g[_].ty==="tr"||(g[_].ty==="el"?c.push(h(g[_],p[_],x)):g[_].ty==="sr"?c.push(f(g[_],p[_],x)):g[_].ty==="sh"?c.push(ShapePathInterface(g[_],p[_],x)):g[_].ty==="rc"?c.push(m(g[_],p[_],x)):g[_].ty==="rd"?c.push(u(g[_],p[_],x)):g[_].ty==="rp"?c.push(d(g[_],p[_],x)):g[_].ty==="gf"?c.push(s(g[_],p[_],x)):c.push(n(g[_],p[_],x)));return c}function t(g,p,x){var c,_=function(E){for(var w=0,A=c.length;w<A;){if(c[w]._name===E||c[w].mn===E||c[w].propertyIndex===E||c[w].ix===E||c[w].ind===E)return c[w];w+=1}return typeof E=="number"?c[E-1]:null};_.propertyGroup=propertyGroupFactory(_,x),c=e(g.it,p.it,_.propertyGroup),_.numProperties=c.length;var y=l(g.it[g.it.length-1],p.it[p.it.length-1],_.propertyGroup);return _.transform=y,_.propertyIndex=g.cix,_._name=g.nm,_}function i(g,p,x){var c=function(E){switch(E){case"ADBE Vectors Group":case"Contents":case 2:return c.content;default:return c.transform}};c.propertyGroup=propertyGroupFactory(c,x);var _=t(g,p,c.propertyGroup),y=l(g.it[g.it.length-1],p.it[p.it.length-1],c.propertyGroup);return c.content=_,c.transform=y,Object.defineProperty(c,"_name",{get:function(){return g.nm}}),c.numProperties=g.np,c.propertyIndex=g.ix,c.nm=g.nm,c.mn=g.mn,c}function r(g,p,x){function c(_){return _==="Color"||_==="color"?c.color:_==="Opacity"||_==="opacity"?c.opacity:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(p.c)},opacity:{get:ExpressionPropertyInterface(p.o)},_name:{value:g.nm},mn:{value:g.mn}}),p.c.setGroupProperty(PropertyInterface("Color",x)),p.o.setGroupProperty(PropertyInterface("Opacity",x)),c}function s(g,p,x){function c(_){return _==="Start Point"||_==="start point"?c.startPoint:_==="End Point"||_==="end point"?c.endPoint:_==="Opacity"||_==="opacity"?c.opacity:null}return Object.defineProperties(c,{startPoint:{get:ExpressionPropertyInterface(p.s)},endPoint:{get:ExpressionPropertyInterface(p.e)},opacity:{get:ExpressionPropertyInterface(p.o)},type:{get:function(){return"a"}},_name:{value:g.nm},mn:{value:g.mn}}),p.s.setGroupProperty(PropertyInterface("Start Point",x)),p.e.setGroupProperty(PropertyInterface("End Point",x)),p.o.setGroupProperty(PropertyInterface("Opacity",x)),c}function n(){function g(){return null}return g}function a(g,p,x){var c=propertyGroupFactory(A,x),_=propertyGroupFactory(w,c);function y(P){Object.defineProperty(w,g.d[P].nm,{get:ExpressionPropertyInterface(p.d.dataProps[P].p)})}var b,E=g.d?g.d.length:0,w={};for(b=0;b<E;b+=1)y(b),p.d.dataProps[b].p.setGroupProperty(_);function A(P){return P==="Color"||P==="color"?A.color:P==="Opacity"||P==="opacity"?A.opacity:P==="Stroke Width"||P==="stroke width"?A.strokeWidth:null}return Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(p.c)},opacity:{get:ExpressionPropertyInterface(p.o)},strokeWidth:{get:ExpressionPropertyInterface(p.w)},dash:{get:function(){return w}},_name:{value:g.nm},mn:{value:g.mn}}),p.c.setGroupProperty(PropertyInterface("Color",c)),p.o.setGroupProperty(PropertyInterface("Opacity",c)),p.w.setGroupProperty(PropertyInterface("Stroke Width",c)),A}function o(g,p,x){function c(y){return y===g.e.ix||y==="End"||y==="end"?c.end:y===g.s.ix?c.start:y===g.o.ix?c.offset:null}var _=propertyGroupFactory(c,x);return c.propertyIndex=g.ix,p.s.setGroupProperty(PropertyInterface("Start",_)),p.e.setGroupProperty(PropertyInterface("End",_)),p.o.setGroupProperty(PropertyInterface("Offset",_)),c.propertyIndex=g.ix,c.propertyGroup=x,Object.defineProperties(c,{start:{get:ExpressionPropertyInterface(p.s)},end:{get:ExpressionPropertyInterface(p.e)},offset:{get:ExpressionPropertyInterface(p.o)},_name:{value:g.nm}}),c.mn=g.mn,c}function l(g,p,x){function c(y){return g.a.ix===y||y==="Anchor Point"?c.anchorPoint:g.o.ix===y||y==="Opacity"?c.opacity:g.p.ix===y||y==="Position"?c.position:g.r.ix===y||y==="Rotation"||y==="ADBE Vector Rotation"?c.rotation:g.s.ix===y||y==="Scale"?c.scale:g.sk&&g.sk.ix===y||y==="Skew"?c.skew:g.sa&&g.sa.ix===y||y==="Skew Axis"?c.skewAxis:null}var _=propertyGroupFactory(c,x);return p.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",_)),p.transform.mProps.p.setGroupProperty(PropertyInterface("Position",_)),p.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",_)),p.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",_)),p.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",_)),p.transform.mProps.sk&&(p.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",_)),p.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",_))),p.transform.op.setGroupProperty(PropertyInterface("Opacity",_)),Object.defineProperties(c,{opacity:{get:ExpressionPropertyInterface(p.transform.mProps.o)},position:{get:ExpressionPropertyInterface(p.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(p.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(p.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(p.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(p.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(p.transform.mProps.sa)},_name:{value:g.nm}}),c.ty="tr",c.mn=g.mn,c.propertyGroup=x,c}function h(g,p,x){function c(b){return g.p.ix===b?c.position:g.s.ix===b?c.size:null}var _=propertyGroupFactory(c,x);c.propertyIndex=g.ix;var y=p.sh.ty==="tm"?p.sh.prop:p.sh;return y.s.setGroupProperty(PropertyInterface("Size",_)),y.p.setGroupProperty(PropertyInterface("Position",_)),Object.defineProperties(c,{size:{get:ExpressionPropertyInterface(y.s)},position:{get:ExpressionPropertyInterface(y.p)},_name:{value:g.nm}}),c.mn=g.mn,c}function f(g,p,x){function c(b){return g.p.ix===b?c.position:g.r.ix===b?c.rotation:g.pt.ix===b?c.points:g.or.ix===b||b==="ADBE Vector Star Outer Radius"?c.outerRadius:g.os.ix===b?c.outerRoundness:g.ir&&(g.ir.ix===b||b==="ADBE Vector Star Inner Radius")?c.innerRadius:g.is&&g.is.ix===b?c.innerRoundness:null}var _=propertyGroupFactory(c,x),y=p.sh.ty==="tm"?p.sh.prop:p.sh;return c.propertyIndex=g.ix,y.or.setGroupProperty(PropertyInterface("Outer Radius",_)),y.os.setGroupProperty(PropertyInterface("Outer Roundness",_)),y.pt.setGroupProperty(PropertyInterface("Points",_)),y.p.setGroupProperty(PropertyInterface("Position",_)),y.r.setGroupProperty(PropertyInterface("Rotation",_)),g.ir&&(y.ir.setGroupProperty(PropertyInterface("Inner Radius",_)),y.is.setGroupProperty(PropertyInterface("Inner Roundness",_))),Object.defineProperties(c,{position:{get:ExpressionPropertyInterface(y.p)},rotation:{get:ExpressionPropertyInterface(y.r)},points:{get:ExpressionPropertyInterface(y.pt)},outerRadius:{get:ExpressionPropertyInterface(y.or)},outerRoundness:{get:ExpressionPropertyInterface(y.os)},innerRadius:{get:ExpressionPropertyInterface(y.ir)},innerRoundness:{get:ExpressionPropertyInterface(y.is)},_name:{value:g.nm}}),c.mn=g.mn,c}function m(g,p,x){function c(b){return g.p.ix===b?c.position:g.r.ix===b?c.roundness:g.s.ix===b||b==="Size"||b==="ADBE Vector Rect Size"?c.size:null}var _=propertyGroupFactory(c,x),y=p.sh.ty==="tm"?p.sh.prop:p.sh;return c.propertyIndex=g.ix,y.p.setGroupProperty(PropertyInterface("Position",_)),y.s.setGroupProperty(PropertyInterface("Size",_)),y.r.setGroupProperty(PropertyInterface("Rotation",_)),Object.defineProperties(c,{position:{get:ExpressionPropertyInterface(y.p)},roundness:{get:ExpressionPropertyInterface(y.r)},size:{get:ExpressionPropertyInterface(y.s)},_name:{value:g.nm}}),c.mn=g.mn,c}function u(g,p,x){function c(b){return g.r.ix===b||b==="Round Corners 1"?c.radius:null}var _=propertyGroupFactory(c,x),y=p;return c.propertyIndex=g.ix,y.rd.setGroupProperty(PropertyInterface("Radius",_)),Object.defineProperties(c,{radius:{get:ExpressionPropertyInterface(y.rd)},_name:{value:g.nm}}),c.mn=g.mn,c}function d(g,p,x){function c(b){return g.c.ix===b||b==="Copies"?c.copies:g.o.ix===b||b==="Offset"?c.offset:null}var _=propertyGroupFactory(c,x),y=p;return c.propertyIndex=g.ix,y.c.setGroupProperty(PropertyInterface("Copies",_)),y.o.setGroupProperty(PropertyInterface("Offset",_)),Object.defineProperties(c,{copies:{get:ExpressionPropertyInterface(y.c)},offset:{get:ExpressionPropertyInterface(y.o)},_name:{value:g.nm}}),c.mn=g.mn,c}return function(g,p,x){var c;function _(b){if(typeof b=="number")return b=b===void 0?1:b,b===0?x:c[b-1];for(var E=0,w=c.length;E<w;){if(c[E]._name===b)return c[E];E+=1}return null}function y(){return x}return _.propertyGroup=propertyGroupFactory(_,y),c=e(g,p,_.propertyGroup),_.numProperties=c.length,_._name="Contents",_}}(),TextExpressionInterface=function(){return function(e){var t;function i(r){switch(r){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var s=e.textProperty.currentData.t;return(!t||s!==t.value)&&(t=new String(s),t.value=s||new String(s),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),i}}();function _typeof(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(i){return typeof i}:_typeof=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(e)}var FootageInterface=function(){var e=function(r){var s="",n=r.getFootageData();function a(){return s="",n=r.getFootageData(),o}function o(l){if(n[l])return s=l,n=n[l],_typeof(n)==="object"?o:n;var h=l.indexOf(s);if(h!==-1){var f=parseInt(l.substr(h+s.length),10);return n=n[f],_typeof(n)==="object"?o:n}return""}return a},t=function(r){function s(n){return n==="Outline"?s.outlineInterface():null}return s._name="Outline",s.outlineInterface=e(r),s};return function(i){function r(s){return s==="Data"?r.dataInterface:null}return r._name="Data",r.dataInterface=t(i),r}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(a,o,l){o.x&&(l.k=!0,l.x=!0,l.initiateExpression=ExpressionManager.initiateExpression,l.effectsSequence.push(l.initiateExpression(a,o,l).bind(l)))}function t(a){return a*=this.elem.globalData.frameRate,a-=this.offsetTime,a!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<a?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(a,this._cachingAtTime),this._cachingAtTime.lastFrame=a),this._cachingAtTime.value}function i(a){var o=-.01,l=this.getValueAtTime(a),h=this.getValueAtTime(a+o),f=0;if(l.length){var m;for(m=0;m<l.length;m+=1)f+=Math.pow(h[m]-l[m],2);f=Math.sqrt(f)*100}else f=0;return f}function r(a){if(this.vel!==void 0)return this.vel;var o=-.001,l=this.getValueAtTime(a),h=this.getValueAtTime(a+o),f;if(l.length){f=createTypedArray("float32",l.length);var m;for(m=0;m<l.length;m+=1)f[m]=(h[m]-l[m])/o}else f=(h-l)/o;return f}function s(){return this.pv}function n(a){this.propertyGroup=a}return{searchExpressions:e,getSpeedAtTime:i,getVelocityAtTime:r,getValueAtTime:t,getStaticValueAtTime:s,setGroupProperty:n}}();function addPropertyDecorator(){function e(u,d,g){if(!this.k||!this.keyframes)return this.pv;u=u?u.toLowerCase():"";var p=this.comp.renderedFrame,x=this.keyframes,c=x[x.length-1].t;if(p<=c)return this.pv;var _,y;g?(d?_=Math.abs(c-this.elem.comp.globalData.frameRate*d):_=Math.max(0,c-this.elem.data.ip),y=c-_):((!d||d>x.length-1)&&(d=x.length-1),y=x[x.length-1-d].t,_=c-y);var b,E,w;if(u==="pingpong"){var A=Math.floor((p-y)/_);if(A%2!==0)return this.getValueAtTime((_-(p-y)%_+y)/this.comp.globalData.frameRate,0)}else if(u==="offset"){var P=this.getValueAtTime(y/this.comp.globalData.frameRate,0),L=this.getValueAtTime(c/this.comp.globalData.frameRate,0),O=this.getValueAtTime(((p-y)%_+y)/this.comp.globalData.frameRate,0),F=Math.floor((p-y)/_);if(this.pv.length){for(w=new Array(P.length),E=w.length,b=0;b<E;b+=1)w[b]=(L[b]-P[b])*F+O[b];return w}return(L-P)*F+O}else if(u==="continue"){var k=this.getValueAtTime(c/this.comp.globalData.frameRate,0),B=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(w=new Array(k.length),E=w.length,b=0;b<E;b+=1)w[b]=k[b]+(k[b]-B[b])*((p-c)/this.comp.globalData.frameRate)/5e-4;return w}return k+(k-B)*((p-c)/.001)}return this.getValueAtTime(((p-y)%_+y)/this.comp.globalData.frameRate,0)}function t(u,d,g){if(!this.k)return this.pv;u=u?u.toLowerCase():"";var p=this.comp.renderedFrame,x=this.keyframes,c=x[0].t;if(p>=c)return this.pv;var _,y;g?(d?_=Math.abs(this.elem.comp.globalData.frameRate*d):_=Math.max(0,this.elem.data.op-c),y=c+_):((!d||d>x.length-1)&&(d=x.length-1),y=x[d].t,_=y-c);var b,E,w;if(u==="pingpong"){var A=Math.floor((c-p)/_);if(A%2===0)return this.getValueAtTime(((c-p)%_+c)/this.comp.globalData.frameRate,0)}else if(u==="offset"){var P=this.getValueAtTime(c/this.comp.globalData.frameRate,0),L=this.getValueAtTime(y/this.comp.globalData.frameRate,0),O=this.getValueAtTime((_-(c-p)%_+c)/this.comp.globalData.frameRate,0),F=Math.floor((c-p)/_)+1;if(this.pv.length){for(w=new Array(P.length),E=w.length,b=0;b<E;b+=1)w[b]=O[b]-(L[b]-P[b])*F;return w}return O-(L-P)*F}else if(u==="continue"){var k=this.getValueAtTime(c/this.comp.globalData.frameRate,0),B=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(w=new Array(k.length),E=w.length,b=0;b<E;b+=1)w[b]=k[b]+(k[b]-B[b])*(c-p)/.001;return w}return k+(k-B)*(c-p)/.001}return this.getValueAtTime((_-((c-p)%_+c))/this.comp.globalData.frameRate,0)}function i(u,d){if(!this.k)return this.pv;if(u=(u||.4)*.5,d=Math.floor(d||5),d<=1)return this.pv;var g=this.comp.renderedFrame/this.comp.globalData.frameRate,p=g-u,x=g+u,c=d>1?(x-p)/(d-1):1,_=0,y=0,b;this.pv.length?b=createTypedArray("float32",this.pv.length):b=0;for(var E;_<d;){if(E=this.getValueAtTime(p+_*c),this.pv.length)for(y=0;y<this.pv.length;y+=1)b[y]+=E[y];else b+=E;_+=1}if(this.pv.length)for(y=0;y<this.pv.length;y+=1)b[y]/=d;else b/=d;return b}function r(u){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var d=this._transformCachingAtTime.v;if(d.cloneFromProps(this.pre.props),this.appliedTransformations<1){var g=this.a.getValueAtTime(u);d.translate(-g[0]*this.a.mult,-g[1]*this.a.mult,g[2]*this.a.mult)}if(this.appliedTransformations<2){var p=this.s.getValueAtTime(u);d.scale(p[0]*this.s.mult,p[1]*this.s.mult,p[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var x=this.sk.getValueAtTime(u),c=this.sa.getValueAtTime(u);d.skewFromAxis(-x*this.sk.mult,c*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var _=this.r.getValueAtTime(u);d.rotate(-_*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var y=this.rz.getValueAtTime(u),b=this.ry.getValueAtTime(u),E=this.rx.getValueAtTime(u),w=this.or.getValueAtTime(u);d.rotateZ(-y*this.rz.mult).rotateY(b*this.ry.mult).rotateX(E*this.rx.mult).rotateZ(-w[2]*this.or.mult).rotateY(w[1]*this.or.mult).rotateX(w[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var A=this.px.getValueAtTime(u),P=this.py.getValueAtTime(u);if(this.data.p.z){var L=this.pz.getValueAtTime(u);d.translate(A*this.px.mult,P*this.py.mult,-L*this.pz.mult)}else d.translate(A*this.px.mult,P*this.py.mult,0)}else{var O=this.p.getValueAtTime(u);d.translate(O[0]*this.p.mult,O[1]*this.p.mult,-O[2]*this.p.mult)}return d}function s(){return this.v.clone(new Matrix)}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(u,d,g){var p=n(u,d,g);return p.dynamicProperties.length?p.getValueAtTime=r.bind(p):p.getValueAtTime=s.bind(p),p.setGroupProperty=expressionHelpers.setGroupProperty,p};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(u,d,g,p,x){var c=a(u,d,g,p,x);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=i,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=d.a===1?d.k.length:0,c.propertyIndex=d.ix;var _=0;return g!==0&&(_=createTypedArray("float32",d.a===1?d.k[0].s.length:d.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:_},expressionHelpers.searchExpressions(u,d,c),c.k&&x.addDynamicProperty(c),c};function o(u){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),u*=this.elem.globalData.frameRate,u-=this.offsetTime,u!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<u?this._caching.lastIndex:0,this._cachingAtTime.lastTime=u,this.interpolateShape(u,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var l=ShapePropertyFactory.getConstructorFunction(),h=ShapePropertyFactory.getKeyframedConstructorFunction();function f(){}f.prototype={vertices:function(d,g){this.k&&this.getValue();var p=this.v;g!==void 0&&(p=this.getValueAtTime(g,0));var x,c=p._length,_=p[d],y=p.v,b=createSizedArray(c);for(x=0;x<c;x+=1)d==="i"||d==="o"?b[x]=[_[x][0]-y[x][0],_[x][1]-y[x][1]]:b[x]=[_[x][0],_[x][1]];return b},points:function(d){return this.vertices("v",d)},inTangents:function(d){return this.vertices("i",d)},outTangents:function(d){return this.vertices("o",d)},isClosed:function(){return this.v.c},pointOnPath:function(d,g){var p=this.v;g!==void 0&&(p=this.getValueAtTime(g,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(p));for(var x=this._segmentsLength,c=x.lengths,_=x.totalLength*d,y=0,b=c.length,E=0,w;y<b;){if(E+c[y].addedLength>_){var A=y,P=p.c&&y===b-1?0:y+1,L=(_-E)/c[y].addedLength;w=bez.getPointInSegment(p.v[A],p.v[P],p.o[A],p.i[P],L,c[y]);break}else E+=c[y].addedLength;y+=1}return w||(w=p.c?[p.v[0][0],p.v[0][1]]:[p.v[p._length-1][0],p.v[p._length-1][1]]),w},vectorOnPath:function(d,g,p){d==1?d=this.v.c:d==0&&(d=.999);var x=this.pointOnPath(d,g),c=this.pointOnPath(d+.001,g),_=c[0]-x[0],y=c[1]-x[1],b=Math.sqrt(Math.pow(_,2)+Math.pow(y,2));if(b===0)return[0,0];var E=p==="tangent"?[_/b,y/b]:[-y/b,_/b];return E},tangentOnPath:function(d,g){return this.vectorOnPath(d,g,"tangent")},normalOnPath:function(d,g){return this.vectorOnPath(d,g,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([f],l),extendPrototype([f],h),h.prototype.getValueAtTime=o,h.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(u,d,g,p,x){var c=m(u,d,g,p,x);return c.propertyIndex=d.ix,c.lock=!1,g===3?expressionHelpers.searchExpressions(u,d.pt,c):g===4&&expressionHelpers.searchExpressions(u,d.ks,c),c.k&&u.addDynamicProperty(c),c}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,i){var r=this.calculateExpression(i);if(t.t!==r){var s={};return this.copyData(s,t),s.t=r.toString(),s.__complete=!1,s}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),i=this.searchExpressions();return this.kf=t||i,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(t,i){var r=createNS("feMerge");r.setAttribute("result",t);var s,n;for(n=0;n<i.length;n+=1)s=createNS("feMergeNode"),s.setAttribute("in",i[n]),r.appendChild(s),r.appendChild(s);return r}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,i,r,s){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=n,n.setAttribute("result",r+"_tint_1"),e.appendChild(n),n=createNS("feColorMatrix"),n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",r+"_tint_2"),e.appendChild(n),this.matrixFilter=n;var a=this.createMergeNode(r,[s,r+"_tint_1",r+"_tint_2"]);e.appendChild(a)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+r+" 0"),this.matrixFilter.setAttribute("values",i[0]-t[0]+" 0 0 0 "+t[0]+" "+(i[1]-t[1])+" 0 0 0 "+t[1]+" "+(i[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,t,i,r){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",r),e.appendChild(s),this.matrixFilter=s}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}};function SVGStrokeEffect(e,t,i){this.initialized=!1,this.filterManager=t,this.elem=i,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,t,i,r,s;for(this.filterManager.effectElements[1].p.v===1?(s=this.elem.maskManager.masksProperties.length,r=0):(r=this.filterManager.effectElements[0].p.v-1,s=r+1),i=createNS("g"),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1),r;r<s;r+=1)t=createNS("path"),i.appendChild(t),this.paths.push({p:t,m:r});if(this.filterManager.effectElements[10].p.v===3){var n=createNS("mask"),a=createElementID();n.setAttribute("id",a),n.setAttribute("mask-type","alpha"),n.appendChild(i),this.elem.globalData.defs.appendChild(n);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");e[0];)o.appendChild(e[0]);this.elem.layerElement.appendChild(o),this.masker=n,i.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,i=this.paths.length,r,s;for(t=0;t<i;t+=1)if(this.paths[t].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[t].m],s=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&s.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var n;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,o=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,l=s.getTotalLength();n="0 0 0 "+l*a+" ";var h=l*(o-a),f=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,m=Math.floor(h/f),u;for(u=0;u<m;u+=1)n+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";n+="0 "+l*10+" 0 0"}else n="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;s.setAttribute("stroke-dasharray",n)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var d=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(d[0]*255)+","+bmFloor(d[1]*255)+","+bmFloor(d[2]*255)+")")}};function SVGTritoneFilter(e,t,i,r){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(s);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",r),this.matrixFilter=n;var a=createNS("feFuncR");a.setAttribute("type","table"),n.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),n.appendChild(l),this.feFuncB=l,e.appendChild(n)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,s=r[0]+" "+i[0]+" "+t[0],n=r[1]+" "+i[1]+" "+t[1],a=r[2]+" "+i[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",s),this.feFuncG.setAttribute("tableValues",n),this.feFuncB.setAttribute("tableValues",a)}};function SVGProLevelsFilter(e,t,i,r){this.filterManager=t;var s=this.filterManager.effectElements,n=createNS("feComponentTransfer");(s[10].p.k||s[10].p.v!==0||s[11].p.k||s[11].p.v!==1||s[12].p.k||s[12].p.v!==1||s[13].p.k||s[13].p.v!==0||s[14].p.k||s[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(s[17].p.k||s[17].p.v!==0||s[18].p.k||s[18].p.v!==1||s[19].p.k||s[19].p.v!==1||s[20].p.k||s[20].p.v!==0||s[21].p.k||s[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(s[24].p.k||s[24].p.v!==0||s[25].p.k||s[25].p.v!==1||s[26].p.k||s[26].p.v!==1||s[27].p.k||s[27].p.v!==0||s[28].p.k||s[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(s[31].p.k||s[31].p.v!==0||s[32].p.k||s[32].p.v!==1||s[33].p.k||s[33].p.v!==1||s[34].p.k||s[34].p.v!==0||s[35].p.k||s[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n)),(s[3].p.k||s[3].p.v!==0||s[4].p.k||s[4].p.v!==1||s[5].p.k||s[5].p.v!==1||s[6].p.k||s[6].p.v!==0||s[7].p.k||s[7].p.v!==1)&&(n=createNS("feComponentTransfer"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("result",r),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var i=createNS(e);return i.setAttribute("type","table"),t.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,t,i,r,s){for(var n=0,a=256,o,l=Math.min(e,t),h=Math.max(e,t),f=Array.call(null,{length:a}),m,u=0,d=s-r,g=t-e;n<=256;)o=n/256,o<=l?m=g<0?s:r:o>=h?m=g<0?r:s:m=r+d*Math.pow((o-e)/g,1/i),f[u]=m,u+=1,n+=256/(a-1);return f.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(t=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(t=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(t=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(t=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(t=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",t))}};function SVGDropShadowEffect(e,t,i,r,s){var n=t.container.globalData.renderConfig.filterSize,a=t.data.fs||n;e.setAttribute("x",a.x||n.x),e.setAttribute("y",a.y||n.y),e.setAttribute("width",a.width||n.width),e.setAttribute("height",a.height||n.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",r+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",r+"_drop_shadow_1"),l.setAttribute("result",r+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result",r+"_drop_shadow_3"),this.feFlood=h,e.appendChild(h);var f=createNS("feComposite");f.setAttribute("in",r+"_drop_shadow_3"),f.setAttribute("in2",r+"_drop_shadow_2"),f.setAttribute("operator","in"),f.setAttribute("result",r+"_drop_shadow_4"),e.appendChild(f);var m=this.createMergeNode(r,[r+"_drop_shadow_4",s]);e.appendChild(m)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,s=i*Math.cos(r),n=i*Math.sin(r);this.feOffset.setAttribute("dx",s),this.feOffset.setAttribute("dy",n)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,i){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,i=_svgMatteSymbols.length;t<i;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var i=e.layerElement.parentNode;if(i){for(var r=i.children,s=0,n=r.length;s<n&&r[s]!==e.layerElement;)s+=1;var a;s<=n-2&&(a=r[s+1]);var o=createNS("use");o.setAttribute("href","#"+t),a?i.insertBefore(o,a):i.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var i=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var s=e.globalData.defs;s.appendChild(r);var n=createNS("symbol");n.setAttribute("id",i),this.replaceInParent(t,i),n.appendChild(t.layerElement),s.appendChild(n);var a=createNS("use");a.setAttribute("href","#"+i),r.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,i=0,r=t.length;i<r;)t[i]&&t[i].data.ind===e&&this.setElementAsMask(this.elem,t[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,t,i,r){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var s=createNS("feGaussianBlur");s.setAttribute("result",r),e.appendChild(s),this.feGaussianBlur=s}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3,i=this.filterManager.effectElements[0].p.v*t,r=this.filterManager.effectElements[1].p.v,s=r==3?0:i,n=r==2?0:i;this.feGaussianBlur.setAttribute("stdDeviation",s+" "+n);var a=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,i=t[0].p.v,r=t[1].p.v,s=t[2].p.v===1,n=t[3].p.v,a=s?n:t[4].p.v,o=t[5].p.v,l=t[6].p.v,h=t[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(a*.01,n*.01,1),this.matrix.rotate(-h*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(r[0],r[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,t){this.init(t)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})});function Ji(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ji=function(t){return typeof t}:Ji=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t,i){return t&&Ha(e.prototype,t),i&&Ha(e,i),e}function Wa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Zi(e,t){return nf(e)||of(e,t)||ja(e,t)||hf()}function rf(e){return sf(e)||af(e)||ja(e)||lf()}function sf(e){if(Array.isArray(e))return _s(e)}function nf(e){if(Array.isArray(e))return e}function af(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function of(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var i=[],r=!0,s=!1,n=void 0;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(i.push(o.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,n=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw n}}return i}}function ja(e,t){if(e){if(typeof e=="string")return _s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _s(e,t)}}function _s(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function lf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=function(){function e(t){Ya(this,e),this.mAttr="data-"+t.dataName,this.mCaptureEvents=["mouseenter","mouseleave"],this.el=t.el}return qa(e,[{key:"mInit",value:function(i){var r=this;this.modules=i,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach(function(s){return r.mAddEvent(s)})}},{key:"mUpdate",value:function(i){this.modules=i}},{key:"mDestroy",value:function(){var i=this;this.events&&Object.keys(this.events).forEach(function(r){return i.mRemoveEvent(r)})}},{key:"mAddEvent",value:function(i){var r=!!this.mCaptureEvents.includes(i);this.el.addEventListener(i,this.mCheckEventTarget,r)}},{key:"mRemoveEvent",value:function(i){var r=!!this.mCaptureEvents.includes(i);this.el.removeEventListener(i,this.mCheckEventTarget,r)}},{key:"mCheckEventTarget",value:function(i){var r=this.events[i.type];if(typeof r=="string")this[r](i);else{var s="["+this.mAttr+"]",n=i.target;if(this.mCaptureEvents.includes(i.type))n.matches(s)&&this.mCallEventMethod(i,r,n);else for(;n&&n!==document&&!(n.matches(s)&&this.mCallEventMethod(i,r,n)!="undefined");)n=n.parentNode}}},{key:"mCallEventMethod",value:function(i,r,s){var n=s.getAttribute(this.mAttr);if(r.hasOwnProperty(n)){var a=r[n];i.hasOwnProperty("currentTarget")||Object.defineProperty(i,"currentTarget",{value:s}),i.hasOwnProperty("curTarget")||Object.defineProperty(i,"curTarget",{value:s}),this[a](i)}}},{key:"$",value:function(i,r){var s=i.indexOf("."),n=i.indexOf("#"),a=i.indexOf("["),o=[s,n,a].filter(function(u){return u!=-1}),l=!1,h=i,f="",m=this.el;return o.length&&(l=Math.min.apply(Math,rf(o)),h=i.slice(0,l),f=i.slice(l)),Ji(r)=="object"&&(m=r),m.querySelectorAll("["+this.mAttr+"="+h+"]"+f)}},{key:"parent",value:function(i,r){for(var s="["+this.mAttr+"="+i+"]",n=r.parentNode;n&&n!==document;){if(n.matches(s))return n;n=n.parentNode}}},{key:"getData",value:function(i,r){var s=r||this.el;return s.getAttribute(this.mAttr+"-"+i)}},{key:"setData",value:function(i,r,s){var n=s||this.el;return n.setAttribute(this.mAttr+"-"+i,r)}},{key:"call",value:function(i,r,s,n){var a=this;r&&!s&&(s=r,r=!1),this.modules[s]&&(n?this.modules[s][n]&&this.modules[s][n][i](r):Object.keys(this.modules[s]).forEach(function(o){a.modules[s][o][i](r)}))}},{key:"on",value:function(i,r,s,n){var a=this;this.modules[r]&&(n?this.modules[r][n].el.addEventListener(i,function(o){return s(o)}):Object.keys(this.modules[r]).forEach(function(o){a.modules[r][o].el.addEventListener(i,function(l){return s(l)})}))}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}(),ff=function(){function e(t){Ya(this,e),this.app,this.modules=t.modules,this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}return qa(e,[{key:"init",value:function(i,r){var s=this,n=r||document,a=n.querySelectorAll("*");i&&!this.app&&(this.app=i),this.activeModules.app={app:this.app},a.forEach(function(o){Array.from(o.attributes).forEach(function(l){if(l.name.startsWith("data-module")){var h=!1,f=l.name.split("-").splice(2),m=s.toCamel(f);if(s.modules[m]?h=!0:s.modules[s.toUpper(m)]&&(m=s.toUpper(m),h=!0),h){var u={el:o,name:m,dataName:f.join("-")},d=new s.modules[m](u),g=l.value;g||(s.moduleId++,g="m"+s.moduleId,o.setAttribute(l.name,g)),s.addActiveModule(m,g,d);var p=m+"-"+g;r?s.newModules[p]=d:s.currentModules[p]=d}}})}),Object.entries(this.currentModules).forEach(function(o){var l=Zi(o,2),h=l[0],f=l[1];if(r){var m=h.split("-"),u=m.shift(),d=m.pop();s.addActiveModule(u,d,f)}else s.initModule(f)})}},{key:"initModule",value:function(i){i.mInit(this.activeModules),i.init()}},{key:"addActiveModule",value:function(i,r,s){this.activeModules[i]?Object.assign(this.activeModules[i],Wa({},r,s)):this.activeModules[i]=Wa({},r,s)}},{key:"update",value:function(i){var r=this;this.init(this.app,i),Object.entries(this.currentModules).forEach(function(s){var n=Zi(s,2),a=n[0],o=n[1];o.mUpdate(r.activeModules)}),Object.entries(this.newModules).forEach(function(s){var n=Zi(s,2),a=n[0],o=n[1];r.initModule(o)}),Object.assign(this.currentModules,this.newModules)}},{key:"destroy",value:function(i){i?this.destroyScope(i):this.destroyModules()}},{key:"destroyScope",value:function(i){var r=this,s=i.querySelectorAll("*");s.forEach(function(n){Array.from(n.attributes).forEach(function(a){if(a.name.startsWith("data-module")){var o=a.value,l=a.name.split("-").splice(2),h=r.toCamel(l)+"-"+o,f=!1;r.currentModules[h]?f=!0:r.currentModules[r.toUpper(h)]&&(h=r.toUpper(h),f=!0),f&&(r.destroyModule(r.currentModules[h]),delete r.currentModules[h])}})}),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){var i=this;Object.entries(this.currentModules).forEach(function(r){var s=Zi(r,2),n=s[0],a=s[1];i.destroyModule(a)}),this.currentModules=[]}},{key:"destroyModule",value:function(i){i.mDestroy(),i.destroy()}},{key:"toCamel",value:function(i){var r=this;return i.reduce(function(s,n){return s+r.toUpper(n)})}},{key:"toUpper",value:function(i){return i.charAt(0).toUpperCase()+i.slice(1)}}]),e}(),Xa=ff;var ao=Dt(Za(),1);var bs="production",Ei=config=Object.freeze({ENV:bs,IS_PROD:bs==="production",IS_DEV:bs==="development",CSS_CLASS:{LOADING:"is-loading",READY:"is-ready",LOADED:"is-loaded"}});var te=document.documentElement,Oc=document.body,Uc=te.hasAttribute("data-debug");var Qa="https://js.stripe.com/v3",uf=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ja="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",df=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Qa,'"]')),i=0;i<t.length;i++){var r=t[i];if(uf.test(r.src))return r}return null},cf=function(t){var i=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Qa).concat(i);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},pf=function(t,i){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:i})},er=null,mf=function(t){return er!==null||(er=new Promise(function(i,r){if(typeof window=="undefined"||typeof document=="undefined"){i(null);return}if(window.Stripe&&t&&console.warn(Ja),window.Stripe){i(window.Stripe);return}try{var s=df();s&&t?console.warn(Ja):s||(s=cf(t)),s.addEventListener("load",function(){window.Stripe?i(window.Stripe):r(new Error("Stripe.js not available"))}),s.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(n){r(n);return}})),er},gf=function(t,i,r){if(t===null)return null;var s=t.apply(void 0,i);return pf(s,r),s},eo=Promise.resolve().then(function(){return mf(null)}),to=!1;eo.catch(function(e){to||console.warn(e)});var io=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];to=!0;var s=Date.now();return eo.then(function(n){return gf(n,i,s)})};var tr;De(void 0,null,function*(){if(Ei.IS_DEV){let e=yield Promise.resolve().then(()=>(no(),so));tr=e==null?void 0:e.gridHelper}});var Pt={instance:!1,load:()=>De(void 0,null,function*(){return Pt.instance||(Pt.instance=yield io(window.stripe_pk)),Pt.instance})};function oo(){return De(this,null,function*(){Pt.load(),(0,ao.default)(),tr==null||tr();let e=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;window.isMobile=e,window.isMobile&&te.classList.add("is-mobile");let t="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;window.isTouchDevice=t,window.isMobile&&te.classList.add("is-touch-device")})}var za={};Ga(za,{Accordions:()=>sr,Carousel:()=>dr,CarouselGallery:()=>cr,FadeinParagraph:()=>Lr,Form:()=>Br,HeroAbout:()=>Rr,HeroAboutProgress:()=>zr,HorizontalPanel:()=>Or,JobsListing:()=>Ur,Load:()=>Vr,ModalEmbed:()=>Zr,ModalEmbedToggler:()=>Jr,ModalMenu:()=>qr,ModalMenuToggler:()=>jr,ModalVideo:()=>Xr,ModalVideoToggler:()=>Kr,Preorder:()=>Qr,ScalingVideo:()=>rs,Scroll:()=>ls,ScrollVideo:()=>fs,Sidebar:()=>us,SidebarProgress:()=>ds,SmoothProgress:()=>cs,SplitText:()=>ps,VideoInview:()=>ms,VideoPlayer:()=>gs});var Ef=e=>({url:e.src,width:e.naturalWidth,height:e.naturalHeight,ratio:e.naturalWidth/e.naturalHeight}),Cf=(e,t={})=>new Promise((i,r)=>{let s=new Image;t.crossOrigin&&(s.crossOrigin=t.crossOrigin);let n=()=>{i(Ki({element:s},Ef(s)))};s.decode?(s.src=e,s.decode().then(n).catch(a=>{r(a)})):(s.onload=n,s.onerror=a=>{r(a)},s.src=e)}),lo=[],ir=(e,t,i)=>De(void 0,null,function*(){let r=t||e.dataset.src,s=lo.find(n=>n.url===r);if(!s){if(s=yield Cf(r),!s.url)return;lo.push(s)}e.src!==r&&(e.tagName==="IMG"?e.src=s.url:e.style.backgroundImage=`url(${s.url})`,requestAnimationFrame(()=>{let n=e.closest(".c-image");n&&(n.classList.add("-lazy-loaded"),n.style.backgroundImage=""),e.classList.add("-lazy-loaded"),i==null||i()}))});var rr="is-active",sr=class extends Z{constructor(e){super(e),this.$inners=this.$("inner"),this.$imges=this.$("image"),this.defaultHeight=0,this.activeItem=null,this.events={click:{toggler:"onButtonClick"}}}init(){this.defaultHeight=this.$inners[0].clientHeight}destroy(){super.destroy()}onButtonClick(e){let t=this.parent("item",e.curTarget);this.toggleItem(t)}toggleItem(e){e.classList.contains(rr)?this.closeItem(e):this.openItem(e)}openItem(e){this.activeItem&&this.closeItem(this.activeItem),this.activeItem=e;let t=this.$("toggler",e)[0];t.setAttribute("aria-expanded",!0),t.setAttribute("aria-pressed",!0);let i=this.$("inner",e)[0];if(!i)return;let r=this.$("content",e)[0].clientHeight;i.style.height=r+"px",e.classList.toggle(rr),this.loadImages(this.activeItem)}closeItem(e){let t=this.$("toggler",e)[0];if(t.setAttribute("aria-expanded",!1),t.setAttribute("aria-pressed",!1),e.classList.contains(rr)){let i=this.$("inner",e)[0];if(!i)return;i.style.height=this.defaultHeight+"px",e.classList.remove(rr)}}loadImages(e){let t=this.$("image",e);if(t.length<1)return;let i=0;for(;i<t.length;)ir(t[i]),i++}};function ho(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Ss(e={},t={}){Object.keys(t).forEach(i=>{typeof e[i]=="undefined"?e[i]=t[i]:ho(t[i])&&ho(e[i])&&Object.keys(t[i]).length>0&&Ss(e[i],t[i])})}var fo={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xe(){let e=typeof document!="undefined"?document:{};return Ss(e,fo),e}var Tf={document:fo,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout=="undefined"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout!="undefined"&&clearTimeout(e)}};function de(){let e=typeof window!="undefined"?window:{};return Ss(e,Tf),e}function uo(e){let t=e;Object.keys(t).forEach(i=>{try{t[i]=null}catch(r){}try{delete t[i]}catch(r){}})}function At(e,t=0){return setTimeout(e,t)}function _t(){return Date.now()}function wf(e){let t=de(),i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}function xs(e,t="x"){let i=de(),r,s,n,a=wf(e,null);return i.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new i.WebKitCSSMatrix(s==="none"?"":s)):(n=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=n.toString().split(",")),t==="x"&&(i.WebKitCSSMatrix?s=n.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),t==="y"&&(i.WebKitCSSMatrix?s=n.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ni(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function Df(e){return typeof window!="undefined"&&typeof window.HTMLElement!="undefined"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function ke(...e){let t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let r=1;r<e.length;r+=1){let s=e[r];if(s!=null&&!Df(s)){let n=Object.keys(Object(s)).filter(a=>i.indexOf(a)<0);for(let a=0,o=n.length;a<o;a+=1){let l=n[a],h=Object.getOwnPropertyDescriptor(s,l);h!==void 0&&h.enumerable&&(ni(t[l])&&ni(s[l])?s[l].__swiper__?t[l]=s[l]:ke(t[l],s[l]):!ni(t[l])&&ni(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:ke(t[l],s[l])):t[l]=s[l])}}}return t}function ai(e,t,i){e.style.setProperty(t,i)}function nr({swiper:e,targetPosition:t,side:i}){let r=de(),s=-e.translate,n=null,a,o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);let l=t>s?"next":"prev",h=(m,u)=>l==="next"&&m>=u||l==="prev"&&m<=u,f=()=>{a=new Date().getTime(),n===null&&(n=a);let m=Math.max(Math.min((a-n)/o,1),0),u=.5-Math.cos(m*Math.PI)/2,d=s+u*(t-s);if(h(d,t)&&(d=t),e.wrapperEl.scrollTo({[i]:d}),h(d,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:d})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function ve(e,t=""){return[...e.children].filter(i=>i.matches(t))}function bt(e,t=[]){let i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function co(e,t){let i=[];for(;e.previousElementSibling;){let r=e.previousElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function po(e,t){let i=[];for(;e.nextElementSibling;){let r=e.nextElementSibling;t?r.matches(t)&&i.push(r):i.push(r),e=r}return i}function ht(e,t){return de().getComputedStyle(e,null).getPropertyValue(t)}function $t(e){let t=e,i;if(t){for(i=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(i+=1);return i}}function oi(e,t){let i=[],r=e.parentElement;for(;r;)t?r.matches(t)&&i.push(r):i.push(r),r=r.parentElement;return i}function Ci(e,t,i){let r=de();return i?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}var Es;function Pf(){let e=de(),t=xe();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function ar(){return Es||(Es=Pf()),Es}var Cs;function Af({userAgent:e}={}){let t=ar(),i=de(),r=i.navigator.platform,s=e||i.navigator.userAgent,n={ios:!1,android:!1},a=i.screen.width,o=i.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/),h=s.match(/(iPad).*OS\s([\d_]+)/),f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),u=r==="Win32",d=r==="MacIntel",g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&d&&t.touch&&g.indexOf(`${a}x${o}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),d=!1),l&&!u&&(n.os="android",n.android=!0),(h||m||f)&&(n.os="ios",n.ios=!0),n}function mo(e={}){return Cs||(Cs=Af(e)),Cs}var Ts;function Ff(){let e=de(),t=!1;function i(){let r=e.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(i()){let r=String(e.navigator.userAgent);if(r.includes("Version/")){let[s,n]=r.split("Version/")[1].split(" ")[0].split(".").map(a=>Number(a));t=s<16||s===16&&n<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}function go(){return Ts||(Ts=Ff()),Ts}function ws({swiper:e,on:t,emit:i}){let r=de(),s=null,n=null,a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},o=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{n=r.requestAnimationFrame(()=>{let{width:m,height:u}=e,d=m,g=u;f.forEach(({contentBoxSize:p,contentRect:x,target:c})=>{c&&c!==e.el||(d=x?x.width:(p[0]||p).inlineSize,g=x?x.height:(p[0]||p).blockSize)}),(d!==m||g!==u)&&a()})}),s.observe(e.el))},l=()=>{n&&r.cancelAnimationFrame(n),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},h=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver!="undefined"){o();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",h)}),t("destroy",()=>{l(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",h)})}function Ds({swiper:e,extendParams:t,on:i,emit:r}){let s=[],n=de(),a=(h,f={})=>{let m=n.MutationObserver||n.WebkitMutationObserver,u=new m(d=>{if(e.__preventObserver__)return;if(d.length===1){r("observerUpdate",d[0]);return}let g=function(){r("observerUpdate",d[0])};n.requestAnimationFrame?n.requestAnimationFrame(g):n.setTimeout(g,0)});u.observe(h,{attributes:typeof f.attributes=="undefined"?!0:f.attributes,childList:typeof f.childList=="undefined"?!0:f.childList,characterData:typeof f.characterData=="undefined"?!0:f.characterData}),s.push(u)},o=()=>{if(e.params.observer){if(e.params.observeParents){let h=oi(e.el);for(let f=0;f<h.length;f+=1)a(h[f])}a(e.el,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",o),i("destroy",l)}var vo={on(e,t,i){let r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;let s=i?"unshift":"push";return e.split(" ").forEach(n=>{r.eventsListeners[n]||(r.eventsListeners[n]=[]),r.eventsListeners[n][s](t)}),r},once(e,t,i){let r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function s(...n){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(r,n)}return s.__emitterProxy=t,r.on(e,s,i)},onAny(e,t){let i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;let r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny(e){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;let i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){let i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||e.split(" ").forEach(r=>{typeof t=="undefined"?i.eventsListeners[r]=[]:i.eventsListeners[r]&&i.eventsListeners[r].forEach((s,n)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[r].splice(n,1)})}),i},emit(...e){let t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let i,r,s;return typeof e[0]=="string"||Array.isArray(e[0])?(i=e[0],r=e.slice(1,e.length),s=t):(i=e[0].events,r=e[0].data,s=e[0].context||t),r.unshift(s),(Array.isArray(i)?i:i.split(" ")).forEach(a=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(o=>{o.apply(s,[a,...r])}),t.eventsListeners&&t.eventsListeners[a]&&t.eventsListeners[a].forEach(o=>{o.apply(s,r)})}),t}};function Ps(){let e=this,t,i,r=e.el;typeof e.params.width!="undefined"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height!="undefined"&&e.params.height!==null?i=e.params.height:i=r.clientHeight,!(t===0&&e.isHorizontal()||i===0&&e.isVertical())&&(t=t-parseInt(ht(r,"padding-left")||0,10)-parseInt(ht(r,"padding-right")||0,10),i=i-parseInt(ht(r,"padding-top")||0,10)-parseInt(ht(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))}function As(){let e=this;function t(F){return e.isHorizontal()?F:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[F]}function i(F,k){return parseFloat(F.getPropertyValue(t(k))||0)}let r=e.params,{wrapperEl:s,slidesEl:n,size:a,rtlTranslate:o,wrongRTL:l}=e,h=e.virtual&&r.virtual.enabled,f=h?e.virtual.slides.length:e.slides.length,m=ve(n,`.${e.params.slideClass}, swiper-slide`),u=h?e.virtual.slides.length:m.length,d=[],g=[],p=[],x=r.slidesOffsetBefore;typeof x=="function"&&(x=r.slidesOffsetBefore.call(e));let c=r.slidesOffsetAfter;typeof c=="function"&&(c=r.slidesOffsetAfter.call(e));let _=e.snapGrid.length,y=e.slidesGrid.length,b=r.spaceBetween,E=-x,w=0,A=0;if(typeof a=="undefined")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*a:typeof b=="string"&&(b=parseFloat(b)),e.virtualSize=-b,m.forEach(F=>{o?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(ai(s,"--swiper-centered-offset-before",""),ai(s,"--swiper-centered-offset-after",""));let P=r.grid&&r.grid.rows>1&&e.grid;P&&e.grid.initSlides(u);let L,O=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(F=>typeof r.breakpoints[F].slidesPerView!="undefined").length>0;for(let F=0;F<u;F+=1){L=0;let k;if(m[F]&&(k=m[F]),P&&e.grid.updateSlide(F,k,u,t),!(m[F]&&ht(k,"display")==="none")){if(r.slidesPerView==="auto"){O&&(m[F].style[t("width")]="");let B=getComputedStyle(k),V=k.style.transform,z=k.style.webkitTransform;if(V&&(k.style.transform="none"),z&&(k.style.webkitTransform="none"),r.roundLengths)L=e.isHorizontal()?Ci(k,"width",!0):Ci(k,"height",!0);else{let D=i(B,"width"),I=i(B,"padding-left"),T=i(B,"padding-right"),C=i(B,"margin-left"),R=i(B,"margin-right"),M=B.getPropertyValue("box-sizing");if(M&&M==="border-box")L=D+C+R;else{let{clientWidth:U,offsetWidth:$}=k;L=D+I+T+C+R+($-U)}}V&&(k.style.transform=V),z&&(k.style.webkitTransform=z),r.roundLengths&&(L=Math.floor(L))}else L=(a-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(L=Math.floor(L)),m[F]&&(m[F].style[t("width")]=`${L}px`);m[F]&&(m[F].swiperSlideSize=L),p.push(L),r.centeredSlides?(E=E+L/2+w/2+b,w===0&&F!==0&&(E=E-a/2-b),F===0&&(E=E-a/2-b),Math.abs(E)<1/1e3&&(E=0),r.roundLengths&&(E=Math.floor(E)),A%r.slidesPerGroup===0&&d.push(E),g.push(E)):(r.roundLengths&&(E=Math.floor(E)),(A-Math.min(e.params.slidesPerGroupSkip,A))%e.params.slidesPerGroup===0&&d.push(E),g.push(E),E=E+L+b),e.virtualSize+=L+b,w=L,A+=1}}if(e.virtualSize=Math.max(e.virtualSize,a)+c,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(s.style.width=`${e.virtualSize+b}px`),r.setWrapperSize&&(s.style[t("width")]=`${e.virtualSize+b}px`),P&&e.grid.updateWrapperSize(L,d,t),!r.centeredSlides){let F=[];for(let k=0;k<d.length;k+=1){let B=d[k];r.roundLengths&&(B=Math.floor(B)),d[k]<=e.virtualSize-a&&F.push(B)}d=F,Math.floor(e.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-a)}if(h&&r.loop){let F=p[0]+b;if(r.slidesPerGroup>1){let k=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/r.slidesPerGroup),B=F*r.slidesPerGroup;for(let V=0;V<k;V+=1)d.push(d[d.length-1]+B)}for(let k=0;k<e.virtual.slidesBefore+e.virtual.slidesAfter;k+=1)r.slidesPerGroup===1&&d.push(d[d.length-1]+F),g.push(g[g.length-1]+F),e.virtualSize+=F}if(d.length===0&&(d=[0]),b!==0){let F=e.isHorizontal()&&o?"marginLeft":t("marginRight");m.filter((k,B)=>!r.cssMode||r.loop?!0:B!==m.length-1).forEach(k=>{k.style[F]=`${b}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let F=0;p.forEach(B=>{F+=B+(b||0)}),F-=b;let k=F-a;d=d.map(B=>B<=0?-x:B>k?k+c:B)}if(r.centerInsufficientSlides){let F=0;if(p.forEach(k=>{F+=k+(b||0)}),F-=b,F<a){let k=(a-F)/2;d.forEach((B,V)=>{d[V]=B-k}),g.forEach((B,V)=>{g[V]=B+k})}}if(Object.assign(e,{slides:m,snapGrid:d,slidesGrid:g,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ai(s,"--swiper-centered-offset-before",`${-d[0]}px`),ai(s,"--swiper-centered-offset-after",`${e.size/2-p[p.length-1]/2}px`);let F=-e.snapGrid[0],k=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(B=>B+F),e.slidesGrid=e.slidesGrid.map(B=>B+k)}if(u!==f&&e.emit("slidesLengthChange"),d.length!==_&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),g.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!h&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){let F=`${r.containerModifierClass}backface-hidden`,k=e.el.classList.contains(F);u<=r.maxBackfaceHiddenSlides?k||e.el.classList.add(F):k&&e.el.classList.remove(F)}}function Fs(e){let t=this,i=[],r=t.virtual&&t.params.virtual.enabled,s=0,n;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);let a=o=>r?t.slides[t.getSlideIndexByData(o)]:t.slides[o];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(o=>{i.push(o)});else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){let o=t.activeIndex+n;if(o>t.slides.length&&!r)break;i.push(a(o))}else i.push(a(t.activeIndex));for(n=0;n<i.length;n+=1)if(typeof i[n]!="undefined"){let o=i[n].offsetHeight;s=o>s?o:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function Ms(){let e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-i-e.cssOverflowAdjustment()}function ks(e=this&&this.translate||0){let t=this,i=t.params,{slides:r,rtlTranslate:s,snapGrid:n}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset=="undefined"&&t.updateSlidesOffset();let a=-e;s&&(a=e),r.forEach(l=>{l.classList.remove(i.slideVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=i.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){let h=r[l],f=h.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(f-=r[0].swiperSlideOffset);let m=(a+(i.centeredSlides?t.minTranslate():0)-f)/(h.swiperSlideSize+o),u=(a-n[0]+(i.centeredSlides?t.minTranslate():0)-f)/(h.swiperSlideSize+o),d=-(a-f),g=d+t.slidesSizesGrid[l];(d>=0&&d<t.size-1||g>1&&g<=t.size||d<=0&&g>=t.size)&&(t.visibleSlides.push(h),t.visibleSlidesIndexes.push(l),r[l].classList.add(i.slideVisibleClass)),h.progress=s?-m:m,h.originalProgress=s?-u:u}}function Is(e){let t=this;if(typeof e=="undefined"){let f=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*f||0}let i=t.params,r=t.maxTranslate()-t.minTranslate(),{progress:s,isBeginning:n,isEnd:a,progressLoop:o}=t,l=n,h=a;if(r===0)s=0,n=!0,a=!0;else{s=(e-t.minTranslate())/r;let f=Math.abs(e-t.minTranslate())<1,m=Math.abs(e-t.maxTranslate())<1;n=f||s<=0,a=m||s>=1,f&&(s=0),m&&(s=1)}if(i.loop){let f=t.getSlideIndexByData(0),m=t.getSlideIndexByData(t.slides.length-1),u=t.slidesGrid[f],d=t.slidesGrid[m],g=t.slidesGrid[t.slidesGrid.length-1],p=Math.abs(e);p>=u?o=(p-u)/g:o=(p+g-d)/g,o>1&&(o-=1)}Object.assign(t,{progress:s,progressLoop:o,isBeginning:n,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),n&&!l&&t.emit("reachBeginning toEdge"),a&&!h&&t.emit("reachEnd toEdge"),(l&&!n||h&&!a)&&t.emit("fromEdge"),t.emit("progress",s)}function Ls(){let e=this,{slides:t,params:i,slidesEl:r,activeIndex:s}=e,n=e.virtual&&i.virtual.enabled,a=l=>ve(r,`.${i.slideClass}${l}, swiper-slide${l}`)[0];t.forEach(l=>{l.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)});let o;if(n)if(i.loop){let l=s-e.virtual.slidesBefore;l<0&&(l=e.virtual.slides.length+l),l>=e.virtual.slides.length&&(l-=e.virtual.slides.length),o=a(`[data-swiper-slide-index="${l}"]`)}else o=a(`[data-swiper-slide-index="${s}"]`);else o=t[s];if(o){o.classList.add(i.slideActiveClass);let l=po(o,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!l&&(l=t[0]),l&&l.classList.add(i.slideNextClass);let h=co(o,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!h===0&&(h=t[t.length-1]),h&&h.classList.add(i.slidePrevClass)}e.emitSlidesClasses()}var li=(e,t)=>{if(!e||e.destroyed||!e.params)return;let i=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(i());if(r){let s=r.querySelector(`.${e.params.lazyPreloaderClass}`);s&&s.remove()}},Bs=(e,t)=>{if(!e.slides[t])return;let i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},Ti=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext,i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);let r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){let a=s,o=[a-t];o.push(...Array.from({length:t}).map((l,h)=>a+r+h)),e.slides.forEach((l,h)=>{o.includes(l.column)&&Bs(e,h)});return}let n=s+r-1;if(e.params.rewind||e.params.loop)for(let a=s-t;a<=n+t;a+=1){let o=(a%i+i)%i;(o<s||o>n)&&Bs(e,o)}else for(let a=Math.max(s-t,0);a<=Math.min(n+t,i-1);a+=1)a!==s&&(a>n||a<s)&&Bs(e,a)};function Mf(e){let{slidesGrid:t,params:i}=e,r=e.rtlTranslate?e.translate:-e.translate,s;for(let n=0;n<t.length;n+=1)typeof t[n+1]!="undefined"?r>=t[n]&&r<t[n+1]-(t[n+1]-t[n])/2?s=n:r>=t[n]&&r<t[n+1]&&(s=n+1):r>=t[n]&&(s=n);return i.normalizeSlideIndex&&(s<0||typeof s=="undefined")&&(s=0),s}function Rs(e){let t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:s,activeIndex:n,realIndex:a,snapIndex:o}=t,l=e,h,f=u=>{let d=u-t.virtual.slidesBefore;return d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),d};if(typeof l=="undefined"&&(l=Mf(t)),r.indexOf(i)>=0)h=r.indexOf(i);else{let u=Math.min(s.slidesPerGroupSkip,l);h=u+Math.floor((l-u)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),l===n){h!==o&&(t.snapIndex=h,t.emit("snapIndexChange")),t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=f(l));return}let m;t.virtual&&s.virtual.enabled&&s.loop?m=f(l):t.slides[l]?m=parseInt(t.slides[l].getAttribute("data-swiper-slide-index")||l,10):m=l,Object.assign(t,{previousSnapIndex:o,snapIndex:h,previousRealIndex:a,realIndex:m,previousIndex:n,activeIndex:l}),t.initialized&&Ti(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==m&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")}function zs(e){let t=this,i=t.params,r=e.closest(`.${i.slideClass}, swiper-slide`),s=!1,n;if(r){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,n=a;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=n;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var yo={updateSize:Ps,updateSlides:As,updateAutoHeight:Fs,updateSlidesOffset:Ms,updateSlidesProgress:ks,updateProgress:Is,updateSlidesClasses:Ls,updateActiveIndex:Rs,updateClickedSlide:zs};function Os(e=this.isHorizontal()?"x":"y"){let t=this,{params:i,rtlTranslate:r,translate:s,wrapperEl:n}=t;if(i.virtualTranslate)return r?-s:s;if(i.cssMode)return s;let a=xs(n,e);return a+=t.cssOverflowAdjustment(),r&&(a=-a),a||0}function Us(e,t){let i=this,{rtlTranslate:r,params:s,wrapperEl:n,progress:a}=i,o=0,l=0,h=0;i.isHorizontal()?o=r?-e:e:l=e,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?o:l,s.cssMode?n[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-o:-l:s.virtualTranslate||(i.isHorizontal()?o-=i.cssOverflowAdjustment():l-=i.cssOverflowAdjustment(),n.style.transform=`translate3d(${o}px, ${l}px, ${h}px)`);let f,m=i.maxTranslate()-i.minTranslate();m===0?f=0:f=(e-i.minTranslate())/m,f!==a&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)}function Vs(){return-this.snapGrid[0]}function Ns(){return-this.snapGrid[this.snapGrid.length-1]}function $s(e=0,t=this.params.speed,i=!0,r=!0,s){let n=this,{params:a,wrapperEl:o}=n;if(n.animating&&a.preventInteractionOnTransition)return!1;let l=n.minTranslate(),h=n.maxTranslate(),f;if(r&&e>l?f=l:r&&e<h?f=h:f=e,n.updateProgress(f),a.cssMode){let m=n.isHorizontal();if(t===0)o[m?"scrollLeft":"scrollTop"]=-f;else{if(!n.support.smoothScroll)return nr({swiper:n,targetPosition:-f,side:m?"left":"top"}),!0;o.scrollTo({[m?"left":"top"]:-f,behavior:"smooth"})}return!0}return t===0?(n.setTransition(0),n.setTranslate(f),i&&(n.emit("beforeTransitionStart",t,s),n.emit("transitionEnd"))):(n.setTransition(t),n.setTranslate(f),i&&(n.emit("beforeTransitionStart",t,s),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(u){!n||n.destroyed||u.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,i&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var _o={getTranslate:Os,setTranslate:Us,minTranslate:Vs,maxTranslate:Ns,translateTo:$s};function Gs(e,t){let i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`),i.emit("setTransition",e,t)}function wi({swiper:e,runCallbacks:t,direction:i,step:r}){let{activeIndex:s,previousIndex:n}=e,a=i;if(a||(s>n?a="next":s<n?a="prev":a="reset"),e.emit(`transition${r}`),t&&s!==n){if(a==="reset"){e.emit(`slideResetTransition${r}`);return}e.emit(`slideChangeTransition${r}`),a==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`)}}function Hs(e=!0,t){let i=this,{params:r}=i;r.cssMode||(r.autoHeight&&i.updateAutoHeight(),wi({swiper:i,runCallbacks:e,direction:t,step:"Start"}))}function Ws(e=!0,t){let i=this,{params:r}=i;i.animating=!1,!r.cssMode&&(i.setTransition(0),wi({swiper:i,runCallbacks:e,direction:t,step:"End"}))}var bo={setTransition:Gs,transitionStart:Hs,transitionEnd:Ws};function Ys(e=0,t=this.params.speed,i=!0,r,s){typeof e=="string"&&(e=parseInt(e,10));let n=this,a=e;a<0&&(a=0);let{params:o,snapGrid:l,slidesGrid:h,previousIndex:f,activeIndex:m,rtlTranslate:u,wrapperEl:d,enabled:g}=n;if(n.animating&&o.preventInteractionOnTransition||!g&&!r&&!s)return!1;let p=Math.min(n.params.slidesPerGroupSkip,a),x=p+Math.floor((a-p)/n.params.slidesPerGroup);x>=l.length&&(x=l.length-1);let c=-l[x];if(o.normalizeSlideIndex)for(let y=0;y<h.length;y+=1){let b=-Math.floor(c*100),E=Math.floor(h[y]*100),w=Math.floor(h[y+1]*100);typeof h[y+1]!="undefined"?b>=E&&b<w-(w-E)/2?a=y:b>=E&&b<w&&(a=y+1):b>=E&&(a=y)}if(n.initialized&&a!==m&&(!n.allowSlideNext&&(u?c>n.translate&&c>n.minTranslate():c<n.translate&&c<n.minTranslate())||!n.allowSlidePrev&&c>n.translate&&c>n.maxTranslate()&&(m||0)!==a))return!1;a!==(f||0)&&i&&n.emit("beforeSlideChangeStart"),n.updateProgress(c);let _;if(a>m?_="next":a<m?_="prev":_="reset",u&&-c===n.translate||!u&&c===n.translate)return n.updateActiveIndex(a),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(c),_!=="reset"&&(n.transitionStart(i,_),n.transitionEnd(i,_)),!1;if(o.cssMode){let y=n.isHorizontal(),b=u?c:-c;if(t===0){let E=n.virtual&&n.params.virtual.enabled;E&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),E&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{d[y?"scrollLeft":"scrollTop"]=b})):d[y?"scrollLeft":"scrollTop"]=b,E&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1})}else{if(!n.support.smoothScroll)return nr({swiper:n,targetPosition:b,side:y?"left":"top"}),!0;d.scrollTo({[y?"left":"top"]:b,behavior:"smooth"})}return!0}return n.setTransition(t),n.setTranslate(c),n.updateActiveIndex(a),n.updateSlidesClasses(),n.emit("beforeTransitionStart",t,r),n.transitionStart(i,_),t===0?n.transitionEnd(i,_):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(b){!n||n.destroyed||b.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(i,_))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function qs(e=0,t=this.params.speed,i=!0,r){typeof e=="string"&&(e=parseInt(e,10));let s=this,n=e;return s.params.loop&&(s.virtual&&s.params.virtual.enabled?n=n+s.virtual.slidesBefore:n=s.getSlideIndexByData(n)),s.slideTo(n,t,i,r)}function js(e=this.params.speed,t=!0,i){let r=this,{enabled:s,params:n,animating:a}=r;if(!s)return r;let o=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));let l=r.activeIndex<n.slidesPerGroupSkip?1:o,h=r.virtual&&n.virtual.enabled;if(n.loop){if(a&&!h&&n.loopPreventsSliding)return!1;r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft}return n.rewind&&r.isEnd?r.slideTo(0,e,t,i):r.slideTo(r.activeIndex+l,e,t,i)}function Xs(e=this.params.speed,t=!0,i){let r=this,{params:s,snapGrid:n,slidesGrid:a,rtlTranslate:o,enabled:l,animating:h}=r;if(!l)return r;let f=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!f&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}let m=o?r.translate:-r.translate;function u(c){return c<0?-Math.floor(Math.abs(c)):Math.floor(c)}let d=u(m),g=n.map(c=>u(c)),p=n[g.indexOf(d)-1];if(typeof p=="undefined"&&s.cssMode){let c;n.forEach((_,y)=>{d>=_&&(c=y)}),typeof c!="undefined"&&(p=n[c>0?c-1:c])}let x=0;if(typeof p!="undefined"&&(x=a.indexOf(p),x<0&&(x=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(x=x-r.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),s.rewind&&r.isBeginning){let c=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(c,e,t,i)}return r.slideTo(x,e,t,i)}function Ks(e=this.params.speed,t=!0,i){let r=this;return r.slideTo(r.activeIndex,e,t,i)}function Zs(e=this.params.speed,t=!0,i,r=.5){let s=this,n=s.activeIndex,a=Math.min(s.params.slidesPerGroupSkip,n),o=a+Math.floor((n-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){let h=s.snapGrid[o],f=s.snapGrid[o+1];l-h>(f-h)*r&&(n+=s.params.slidesPerGroup)}else{let h=s.snapGrid[o-1],f=s.snapGrid[o];l-h<=(f-h)*r&&(n-=s.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,s.slidesGrid.length-1),s.slideTo(n,e,t,i)}function Js(){let e=this,{params:t,slidesEl:i}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView,s=e.clickedIndex,n,a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;n=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-r/2||s>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),s=e.getSlideIndex(ve(i,`${a}[data-swiper-slide-index="${n}"]`)[0]),At(()=>{e.slideTo(s)})):e.slideTo(s):s>e.slides.length-r?(e.loopFix(),s=e.getSlideIndex(ve(i,`${a}[data-swiper-slide-index="${n}"]`)[0]),At(()=>{e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}var So={slideTo:Ys,slideToLoop:qs,slideNext:js,slidePrev:Xs,slideReset:Ks,slideToClosest:Zs,slideToClickedSlide:Js};function Qs(e){let t=this,{params:i,slidesEl:r}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;ve(r,`.${i.slideClass}, swiper-slide`).forEach((n,a)=>{n.setAttribute("data-swiper-slide-index",a)}),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})}function en({slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:n,byMousewheel:a}={}){let o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");let{slides:l,allowSlidePrev:h,allowSlideNext:f,slidesEl:m,params:u}=o;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&u.virtual.enabled){t&&(!u.centeredSlides&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):u.centeredSlides&&o.snapIndex<u.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=h,o.allowSlideNext=f,o.emit("loopFix");return}let d=u.slidesPerView==="auto"?o.slidesPerViewDynamic():Math.ceil(parseFloat(u.slidesPerView,10)),g=u.loopedSlides||d;g%u.slidesPerGroup!==0&&(g+=u.slidesPerGroup-g%u.slidesPerGroup),o.loopedSlides=g;let p=[],x=[],c=o.activeIndex;typeof s=="undefined"?s=o.getSlideIndex(o.slides.filter(w=>w.classList.contains(u.slideActiveClass))[0]):c=s;let _=i==="next"||!i,y=i==="prev"||!i,b=0,E=0;if(s<g){b=Math.max(g-s,u.slidesPerGroup);for(let w=0;w<g-s;w+=1){let A=w-Math.floor(w/l.length)*l.length;p.push(l.length-A-1)}}else if(s>o.slides.length-g*2){E=Math.max(s-(o.slides.length-g*2),u.slidesPerGroup);for(let w=0;w<E;w+=1){let A=w-Math.floor(w/l.length)*l.length;x.push(A)}}if(y&&p.forEach(w=>{o.slides[w].swiperLoopMoveDOM=!0,m.prepend(o.slides[w]),o.slides[w].swiperLoopMoveDOM=!1}),_&&x.forEach(w=>{o.slides[w].swiperLoopMoveDOM=!0,m.append(o.slides[w]),o.slides[w].swiperLoopMoveDOM=!1}),o.recalcSlides(),u.slidesPerView==="auto"&&o.updateSlides(),u.watchSlidesProgress&&o.updateSlidesOffset(),t){if(p.length>0&&y)if(typeof e=="undefined"){let w=o.slidesGrid[c],P=o.slidesGrid[c+b]-w;a?o.setTranslate(o.translate-P):(o.slideTo(c+b,0,!1,!0),r&&(o.touches[o.isHorizontal()?"startX":"startY"]+=P))}else r&&o.slideToLoop(e,0,!1,!0);else if(x.length>0&&_)if(typeof e=="undefined"){let w=o.slidesGrid[c],P=o.slidesGrid[c-E]-w;a?o.setTranslate(o.translate-P):(o.slideTo(c-E,0,!1,!0),r&&(o.touches[o.isHorizontal()?"startX":"startY"]+=P))}else o.slideToLoop(e,0,!1,!0)}if(o.allowSlidePrev=h,o.allowSlideNext=f,o.controller&&o.controller.control&&!n){let w={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach(A=>{!A.destroyed&&A.params.loop&&A.loopFix(w)}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix(w)}o.emit("loopFix")}function tn(){let e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();let r=[];e.slides.forEach(s=>{let n=typeof s.swiperSlideIndex=="undefined"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[n]=s}),e.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{i.append(s)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var xo={loopCreate:Qs,loopFix:en,loopDestroy:tn};function rn(e){let t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;let i=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function sn(){let e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var Eo={setGrabCursor:rn,unsetGrabCursor:sn};function kf(e,t=this){function i(r){if(!r||r===xe()||r===de())return null;r.assignedSlot&&(r=r.assignedSlot);let s=r.closest(e);return!s&&!r.getRootNode?null:s||i(r.getRootNode().host)}return i(t)}function nn(e){let t=this,i=xe(),r=de(),s=t.touchEventsData;s.evCache.push(e);let{params:n,touches:a,enabled:o}=t;if(!o||!n.simulateTouch&&e.pointerType==="mouse"||t.animating&&n.preventInteractionOnTransition)return;!t.animating&&n.cssMode&&n.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let h=l.target;if(n.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(h)||"which"in l&&l.which===3||"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;let f=!!n.noSwipingClass&&n.noSwipingClass!=="",m=e.composedPath?e.composedPath():e.path;f&&l.target&&l.target.shadowRoot&&m&&(h=m[0]);let u=n.noSwipingSelector?n.noSwipingSelector:`.${n.noSwipingClass}`,d=!!(l.target&&l.target.shadowRoot);if(n.noSwiping&&(d?kf(u,h):h.closest(u))){t.allowClick=!0;return}if(n.swipeHandler&&!h.closest(n.swipeHandler))return;a.currentX=l.pageX,a.currentY=l.pageY;let g=a.currentX,p=a.currentY,x=n.edgeSwipeDetection||n.iOSEdgeSwipeDetection,c=n.edgeSwipeThreshold||n.iOSEdgeSwipeThreshold;if(x&&(g<=c||g>=r.innerWidth-c))if(x==="prevent")e.preventDefault();else return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=p,s.touchStartTime=_t(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,n.threshold>0&&(s.allowThresholdMove=!1);let _=!0;h.matches(s.focusableElements)&&(_=!1,h.nodeName==="SELECT"&&(s.isTouched=!1)),i.activeElement&&i.activeElement.matches(s.focusableElements)&&i.activeElement!==h&&i.activeElement.blur();let y=_&&t.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||y)&&!h.isContentEditable&&l.preventDefault(),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.animating&&!n.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function an(e){let t=xe(),i=this,r=i.touchEventsData,{params:s,touches:n,rtlTranslate:a,enabled:o}=i;if(!o||!s.simulateTouch&&e.pointerType==="mouse")return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",l);return}let h=r.evCache.findIndex(w=>w.pointerId===l.pointerId);h>=0&&(r.evCache[h]=l);let f=r.evCache.length>1?r.evCache[0]:l,m=f.pageX,u=f.pageY;if(l.preventedByNestedSwiper){n.startX=m,n.startY=u;return}if(!i.allowTouchMove){l.target.matches(r.focusableElements)||(i.allowClick=!1),r.isTouched&&(Object.assign(n,{startX:m,startY:u,prevX:i.touches.currentX,prevY:i.touches.currentY,currentX:m,currentY:u}),r.touchStartTime=_t());return}if(s.touchReleaseOnEdges&&!s.loop){if(i.isVertical()){if(u<n.startY&&i.translate<=i.maxTranslate()||u>n.startY&&i.translate>=i.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(m<n.startX&&i.translate<=i.maxTranslate()||m>n.startX&&i.translate>=i.minTranslate())return}if(t.activeElement&&l.target===t.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,i.allowClick=!1;return}if(r.allowTouchCallbacks&&i.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;n.currentX=m,n.currentY=u;let d=n.currentX-n.startX,g=n.currentY-n.startY;if(i.params.threshold&&Math.sqrt(dt(d,2)+dt(g,2))<i.params.threshold)return;if(typeof r.isScrolling=="undefined"){let w;i.isHorizontal()&&n.currentY===n.startY||i.isVertical()&&n.currentX===n.startX?r.isScrolling=!1:d*d+g*g>=25&&(w=Math.atan2(Math.abs(g),Math.abs(d))*180/Math.PI,r.isScrolling=i.isHorizontal()?w>s.touchAngle:90-w>s.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",l),typeof r.startMoving=="undefined"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(r.startMoving=!0),r.isScrolling||i.zoom&&i.params.zoom&&i.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;i.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let p=i.isHorizontal()?d:g,x=i.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;s.oneWayMovement&&(p=Math.abs(p)*(a?1:-1),x=Math.abs(x)*(a?1:-1)),n.diff=p,p*=s.touchRatio,a&&(p=-p,x=-x);let c=i.touchesDirection;i.swipeDirection=p>0?"prev":"next",i.touchesDirection=x>0?"prev":"next";let _=i.params.loop&&!s.cssMode;if(!r.isMoved){if(_&&i.loopFix({direction:i.swipeDirection}),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){let w=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(w)}r.allowMomentumBounce=!1,s.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",l)}let y;r.isMoved&&c!==i.touchesDirection&&_&&Math.abs(p)>=1&&(i.loopFix({direction:i.swipeDirection,setTranslate:!0}),y=!0),i.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=p+r.startTranslate;let b=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),p>0?(_&&!y&&r.currentTranslate>(s.centeredSlides?i.minTranslate()-i.size/2:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>i.minTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=i.minTranslate()-1+dt(-i.minTranslate()+r.startTranslate+p,E)))):p<0&&(_&&!y&&r.currentTranslate<(s.centeredSlides?i.maxTranslate()+i.size/2:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(s.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<i.maxTranslate()&&(b=!1,s.resistance&&(r.currentTranslate=i.maxTranslate()+1-dt(i.maxTranslate()-r.startTranslate-p,E)))),b&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(p)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,r.currentTranslate=r.startTranslate,n.diff=i.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function on(e){let t=this,i=t.touchEventsData,r=i.evCache.findIndex(y=>y.pointerId===e.pointerId);if(r>=0&&i.evCache.splice(r,1),["pointercancel","pointerout","pointerleave"].includes(e.type)&&!(e.type==="pointercancel"&&(t.browser.isSafari||t.browser.isWebView)))return;let{params:s,touches:n,rtlTranslate:a,slidesGrid:o,enabled:l}=t;if(!l||!s.simulateTouch&&e.pointerType==="mouse")return;let h=e;if(h.originalEvent&&(h=h.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",h),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&s.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}s.grabCursor&&i.isMoved&&i.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);let f=_t(),m=f-i.touchStartTime;if(t.allowClick){let y=h.path||h.composedPath&&h.composedPath();t.updateClickedSlide(y&&y[0]||h.target),t.emit("tap click",h),m<300&&f-i.lastClickTime<300&&t.emit("doubleTap doubleClick",h)}if(i.lastClickTime=_t(),At(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||n.diff===0||i.currentTranslate===i.startTranslate){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let u;if(s.followFinger?u=a?t.translate:-t.translate:u=-i.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:u});return}let d=0,g=t.slidesSizesGrid[0];for(let y=0;y<o.length;y+=y<s.slidesPerGroupSkip?1:s.slidesPerGroup){let b=y<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof o[y+b]!="undefined"?u>=o[y]&&u<o[y+b]&&(d=y,g=o[y+b]-o[y]):u>=o[y]&&(d=y,g=o[o.length-1]-o[o.length-2])}let p=null,x=null;s.rewind&&(t.isBeginning?x=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(p=0));let c=(u-o[d])/g,_=d<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(m>s.longSwipesMs){if(!s.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(c>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?p:d+_):t.slideTo(d)),t.swipeDirection==="prev"&&(c>1-s.longSwipesRatio?t.slideTo(d+_):x!==null&&c<0&&Math.abs(c)>s.longSwipesRatio?t.slideTo(x):t.slideTo(d))}else{if(!s.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(h.target===t.navigation.nextEl||h.target===t.navigation.prevEl)?h.target===t.navigation.nextEl?t.slideTo(d+_):t.slideTo(d):(t.swipeDirection==="next"&&t.slideTo(p!==null?p:d+_),t.swipeDirection==="prev"&&t.slideTo(x!==null?x:d))}}function or(){let e=this,{params:t,el:i}=e;if(i&&i.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();let{allowSlideNext:r,allowSlidePrev:s,snapGrid:n}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();let o=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!o?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=s,e.allowSlideNext=r,e.params.watchOverflow&&n!==e.snapGrid&&e.checkOverflow()}function ln(e){let t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function hn(){let e=this,{wrapperEl:t,rtlTranslate:i,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let s,n=e.maxTranslate()-e.minTranslate();n===0?s=0:s=(e.translate-e.minTranslate())/n,s!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function fn(e){let t=this;li(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}var Co=!1;function If(){}var To=(e,t)=>{let i=xe(),{params:r,el:s,wrapperEl:n,device:a}=e,o=!!r.nested,l=t==="on"?"addEventListener":"removeEventListener",h=t;s[l]("pointerdown",e.onTouchStart,{passive:!1}),i[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),i[l]("pointerup",e.onTouchEnd,{passive:!0}),i[l]("pointercancel",e.onTouchEnd,{passive:!0}),i[l]("pointerout",e.onTouchEnd,{passive:!0}),i[l]("pointerleave",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",e.onClick,!0),r.cssMode&&n[l]("scroll",e.onScroll),r.updateOnWindowResize?e[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",or,!0):e[h]("observerUpdate",or,!0),s[l]("load",e.onLoad,{capture:!0})};function Lf(){let e=this,t=xe(),{params:i}=e;e.onTouchStart=nn.bind(e),e.onTouchMove=an.bind(e),e.onTouchEnd=on.bind(e),i.cssMode&&(e.onScroll=hn.bind(e)),e.onClick=ln.bind(e),e.onLoad=fn.bind(e),Co||(t.addEventListener("touchstart",If),Co=!0),To(e,"on")}function Bf(){To(this,"off")}var wo={attachEvents:Lf,detachEvents:Bf};var Do=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function un(){let e=this,{realIndex:t,initialized:i,params:r,el:s}=e,n=r.breakpoints;if(!n||n&&Object.keys(n).length===0)return;let a=e.getBreakpoint(n,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;let l=(a in n?n[a]:void 0)||e.originalParams,h=Do(e,r),f=Do(e,l),m=r.enabled;h&&!f?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&f&&(s.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(p=>{if(typeof l[p]=="undefined")return;let x=r[p]&&r[p].enabled,c=l[p]&&l[p].enabled;x&&!c&&e[p].disable(),!x&&c&&e[p].enable()});let u=l.direction&&l.direction!==r.direction,d=r.loop&&(l.slidesPerView!==r.slidesPerView||u);u&&i&&e.changeDirection(),ke(e.params,l);let g=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),m&&!g?e.disable():!m&&g&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),d&&i&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",l)}function dn(e,t="window",i){if(!e||t==="container"&&!i)return;let r=!1,s=de(),n=t==="window"?s.innerHeight:i.clientHeight,a=Object.keys(e).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){let l=parseFloat(o.substr(1));return{value:n*l,point:o}}return{value:o,point:o}});a.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<a.length;o+=1){let{point:l,value:h}=a[o];t==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=l):h<=i.clientWidth&&(r=l)}return r||"max"}var Po={setBreakpoint:un,getBreakpoint:dn};function Rf(e,t){let i=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&i.push(t+s)}):typeof r=="string"&&i.push(t+r)}),i}function cn(){let e=this,{classNames:t,params:i,rtl:r,el:s,device:n}=e,a=Rf(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...a),s.classList.add(...t),e.emitContainerClasses()}function pn(){let e=this,{el:t,classNames:i}=e;t.classList.remove(...i),e.emitContainerClasses()}var Ao={addClasses:cn,removeClasses:pn};function zf(){let e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:r}=i;if(r){let s=e.slides.length-1,n=e.slidesGrid[s]+e.slidesSizesGrid[s]+r*2;e.isLocked=e.size>n}else e.isLocked=e.snapGrid.length===1;i.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),i.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var Fo={checkOverflow:zf};var mn={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function gn(e,t){return function(r={}){let s=Object.keys(r)[0],n=r[s];if(typeof n!="object"||n===null){ke(t,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&e[s]===!0&&(e[s]={auto:!0}),!(s in e&&"enabled"in n)){ke(t,r);return}e[s]===!0&&(e[s]={enabled:!0}),typeof e[s]=="object"&&!("enabled"in e[s])&&(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),ke(t,r)}}var vn={eventsEmitter:vo,update:yo,translate:_o,transition:bo,slide:So,loop:xo,grabCursor:Eo,events:wo,breakpoints:Po,checkOverflow:Fo,classes:Ao},yn={},$e=class{constructor(...t){let i,r;t.length===1&&t[0].constructor&&Object.prototype.toString.call(t[0]).slice(8,-1)==="Object"?r=t[0]:[i,r]=t,r||(r={}),r=ke({},r),i&&!r.el&&(r.el=i);let s=xe();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){let l=[];return s.querySelectorAll(r.el).forEach(h=>{let f=ke({},r,{el:h});l.push(new $e(f))}),l}let n=this;n.__swiper__=!0,n.support=ar(),n.device=mo({userAgent:r.userAgent}),n.browser=go(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],r.modules&&Array.isArray(r.modules)&&n.modules.push(...r.modules);let a={};n.modules.forEach(l=>{l({params:r,swiper:n,extendParams:gn(r,a),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});let o=ke({},mn,a);return n.params=ke({},o,yn,r),n.originalParams=ke({},n.params),n.passedParams=ke({},r),n.params&&n.params.on&&Object.keys(n.params.on).forEach(l=>{n.on(l,n.params.on[l])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:i,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return n.params.direction==="horizontal"},isVertical(){return n.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/dt(2,23))*dt(2,23)},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getSlideIndex(t){let{slidesEl:i,params:r}=this,s=ve(i,`.${r.slideClass}, swiper-slide`),n=$t(s[0]);return $t(t)-n}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){let t=this,{slidesEl:i,params:r}=t;t.slides=ve(i,`.${r.slideClass}, swiper-slide`)}enable(){let t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){let t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,i){let r=this;t=Math.min(Math.max(t,0),1);let s=r.minTranslate(),a=(r.maxTranslate()-s)*t+s;r.translateTo(a,typeof i=="undefined"?0:i),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let i=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",i.join(" "))}getSlideClasses(t){let i=this;return i.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){let t=this;if(!t.params._emitClasses||!t.el)return;let i=[];t.slides.forEach(r=>{let s=t.getSlideClasses(r);i.push({slideEl:r,classNames:s}),t.emit("_slideClass",r,s)}),t.emit("_slideClasses",i)}slidesPerViewDynamic(t="current",i=!1){let r=this,{params:s,slides:n,slidesGrid:a,slidesSizesGrid:o,size:l,activeIndex:h}=r,f=1;if(s.centeredSlides){let m=n[h]?n[h].swiperSlideSize:0,u;for(let d=h+1;d<n.length;d+=1)n[d]&&!u&&(m+=n[d].swiperSlideSize,f+=1,m>l&&(u=!0));for(let d=h-1;d>=0;d-=1)n[d]&&!u&&(m+=n[d].swiperSlideSize,f+=1,m>l&&(u=!0))}else if(t==="current")for(let m=h+1;m<n.length;m+=1)(i?a[m]+o[m]-a[h]<l:a[m]-a[h]<l)&&(f+=1);else for(let m=h-1;m>=0;m-=1)a[h]-a[m]<l&&(f+=1);return f}update(){let t=this;if(!t||t.destroyed)return;let{snapGrid:i,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&li(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){let a=t.rtlTranslate?t.translate*-1:t.translate,o=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(o),t.updateActiveIndex(),t.updateSlidesClasses()}let n;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){let a=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;n=t.slideTo(a.length-1,0,!1,!0)}else n=t.slideTo(t.activeIndex,0,!1,!0);n||s()}r.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,i=!0){let r=this,s=r.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(n=>{t==="vertical"?n.style.width="":n.style.height=""}),r.emit("changeDirection"),i&&r.update()),r}changeLanguageDirection(t){let i=this;i.rtl&&t==="rtl"||!i.rtl&&t==="ltr"||(i.rtl=t==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(t){let i=this;if(i.mounted)return!0;let r=t||i.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=i,r.shadowEl&&(i.isElement=!0);let s=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`,a=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ve(r,s())[0])();return!a&&i.params.createElements&&(a=bt("div",i.params.wrapperClass),r.append(a),ve(r,`.${i.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(i,{el:r,wrapperEl:a,slidesEl:i.isElement?r:a,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ht(r,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ht(r,"direction")==="rtl"),wrongRTL:ht(a,"display")==="-webkit-box"}),!0}init(t){let i=this;return i.initialized||i.mount(t)===!1||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents(),[...i.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete?li(i,s):s.addEventListener("load",n=>{li(i,n.target)})}),Ti(i),i.initialized=!0,Ti(i),i.emit("init"),i.emit("afterInit")),i}destroy(t=!0,i=!0){let r=this,{params:s,el:n,wrapperEl:a,slides:o}=r;return typeof r.params=="undefined"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),i&&(r.removeClasses(),n.removeAttribute("style"),a.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),t!==!1&&(r.el.swiper=null,uo(r)),r.destroyed=!0),null}static extendDefaults(t){ke(yn,t)}static get extendedDefaults(){return yn}static get defaults(){return mn}static installModule(t){$e.prototype.__modules__||($e.prototype.__modules__=[]);let i=$e.prototype.__modules__;typeof t=="function"&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach(i=>$e.installModule(i)),$e):($e.installModule(t),$e)}};Object.keys(vn).forEach(e=>{Object.keys(vn[e]).forEach(t=>{$e.prototype[t]=vn[e][t]})});$e.use([ws,Ds]);var St=$e;function hi(e,t,i,r){return e.params.createElements&&Object.keys(r).forEach(s=>{if(!i[s]&&i.auto===!0){let n=ve(e.el,`.${r[s]}`)[0];n||(n=bt("div",r[s]),n.className=r[s],e.el.append(n)),i[s]=n,t[s]=n}}),i}function lr({swiper:e,extendParams:t,on:i,emit:r}){t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};let s=g=>(Array.isArray(g)||(g=[g].filter(p=>!!p)),g);function n(g){let p;return g&&typeof g=="string"&&e.isElement&&(p=e.el.shadowRoot.querySelector(g),p)?p:(g&&(typeof g=="string"&&(p=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&p.length>1&&e.el.querySelectorAll(g).length===1&&(p=e.el.querySelector(g))),g&&!p?g:p)}function a(g,p){let x=e.params.navigation;g=s(g),g.forEach(c=>{c&&(c.classList[p?"add":"remove"](...x.disabledClass.split(" ")),c.tagName==="BUTTON"&&(c.disabled=p),e.params.watchOverflow&&e.enabled&&c.classList[e.isLocked?"add":"remove"](x.lockClass))})}function o(){let{nextEl:g,prevEl:p}=e.navigation;if(e.params.loop){a(p,!1),a(g,!1);return}a(p,e.isBeginning&&!e.params.rewind),a(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function h(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function f(){let g=e.params.navigation;if(e.params.navigation=hi(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let p=n(g.nextEl),x=n(g.prevEl);Object.assign(e.navigation,{nextEl:p,prevEl:x}),p=s(p),x=s(x);let c=(_,y)=>{_&&_.addEventListener("click",y==="next"?h:l),!e.enabled&&_&&_.classList.add(...g.lockClass.split(" "))};p.forEach(_=>c(_,"next")),x.forEach(_=>c(_,"prev"))}function m(){let{nextEl:g,prevEl:p}=e.navigation;g=s(g),p=s(p);let x=(c,_)=>{c.removeEventListener("click",_==="next"?h:l),c.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(c=>x(c,"next")),p.forEach(c=>x(c,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?d():(f(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{nextEl:g,prevEl:p}=e.navigation;g=s(g),p=s(p),[...g,...p].filter(x=>!!x).forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(g,p)=>{let{nextEl:x,prevEl:c}=e.navigation;x=s(x),c=s(c);let _=p.target;if(e.params.navigation.hideOnClick&&!c.includes(_)&&!x.includes(_)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===_||e.pagination.el.contains(_)))return;let y;x.length?y=x[0].classList.contains(e.params.navigation.hiddenClass):c.length&&(y=c[0].classList.contains(e.params.navigation.hiddenClass)),r(y===!0?"navigationShow":"navigationHide"),[...x,...c].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});let u=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),o()},d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(e.navigation,{enable:u,disable:d,update:o,init:f,destroy:m})}function Ft(e=""){return`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function hr({swiper:e,extendParams:t,on:i,emit:r}){let s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:c=>c,formatFractionTotal:c=>c,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let n,a=0,o=c=>(Array.isArray(c)||(c=[c].filter(_=>!!_)),c);function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(c,_){let{bulletActiveClass:y}=e.params.pagination;c&&(c=c[`${_==="prev"?"previous":"next"}ElementSibling`],c&&(c.classList.add(`${y}-${_}`),c=c[`${_==="prev"?"previous":"next"}ElementSibling`],c&&c.classList.add(`${y}-${_}-${_}`)))}function f(c){let _=c.target.closest(Ft(e.params.pagination.bulletClass));if(!_)return;c.preventDefault();let y=$t(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===y)return;let b=e.getSlideIndexByData(y),E=e.getSlideIndexByData(e.realIndex);b>e.slides.length-e.loopedSlides&&e.loopFix({direction:b>E?"next":"prev",activeSlideIndex:b,slideTo:!1}),e.slideToLoop(y)}else e.slideTo(y)}function m(){let c=e.rtl,_=e.params.pagination;if(l())return;let y=e.pagination.el;y=o(y);let b,E,w=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(w/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex!="undefined"?(b=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,b=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){let P=e.pagination.bullets,L,O,F;if(_.dynamicBullets&&(n=Ci(P[0],e.isHorizontal()?"width":"height",!0),y.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${n*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&E!==void 0&&(a+=b-(E||0),a>_.dynamicMainBullets-1?a=_.dynamicMainBullets-1:a<0&&(a=0)),L=Math.max(b-a,0),O=L+(Math.min(P.length,_.dynamicMainBullets)-1),F=(O+L)/2),P.forEach(k=>{let B=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${_.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();k.classList.remove(...B)}),y.length>1)P.forEach(k=>{let B=$t(k);B===b?k.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),_.dynamicBullets&&(B>=L&&B<=O&&k.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),B===L&&h(k,"prev"),B===O&&h(k,"next"))});else{let k=P[b];if(k&&k.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&P.forEach((B,V)=>{B.setAttribute("part",V===b?"bullet-active":"bullet")}),_.dynamicBullets){let B=P[L],V=P[O];for(let z=L;z<=O;z+=1)P[z]&&P[z].classList.add(...`${_.bulletActiveClass}-main`.split(" "));h(B,"prev"),h(V,"next")}}if(_.dynamicBullets){let k=Math.min(P.length,_.dynamicMainBullets+4),B=(n*k-n)/2-F*n,V=c?"right":"left";P.forEach(z=>{z.style[e.isHorizontal()?V:"top"]=`${B}px`})}}y.forEach((P,L)=>{if(_.type==="fraction"&&(P.querySelectorAll(Ft(_.currentClass)).forEach(O=>{O.textContent=_.formatFractionCurrent(b+1)}),P.querySelectorAll(Ft(_.totalClass)).forEach(O=>{O.textContent=_.formatFractionTotal(A)})),_.type==="progressbar"){let O;_.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";let F=(b+1)/A,k=1,B=1;O==="horizontal"?k=F:B=F,P.querySelectorAll(Ft(_.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${B})`,V.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(P.innerHTML=_.renderCustom(e,b+1,A),L===0&&r("paginationRender",P)):(L===0&&r("paginationRender",P),r("paginationUpdate",P)),e.params.watchOverflow&&e.enabled&&P.classList[e.isLocked?"add":"remove"](_.lockClass)})}function u(){let c=e.params.pagination;if(l())return;let _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,y=e.pagination.el;y=o(y);let b="";if(c.type==="bullets"){let E=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>_&&(E=_);for(let w=0;w<E;w+=1)c.renderBullet?b+=c.renderBullet.call(e,w,c.bulletClass):b+=`<${c.bulletElement} ${e.isElement?'part="bullet"':""} class="${c.bulletClass}"></${c.bulletElement}>`}c.type==="fraction"&&(c.renderFraction?b=c.renderFraction.call(e,c.currentClass,c.totalClass):b=`<span class="${c.currentClass}"></span> / <span class="${c.totalClass}"></span>`),c.type==="progressbar"&&(c.renderProgressbar?b=c.renderProgressbar.call(e,c.progressbarFillClass):b=`<span class="${c.progressbarFillClass}"></span>`),e.pagination.bullets=[],y.forEach(E=>{c.type!=="custom"&&(E.innerHTML=b||""),c.type==="bullets"&&e.pagination.bullets.push(...E.querySelectorAll(Ft(c.bulletClass)))}),c.type!=="custom"&&r("paginationRender",y[0])}function d(){e.params.pagination=hi(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});let c=e.params.pagination;if(!c.el)return;let _;typeof c.el=="string"&&e.isElement&&(_=e.el.shadowRoot.querySelector(c.el)),!_&&typeof c.el=="string"&&(_=[...document.querySelectorAll(c.el)]),_||(_=c.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof c.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(c.el)],_.length>1&&(_=_.filter(y=>oi(y,".swiper")[0]===e.el)[0])),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=o(_),_.forEach(y=>{c.type==="bullets"&&c.clickable&&y.classList.add(c.clickableClass),y.classList.add(c.modifierClass+c.type),y.classList.add(e.isHorizontal()?c.horizontalClass:c.verticalClass),c.type==="bullets"&&c.dynamicBullets&&(y.classList.add(`${c.modifierClass}${c.type}-dynamic`),a=0,c.dynamicMainBullets<1&&(c.dynamicMainBullets=1)),c.type==="progressbar"&&c.progressbarOpposite&&y.classList.add(c.progressbarOppositeClass),c.clickable&&y.addEventListener("click",f),e.enabled||y.classList.add(c.lockClass)}))}function g(){let c=e.params.pagination;if(l())return;let _=e.pagination.el;_&&(_=o(_),_.forEach(y=>{y.classList.remove(c.hiddenClass),y.classList.remove(c.modifierClass+c.type),y.classList.remove(e.isHorizontal()?c.horizontalClass:c.verticalClass),c.clickable&&y.removeEventListener("click",f)})),e.pagination.bullets&&e.pagination.bullets.forEach(y=>y.classList.remove(...c.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;let c=e.params.pagination,{el:_}=e.pagination;_=o(_),_.forEach(y=>{y.classList.remove(c.horizontalClass,c.verticalClass),y.classList.add(e.isHorizontal()?c.horizontalClass:c.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?x():(d(),u(),m())}),i("activeIndexChange",()=>{typeof e.snapIndex=="undefined"&&m()}),i("snapIndexChange",()=>{m()}),i("snapGridLengthChange",()=>{u(),m()}),i("destroy",()=>{g()}),i("enable disable",()=>{let{el:c}=e.pagination;c&&(c=o(c),c.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{m()}),i("click",(c,_)=>{let y=_.target,{el:b}=e.pagination;if(Array.isArray(b)||(b=[b].filter(E=>!!E)),e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!y.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&y===e.navigation.nextEl||e.navigation.prevEl&&y===e.navigation.prevEl))return;let E=b[0].classList.contains(e.params.pagination.hiddenClass);r(E===!0?"paginationShow":"paginationHide"),b.forEach(w=>w.classList.toggle(e.params.pagination.hiddenClass))}});let p=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:c}=e.pagination;c&&(c=o(c),c.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),d(),u(),m()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:c}=e.pagination;c&&(c=o(c),c.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:p,disable:x,render:u,update:m,init:d,destroy:g})}function fr({swiper:e,extendParams:t,on:i}){t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;e.thumbs={swiper:null};function n(){let l=e.thumbs.swiper;if(!l||l.destroyed)return;let h=l.clickedIndex,f=l.clickedSlide;if(f&&f.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof h=="undefined"||h===null)return;let m;l.params.loop?m=parseInt(l.clickedSlide.getAttribute("data-swiper-slide-index"),10):m=h,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function a(){let{thumbs:l}=e.params;if(r)return!1;r=!0;let h=e.constructor;if(l.swiper instanceof h)e.thumbs.swiper=l.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(ni(l.swiper)){let f=Object.assign({},l.swiper);Object.assign(f,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new h(f),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",n),!0}function o(l){let h=e.thumbs.swiper;if(!h||h.destroyed)return;let f=h.params.slidesPerView==="auto"?h.slidesPerViewDynamic():h.params.slidesPerView,m=1,u=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),h.slides.forEach(p=>p.classList.remove(u)),h.params.loop||h.params.virtual&&h.params.virtual.enabled)for(let p=0;p<m;p+=1)ve(h.slidesEl,`[data-swiper-slide-index="${e.realIndex+p}"]`).forEach(x=>{x.classList.add(u)});else for(let p=0;p<m;p+=1)h.slides[e.realIndex+p]&&h.slides[e.realIndex+p].classList.add(u);let d=e.params.thumbs.autoScrollOffset,g=d&&!h.params.loop;if(e.realIndex!==h.realIndex||g){let p=h.activeIndex,x,c;if(h.params.loop){let _=h.slides.filter(y=>y.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];x=h.slides.indexOf(_),c=e.activeIndex>e.previousIndex?"next":"prev"}else x=e.realIndex,c=x>e.previousIndex?"next":"prev";g&&(x+=c==="next"?d:-1*d),h.visibleSlidesIndexes&&h.visibleSlidesIndexes.indexOf(x)<0&&(h.params.centeredSlides?x>p?x=x-Math.floor(f/2)+1:x=x+Math.floor(f/2)-1:x>p&&h.params.slidesPerGroup,h.slideTo(x,l?0:void 0))}}i("beforeInit",()=>{let{thumbs:l}=e.params;if(!(!l||!l.swiper))if(typeof l.swiper=="string"||l.swiper instanceof HTMLElement){let h=xe(),f=()=>{let u=typeof l.swiper=="string"?h.querySelector(l.swiper):l.swiper;if(u&&u.swiper)l.swiper=u.swiper,a(),o(!0);else if(u){let d=g=>{l.swiper=g.detail[0],u.removeEventListener("init",d),a(),o(!0),l.swiper.update(),e.update()};u.addEventListener("init",d)}return u},m=()=>{if(e.destroyed)return;f()||requestAnimationFrame(m)};requestAnimationFrame(m)}else a(),o(!0)}),i("slideChange update resize observerUpdate",()=>{o()}),i("setTransition",(l,h)=>{let f=e.thumbs.swiper;!f||f.destroyed||f.setTransition(h)}),i("beforeDestroy",()=>{let l=e.thumbs.swiper;!l||l.destroyed||s&&l.destroy()}),Object.assign(e.thumbs,{init:a,update:o})}var dr=class extends Z{constructor(e){super(e),this.length=this.$("item").length,this.container=this.$("container")[0],this.pagination=this.$("pagination")[0]}init(){St.use([hr]);let e={speed:700,loop:!1,spaceBetween:20,grabCursor:!0,autoHeight:!0,slidesPerView:1.33,threshold:3,resistance:!1,pagination:{el:".swiper-pagination",type:"progressbar"},breakpoints:{700:{slidesPerView:2.33},1e3:{slidesPerView:3.33}}};this.length>1&&(this.carousel=new St(this.container,e))}destroy(){var e;super.destroy(),(e=this.carousel)==null||e.destroy(!0,!0)}};var cr=class extends Z{constructor(e){super(e),this.length=this.$("item").length,this.carousel=this.$("carousel")[0],this.carouselThumbnail=this.$("thumbnail")[0],this.navigationPrev=this.$("prev")[0],this.navigationNext=this.$("next")[0]}init(){St.use([lr,fr]),this.carousel=new St(this.carousel,{loop:!0,speed:700,spaceBetween:15,grabCursor:!0,navigation:{prevEl:this.navigationPrev,nextEl:this.navigationNext},thumbs:{swiper:this.carouselThumbnail},breakpoints:{700:{spaceBetween:30,speed:900},1e3:{spaceBetween:50}}}),this.carouselThumbnail=new St(this.carouselThumbnail,{loop:!0,spaceBetween:5,slidesPerView:6,freeMode:!0,watchSlidesProgress:!0,breakpoints:{700:{spaceBetween:20}}}),this.length<6&&this.$("thumbnail")[0].classList.add("-center")}destroy(){var e,t;super.destroy(),(e=this.carousel)==null||e.destroy(!0,!0),(t=this.carouselThumbnail)==null||t.destroy(!0,!0)}};function xt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ye={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},di={duration:.5,overwrite:!1,delay:0},Un,Le,ye,nt=1e8,ue=1/nt,Pn=Math.PI*2,Of=Pn/4,Uf=0,No=Math.sqrt,Vf=Math.cos,Nf=Math.sin,Ce=function(t){return typeof t=="string"},_e=function(t){return typeof t=="function"},Ct=function(t){return typeof t=="number"},Cr=function(t){return typeof t=="undefined"},pt=function(t){return typeof t=="object"},We=function(t){return t!==!1},Vn=function(){return typeof window!="undefined"},pr=function(t){return _e(t)||Ce(t)},$o=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Be=Array.isArray,An=/(?:-?\.?\d|\.)+/gi,Nn=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,qt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Sn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$n=/[+-]=-?[.\d]+/,Go=/[^,'"\[\]\s]+/gi,$f=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,me,st,Fn,Gn,Ze={},yr={},Ho,Wo=function(t){return(yr=Yt(t,Ze))&&Te},Tr=function(t,i){return console.warn("Invalid property",t,"set to",i,"Missing plugin? gsap.registerPlugin()")},_r=function(t,i){return!i&&console.warn(t)},Yo=function(t,i){return t&&(Ze[t]=i)&&yr&&(yr[t]=i)||Ze},Ii=function(){return 0},Gf={suppressEvents:!0,isStart:!0,kill:!1},mr={suppressEvents:!0,kill:!1},Hf={suppressEvents:!0},Hn={},kt=[],Mn={},qo,Ge={},xn={},Io=30,gr=[],Wn="",Yn=function(t){var i=t[0],r,s;if(pt(i)||_e(i)||(t=[t]),!(r=(i._gsap||{}).harness)){for(s=gr.length;s--&&!gr[s].targetTest(i););r=gr[s]}for(s=t.length;s--;)t[s]&&(t[s]._gsap||(t[s]._gsap=new Xn(t[s],r)))||t.splice(s,1);return t},It=function(t){return t._gsap||Yn(at(t))[0]._gsap},qn=function(t,i,r){return(r=t[i])&&_e(r)?t[i]():Cr(r)&&t.getAttribute&&t.getAttribute(i)||r},Oe=function(t,i){return(t=t.split(",")).forEach(i)||t},be=function(t){return Math.round(t*1e5)/1e5||0},Fe=function(t){return Math.round(t*1e7)/1e7||0},jt=function(t,i){var r=i.charAt(0),s=parseFloat(i.substr(2));return t=parseFloat(t),r==="+"?t+s:r==="-"?t-s:r==="*"?t*s:t/s},Wf=function(t,i){for(var r=i.length,s=0;t.indexOf(i[s])<0&&++s<r;);return s<r},br=function(){var t=kt.length,i=kt.slice(0),r,s;for(Mn={},kt.length=0,r=0;r<t;r++)s=i[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},jo=function(t,i,r,s){kt.length&&!Le&&br(),t.render(i,r,s||Le&&i<0&&(t._initted||t._startAt)),kt.length&&!Le&&br()},Xo=function(t){var i=parseFloat(t);return(i||i===0)&&(t+"").match(Go).length<2?i:Ce(t)?t.trim():t},Ko=function(t){return t},lt=function(t,i){for(var r in i)r in t||(t[r]=i[r]);return t},Yf=function(t){return function(i,r){for(var s in r)s in i||s==="duration"&&t||s==="ease"||(i[s]=r[s])}},Yt=function(t,i){for(var r in i)t[r]=i[r];return t},Lo=function e(t,i){for(var r in i)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(t[r]=pt(i[r])?e(t[r]||(t[r]={}),i[r]):i[r]);return t},Sr=function(t,i){var r={},s;for(s in t)s in i||(r[s]=t[s]);return r},Fi=function(t){var i=t.parent||me,r=t.keyframes?Yf(Be(t.keyframes)):lt;if(We(t.inherit))for(;i;)r(t,i.vars.defaults),i=i.parent||i._dp;return t},qf=function(t,i){for(var r=t.length,s=r===i.length;s&&r--&&t[r]===i[r];);return r<0},Zo=function(t,i,r,s,n){r===void 0&&(r="_first"),s===void 0&&(s="_last");var a=t[s],o;if(n)for(o=i[n];a&&a[n]>o;)a=a._prev;return a?(i._next=a._next,a._next=i):(i._next=t[r],t[r]=i),i._next?i._next._prev=i:t[s]=i,i._prev=a,i.parent=i._dp=t,i},wr=function(t,i,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var n=i._prev,a=i._next;n?n._next=a:t[r]===i&&(t[r]=a),a?a._prev=n:t[s]===i&&(t[s]=n),i._next=i._prev=i.parent=null},Lt=function(t,i){t.parent&&(!i||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Gt=function(t,i){if(t&&(!i||i._end>t._dur||i._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},jf=function(t){for(var i=t.parent;i&&i.parent;)i._dirty=1,i.totalDuration(),i=i.parent;return t},kn=function(t,i,r,s){return t._startAt&&(Le?t._startAt.revert(mr):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(i,!0,s))},Xf=function e(t){return!t||t._ts&&e(t.parent)},Bo=function(t){return t._repeat?ci(t._tTime,t=t.duration()+t._rDelay)*t:0},ci=function(t,i){var r=Math.floor(t/=i);return t&&r===t?r-1:r},xr=function(t,i){return(t-i._start)*i._ts+(i._ts>=0?0:i._dirty?i.totalDuration():i._tDur)},Dr=function(t){return t._end=Fe(t._start+(t._tDur/Math.abs(t._ts||t._rts||ue)||0))},Pr=function(t,i){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Fe(r._time-(t._ts>0?i/t._ts:((t._dirty?t.totalDuration():t._tDur)-i)/-t._ts)),Dr(t),r._dirty||Gt(r,t)),t},Jo=function(t,i){var r;if((i._time||!i._dur&&i._initted||i._start<t._time&&(i._dur||!i.add))&&(r=xr(t.rawTime(),i),(!i._dur||Ri(0,i.totalDuration(),r)-i._tTime>ue)&&i.render(r,!0)),Gt(t,i)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-ue}},ct=function(t,i,r,s){return i.parent&&Lt(i),i._start=Fe((Ct(r)?r:r||t!==me?rt(t,r,i):t._time)+i._delay),i._end=Fe(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),Zo(t,i,"_first","_last",t._sort?"_start":0),In(i)||(t._recent=i),s||Jo(t,i),t._ts<0&&Pr(t,t._tTime),t},Qo=function(t,i){return(Ze.ScrollTrigger||Tr("scrollTrigger",i))&&Ze.ScrollTrigger.create(i,t)},el=function(t,i,r,s,n){if(Jn(t,i,n),!t._initted)return 1;if(!r&&t._pt&&!Le&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&qo!==He.frame)return kt.push(t),t._lazy=[n,s],1},Kf=function e(t){var i=t.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||e(i))},In=function(t){var i=t.data;return i==="isFromStart"||i==="isStart"},Zf=function(t,i,r,s){var n=t.ratio,a=i<0||!i&&(!t._start&&Kf(t)&&!(!t._initted&&In(t))||(t._ts<0||t._dp._ts<0)&&!In(t))?0:1,o=t._rDelay,l=0,h,f,m;if(o&&t._repeat&&(l=Ri(0,t._tDur,i),f=ci(l,o),t._yoyo&&f&1&&(a=1-a),f!==ci(t._tTime,o)&&(n=1-a,t.vars.repeatRefresh&&t._initted&&t.invalidate())),a!==n||Le||s||t._zTime===ue||!i&&t._zTime){if(!t._initted&&el(t,i,s,r,l))return;for(m=t._zTime,t._zTime=i||(r?ue:0),r||(r=i&&!m),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,h=t._pt;h;)h.r(a,h.d),h=h._next;i<0&&kn(t,i,r,!0),t._onUpdate&&!r&&ot(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&ot(t,"onRepeat"),(i>=t._tDur||i<0)&&t.ratio===a&&(a&&Lt(t,1),!r&&!Le&&(ot(t,a?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=i)},Jf=function(t,i,r){var s;if(r>i)for(s=t._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>i)return s;s=s._next}else for(s=t._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<i)return s;s=s._prev}},pi=function(t,i,r,s){var n=t._repeat,a=Fe(i)||0,o=t._tTime/t._tDur;return o&&!s&&(t._time*=a/t._dur),t._dur=a,t._tDur=n?n<0?1e10:Fe(a*(n+1)+t._rDelay*n):a,o>0&&!s&&Pr(t,t._tTime=t._tDur*o),t.parent&&Dr(t),r||Gt(t.parent,t),t},Ro=function(t){return t instanceof Ie?Gt(t):pi(t,t._dur)},Qf={_start:0,endTime:Ii,totalDuration:Ii},rt=function e(t,i,r){var s=t.labels,n=t._recent||Qf,a=t.duration()>=nt?n.endTime(!1):t._dur,o,l,h;return Ce(i)&&(isNaN(i)||i in s)?(l=i.charAt(0),h=i.substr(-1)==="%",o=i.indexOf("="),l==="<"||l===">"?(o>=0&&(i=i.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(i.substr(1))||0)*(h?(o<0?n:r).totalDuration()/100:1)):o<0?(i in s||(s[i]=a),s[i]):(l=parseFloat(i.charAt(o-1)+i.substr(o+1)),h&&r&&(l=l/100*(Be(r)?r[0]:r).totalDuration()),o>1?e(t,i.substr(0,o-1),r)+l:a+l)):i==null?a:+i},Mi=function(t,i,r){var s=Ct(i[1]),n=(s?2:1)+(t<2?0:1),a=i[n],o,l;if(s&&(a.duration=i[1]),a.parent=r,t){for(o=a,l=r;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=We(l.vars.inherit)&&l.parent;a.immediateRender=We(o.immediateRender),t<2?a.runBackwards=1:a.startAt=i[n-1]}return new Se(i[0],a,i[n+1])},Bt=function(t,i){return t||t===0?i(t):i},Ri=function(t,i,r){return r<t?t:r>i?i:r},Me=function(t,i){return!Ce(t)||!(i=$f.exec(t))?"":i[1]},eu=function(t,i,r){return Bt(r,function(s){return Ri(t,i,s)})},Ln=[].slice,tl=function(t,i){return t&&pt(t)&&"length"in t&&(!i&&!t.length||t.length-1 in t&&pt(t[0]))&&!t.nodeType&&t!==st},tu=function(t,i,r){return r===void 0&&(r=[]),t.forEach(function(s){var n;return Ce(s)&&!i||tl(s,1)?(n=r).push.apply(n,at(s)):r.push(s)})||r},at=function(t,i,r){return ye&&!i&&ye.selector?ye.selector(t):Ce(t)&&!r&&(Fn||!mi())?Ln.call((i||Gn).querySelectorAll(t),0):Be(t)?tu(t,r):tl(t)?Ln.call(t,0):t?[t]:[]},Bn=function(t){return t=at(t)[0]||_r("Invalid scope")||{},function(i){var r=t.current||t.nativeElement||t;return at(i,r.querySelectorAll?r:r===t?_r("Invalid scope")||Gn.createElement("div"):t)}},il=function(t){return t.sort(function(){return .5-Math.random()})},rl=function(t){if(_e(t))return t;var i=pt(t)?t:{each:t},r=Ht(i.ease),s=i.from||0,n=parseFloat(i.base)||0,a={},o=s>0&&s<1,l=isNaN(s)||o,h=i.axis,f=s,m=s;return Ce(s)?f=m={center:.5,edges:.5,end:1}[s]||0:!o&&l&&(f=s[0],m=s[1]),function(u,d,g){var p=(g||i).length,x=a[p],c,_,y,b,E,w,A,P,L;if(!x){if(L=i.grid==="auto"?0:(i.grid||[1,nt])[1],!L){for(A=-nt;A<(A=g[L++].getBoundingClientRect().left)&&L<p;);L--}for(x=a[p]=[],c=l?Math.min(L,p)*f-.5:s%L,_=L===nt?0:l?p*m/L-.5:s/L|0,A=0,P=nt,w=0;w<p;w++)y=w%L-c,b=_-(w/L|0),x[w]=E=h?Math.abs(h==="y"?b:y):No(y*y+b*b),E>A&&(A=E),E<P&&(P=E);s==="random"&&il(x),x.max=A-P,x.min=P,x.v=p=(parseFloat(i.amount)||parseFloat(i.each)*(L>p?p-1:h?h==="y"?p/L:L:Math.max(L,p/L))||0)*(s==="edges"?-1:1),x.b=p<0?n-p:n,x.u=Me(i.amount||i.each)||0,r=r&&p<0?dl(r):r}return p=(x[u]-x.min)/x.max||0,Fe(x.b+(r?r(p):p)*x.v)+x.u}},Rn=function(t){var i=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var s=Fe(Math.round(parseFloat(r)/t)*t*i);return(s-s%1)/i+(Ct(r)?0:Me(r))}},sl=function(t,i){var r=Be(t),s,n;return!r&&pt(t)&&(s=r=t.radius||nt,t.values?(t=at(t.values),(n=!Ct(t[0]))&&(s*=s)):t=Rn(t.increment)),Bt(i,r?_e(t)?function(a){return n=t(a),Math.abs(n-a)<=s?n:a}:function(a){for(var o=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),h=nt,f=0,m=t.length,u,d;m--;)n?(u=t[m].x-o,d=t[m].y-l,u=u*u+d*d):u=Math.abs(t[m]-o),u<h&&(h=u,f=m);return f=!s||h<=s?t[f]:a,n||f===a||Ct(a)?f:f+Me(a)}:Rn(t))},nl=function(t,i,r,s){return Bt(Be(t)?!i:r===!0?!!(r=0):!s,function(){return Be(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(i-t+r*.99))/r)*r*s)/s})},iu=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return function(s){return i.reduce(function(n,a){return a(n)},s)}},ru=function(t,i){return function(r){return t(parseFloat(r))+(i||Me(r))}},su=function(t,i,r){return ol(t,i,0,1,r)},al=function(t,i,r){return Bt(r,function(s){return t[~~i(s)]})},nu=function e(t,i,r){var s=i-t;return Be(t)?al(t,e(0,t.length),i):Bt(r,function(n){return(s+(n-t)%s)%s+t})},au=function e(t,i,r){var s=i-t,n=s*2;return Be(t)?al(t,e(0,t.length-1),i):Bt(r,function(a){return a=(n+(a-t)%n)%n||0,t+(a>s?n-a:a)})},gi=function(t){for(var i=0,r="",s,n,a,o;~(s=t.indexOf("random(",i));)a=t.indexOf(")",s),o=t.charAt(s+7)==="[",n=t.substr(s+7,a-s-7).match(o?Go:An),r+=t.substr(i,s-i)+nl(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),i=a+1;return r+t.substr(i,t.length-i)},ol=function(t,i,r,s,n){var a=i-t,o=s-r;return Bt(n,function(l){return r+((l-t)/a*o||0)})},ou=function e(t,i,r,s){var n=isNaN(t+i)?0:function(d){return(1-d)*t+d*i};if(!n){var a=Ce(t),o={},l,h,f,m,u;if(r===!0&&(s=1)&&(r=null),a)t={p:t},i={p:i};else if(Be(t)&&!Be(i)){for(f=[],m=t.length,u=m-2,h=1;h<m;h++)f.push(e(t[h-1],t[h]));m--,n=function(g){g*=m;var p=Math.min(u,~~g);return f[p](g-p)},r=i}else s||(t=Yt(Be(t)?[]:{},t));if(!f){for(l in i)Kn.call(o,t,l,"get",i[l]);n=function(g){return ta(g,o)||(a?t.p:t)}}}return Bt(r,n)},zo=function(t,i,r){var s=t.labels,n=nt,a,o,l;for(a in s)o=s[a]-i,o<0==!!r&&o&&n>(o=Math.abs(o))&&(l=a,n=o);return l},ot=function(t,i,r){var s=t.vars,n=s[i],a=ye,o=t._ctx,l,h,f;if(n)return l=s[i+"Params"],h=s.callbackScope||t,r&&kt.length&&br(),o&&(ye=o),f=l?n.apply(h,l):n.call(h),ye=a,f},Pi=function(t){return Lt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Le),t.progress()<1&&ot(t,"onInterrupt"),t},ui,ll=[],hl=function(t){if(Vn()&&t){t=!t.name&&t.default||t;var i=t.name,r=_e(t),s=i&&!r&&t.init?function(){this._props=[]}:t,n={init:Ii,render:ta,add:Kn,kill:Eu,modifier:xu,rawVars:0},a={targetTest:0,get:0,getSetter:Ar,aliases:{},register:0};if(mi(),t!==s){if(Ge[i])return;lt(s,lt(Sr(t,n),a)),Yt(s.prototype,Yt(n,Sr(t,a))),Ge[s.prop=i]=s,t.targetTest&&(gr.push(s),Hn[i]=1),i=(i==="css"?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}Yo(i,s),t.register&&t.register(Te,s,Ue)}else t&&ll.push(t)},fe=255,Ai={aqua:[0,fe,fe],lime:[0,fe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,fe],navy:[0,0,128],white:[fe,fe,fe],olive:[128,128,0],yellow:[fe,fe,0],orange:[fe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[fe,0,0],pink:[fe,192,203],cyan:[0,fe,fe],transparent:[fe,fe,fe,0]},En=function(t,i,r){return t+=t<0?1:t>1?-1:0,(t*6<1?i+(r-i)*t*6:t<.5?r:t*3<2?i+(r-i)*(2/3-t)*6:i)*fe+.5|0},fl=function(t,i,r){var s=t?Ct(t)?[t>>16,t>>8&fe,t&fe]:0:Ai.black,n,a,o,l,h,f,m,u,d,g;if(!s){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Ai[t])s=Ai[t];else if(t.charAt(0)==="#"){if(t.length<6&&(n=t.charAt(1),a=t.charAt(2),o=t.charAt(3),t="#"+n+n+a+a+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return s=parseInt(t.substr(1,6),16),[s>>16,s>>8&fe,s&fe,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),s=[t>>16,t>>8&fe,t&fe]}else if(t.substr(0,3)==="hsl"){if(s=g=t.match(An),!i)l=+s[0]%360/360,h=+s[1]/100,f=+s[2]/100,a=f<=.5?f*(h+1):f+h-f*h,n=f*2-a,s.length>3&&(s[3]*=1),s[0]=En(l+1/3,n,a),s[1]=En(l,n,a),s[2]=En(l-1/3,n,a);else if(~t.indexOf("="))return s=t.match(Nn),r&&s.length<4&&(s[3]=1),s}else s=t.match(An)||Ai.transparent;s=s.map(Number)}return i&&!g&&(n=s[0]/fe,a=s[1]/fe,o=s[2]/fe,m=Math.max(n,a,o),u=Math.min(n,a,o),f=(m+u)/2,m===u?l=h=0:(d=m-u,h=f>.5?d/(2-m-u):d/(m+u),l=m===n?(a-o)/d+(a<o?6:0):m===a?(o-n)/d+2:(n-a)/d+4,l*=60),s[0]=~~(l+.5),s[1]=~~(h*100+.5),s[2]=~~(f*100+.5)),r&&s.length<4&&(s[3]=1),s},ul=function(t){var i=[],r=[],s=-1;return t.split(Et).forEach(function(n){var a=n.match(qt)||[];i.push.apply(i,a),r.push(s+=a.length+1)}),i.c=r,i},Oo=function(t,i,r){var s="",n=(t+s).match(Et),a=i?"hsla(":"rgba(",o=0,l,h,f,m;if(!n)return t;if(n=n.map(function(u){return(u=fl(u,i,1))&&a+(i?u[0]+","+u[1]+"%,"+u[2]+"%,"+u[3]:u.join(","))+")"}),r&&(f=ul(t),l=r.c,l.join(s)!==f.c.join(s)))for(h=t.replace(Et,"1").split(qt),m=h.length-1;o<m;o++)s+=h[o]+(~l.indexOf(o)?n.shift()||a+"0,0,0,0)":(f.length?f:n.length?n:r).shift());if(!h)for(h=t.split(Et),m=h.length-1;o<m;o++)s+=h[o]+n[o];return s+h[m]},Et=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Ai)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),lu=/hsl[a]?\(/,jn=function(t){var i=t.join(" "),r;if(Et.lastIndex=0,Et.test(i))return r=lu.test(i),t[1]=Oo(t[1],r),t[0]=Oo(t[0],r,ul(t[1])),!0},Li,He=function(){var e=Date.now,t=500,i=33,r=e(),s=r,n=1e3/240,a=n,o=[],l,h,f,m,u,d,g=function p(x){var c=e()-s,_=x===!0,y,b,E,w;if(c>t&&(r+=c-i),s+=c,E=s-r,y=E-a,(y>0||_)&&(w=++m.frame,u=E-m.time*1e3,m.time=E=E/1e3,a+=y+(y>=n?4:n-y),b=1),_||(l=h(p)),b)for(d=0;d<o.length;d++)o[d](E,u,w,x)};return m={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(x){return u/(1e3/(x||60))},wake:function(){Ho&&(!Fn&&Vn()&&(st=Fn=window,Gn=st.document||{},Ze.gsap=Te,(st.gsapVersions||(st.gsapVersions=[])).push(Te.version),Wo(yr||st.GreenSockGlobals||!st.gsap&&st||{}),f=st.requestAnimationFrame,ll.forEach(hl)),l&&m.sleep(),h=f||function(x){return setTimeout(x,a-m.time*1e3+1|0)},Li=1,g(2))},sleep:function(){(f?st.cancelAnimationFrame:clearTimeout)(l),Li=0,h=Ii},lagSmoothing:function(x,c){t=x||1/0,i=Math.min(c||33,t)},fps:function(x){n=1e3/(x||240),a=m.time*1e3+n},add:function(x,c,_){var y=c?function(b,E,w,A){x(b,E,w,A),m.remove(y)}:x;return m.remove(x),o[_?"unshift":"push"](y),mi(),y},remove:function(x,c){~(c=o.indexOf(x))&&o.splice(c,1)&&d>=c&&d--},_listeners:o},m}(),mi=function(){return!Li&&He.wake()},ne={},hu=/^[\d.\-M][\d.\-,\s]/,fu=/["']/g,uu=function(t){for(var i={},r=t.substr(1,t.length-3).split(":"),s=r[0],n=1,a=r.length,o,l,h;n<a;n++)l=r[n],o=n!==a-1?l.lastIndexOf(","):l.length,h=l.substr(0,o),i[s]=isNaN(h)?h.replace(fu,"").trim():+h,s=l.substr(o+1).trim();return i},du=function(t){var i=t.indexOf("(")+1,r=t.indexOf(")"),s=t.indexOf("(",i);return t.substring(i,~s&&s<r?t.indexOf(")",r+1):r)},cu=function(t){var i=(t+"").split("("),r=ne[i[0]];return r&&i.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[uu(i[1])]:du(t).split(",").map(Xo)):ne._CE&&hu.test(t)?ne._CE("",t):r},dl=function(t){return function(i){return 1-t(1-i)}},cl=function e(t,i){for(var r=t._first,s;r;)r instanceof Ie?e(r,i):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==i&&(r.timeline?e(r.timeline,i):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=i)),r=r._next},Ht=function(t,i){return t&&(_e(t)?t:ne[t]||cu(t))||i},Xt=function(t,i,r,s){r===void 0&&(r=function(l){return 1-i(1-l)}),s===void 0&&(s=function(l){return l<.5?i(l*2)/2:1-i((1-l)*2)/2});var n={easeIn:i,easeOut:r,easeInOut:s},a;return Oe(t,function(o){ne[o]=Ze[o]=n,ne[a=o.toLowerCase()]=r;for(var l in n)ne[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ne[o+"."+l]=n[l]}),n},pl=function(t){return function(i){return i<.5?(1-t(1-i*2))/2:.5+t((i-.5)*2)/2}},Cn=function e(t,i,r){var s=i>=1?i:1,n=(r||(t?.3:.45))/(i<1?i:1),a=n/Pn*(Math.asin(1/s)||0),o=function(f){return f===1?1:s*Math.pow(2,-10*f)*Nf((f-a)*n)+1},l=t==="out"?o:t==="in"?function(h){return 1-o(1-h)}:pl(o);return n=Pn/n,l.config=function(h,f){return e(t,h,f)},l},Tn=function e(t,i){i===void 0&&(i=1.70158);var r=function(a){return a?--a*a*((i+1)*a+i)+1:0},s=t==="out"?r:t==="in"?function(n){return 1-r(1-n)}:pl(r);return s.config=function(n){return e(t,n)},s};Oe("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var i=t<5?t+1:t;Xt(e+",Power"+(i-1),t?function(r){return Math.pow(r,i)}:function(r){return r},function(r){return 1-Math.pow(1-r,i)},function(r){return r<.5?Math.pow(r*2,i)/2:1-Math.pow((1-r)*2,i)/2})});ne.Linear.easeNone=ne.none=ne.Linear.easeIn;Xt("Elastic",Cn("in"),Cn("out"),Cn());(function(e,t){var i=1/t,r=2*i,s=2.5*i,n=function(o){return o<i?e*o*o:o<r?e*Math.pow(o-1.5/t,2)+.75:o<s?e*(o-=2.25/t)*o+.9375:e*Math.pow(o-2.625/t,2)+.984375};Xt("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);Xt("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});Xt("Circ",function(e){return-(No(1-e*e)-1)});Xt("Sine",function(e){return e===1?1:-Vf(e*Of)+1});Xt("Back",Tn("in"),Tn("out"),Tn());ne.SteppedEase=ne.steps=Ze.SteppedEase={config:function(t,i){t===void 0&&(t=1);var r=1/t,s=t+(i?0:1),n=i?1:0,a=1-ue;return function(o){return((s*Ri(0,a,o)|0)+n)*r}}};di.ease=ne["quad.out"];Oe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Wn+=e+","+e+"Params,"});var Xn=function(t,i){this.id=Uf++,t._gsap=this,this.target=t,this.harness=i,this.get=i?i.get:qn,this.set=i?i.getSetter:Ar},Bi=function(){function e(i){this.vars=i,this._delay=+i.delay||0,(this._repeat=i.repeat===1/0?-2:i.repeat||0)&&(this._rDelay=i.repeatDelay||0,this._yoyo=!!i.yoyo||!!i.yoyoEase),this._ts=1,pi(this,+i.duration,1,1),this.data=i.data,ye&&(this._ctx=ye,ye.data.push(this)),Li||He.wake()}var t=e.prototype;return t.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,pi(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,s){if(mi(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Pr(this,r),!n._dp||n.parent||Jo(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&ct(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===ue||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),jo(this,r,s)),this},t.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Bo(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},t.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Bo(this),s):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(r,s){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*n,s):this._repeat?ci(this._tTime,n)+1:1},t.timeScale=function(r){if(!arguments.length)return this._rts===-ue?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?xr(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-ue?0:this._rts,this.totalTime(Ri(-Math.abs(this._delay),this._tDur,s),!0),Dr(this),jf(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(mi(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ue&&(this._tTime-=ue)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&ct(s,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(We(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?xr(s.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){r===void 0&&(r=Hf);var s=Le;return Le=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Le=s,this},t.globalTime=function(r){for(var s=this,n=arguments.length?r:s.rawTime();s;)n=s._start+n/(s._ts||1),s=s._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):n},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Ro(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,Ro(this),s?this.time(s):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,s){return this.totalTime(rt(this,r),We(s))},t.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,We(s))},t.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},t.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-ue:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-ue,this},t.isActive=function(){var r=this.parent||this._dp,s=this._start,n;return!!(!r||this._ts&&this._initted&&r.isActive()&&(n=r.rawTime(!0))>=s&&n<this.endTime(!0)-ue)},t.eventCallback=function(r,s,n){var a=this.vars;return arguments.length>1?(s?(a[r]=s,n&&(a[r+"Params"]=n),r==="onUpdate"&&(this._onUpdate=s)):delete a[r],this):a[r]},t.then=function(r){var s=this;return new Promise(function(n){var a=_e(r)?r:Ko,o=function(){var h=s.then;s.then=null,_e(a)&&(a=a(s))&&(a.then||a===s)&&(s.then=h),n(a),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?o():s._prom=o})},t.kill=function(){Pi(this)},e}();lt(Bi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ue,_prom:0,_ps:!1,_rts:1});var Ie=function(e){Vo(t,e);function t(r,s){var n;return r===void 0&&(r={}),n=e.call(this,r)||this,n.labels={},n.smoothChildTiming=!!r.smoothChildTiming,n.autoRemoveChildren=!!r.autoRemoveChildren,n._sort=We(r.sortChildren),me&&ct(r.parent||me,xt(n),s),r.reversed&&n.reverse(),r.paused&&n.paused(!0),r.scrollTrigger&&Qo(xt(n),r.scrollTrigger),n}var i=t.prototype;return i.to=function(s,n,a){return Mi(0,arguments,this),this},i.from=function(s,n,a){return Mi(1,arguments,this),this},i.fromTo=function(s,n,a,o){return Mi(2,arguments,this),this},i.set=function(s,n,a){return n.duration=0,n.parent=this,Fi(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Se(s,n,rt(this,a),1),this},i.call=function(s,n,a){return ct(this,Se.delayedCall(0,s,n),a)},i.staggerTo=function(s,n,a,o,l,h,f){return a.duration=n,a.stagger=a.stagger||o,a.onComplete=h,a.onCompleteParams=f,a.parent=this,new Se(s,a,rt(this,l)),this},i.staggerFrom=function(s,n,a,o,l,h,f){return a.runBackwards=1,Fi(a).immediateRender=We(a.immediateRender),this.staggerTo(s,n,a,o,l,h,f)},i.staggerFromTo=function(s,n,a,o,l,h,f,m){return o.startAt=a,Fi(o).immediateRender=We(o.immediateRender),this.staggerTo(s,n,o,l,h,f,m)},i.render=function(s,n,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=s<=0?0:Fe(s),m=this._zTime<0!=s<0&&(this._initted||!h),u,d,g,p,x,c,_,y,b,E,w,A;if(this!==me&&f>l&&s>=0&&(f=l),f!==this._tTime||a||m){if(o!==this._time&&h&&(f+=this._time-o,s+=this._time-o),u=f,b=this._start,y=this._ts,c=!y,m&&(h||(o=this._zTime),(s||!n)&&(this._zTime=s)),this._repeat){if(w=this._yoyo,x=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(x*100+s,n,a);if(u=Fe(f%x),f===l?(p=this._repeat,u=h):(p=~~(f/x),p&&p===f/x&&(u=h,p--),u>h&&(u=h)),E=ci(this._tTime,x),!o&&this._tTime&&E!==p&&this._tTime-E*x-this._dur<=0&&(E=p),w&&p&1&&(u=h-u,A=1),p!==E&&!this._lock){var P=w&&E&1,L=P===(w&&p&1);if(p<E&&(P=!P),o=P?0:f%h?h:f,this._lock=1,this.render(o||(A?0:Fe(p*x)),n,!h)._lock=0,this._tTime=f,!n&&this.parent&&ot(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),o&&o!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,L&&(this._lock=2,o=P?h:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;cl(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=Jf(this,Fe(o),Fe(u)),_&&(f-=u-(u=_._start))),this._tTime=f,this._time=u,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,o=0),!o&&u&&!n&&!p&&(ot(this,"onStart"),this._tTime!==f))return this;if(u>=o&&s>=0)for(d=this._first;d;){if(g=d._next,(d._act||u>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(s,n,a);if(d.render(d._ts>0?(u-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(u-d._start)*d._ts,n,a),u!==this._time||!this._ts&&!c){_=0,g&&(f+=this._zTime=-ue);break}}d=g}else{d=this._last;for(var O=s<0?s:u;d;){if(g=d._prev,(d._act||O<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(s,n,a);if(d.render(d._ts>0?(O-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(O-d._start)*d._ts,n,a||Le&&(d._initted||d._startAt)),u!==this._time||!this._ts&&!c){_=0,g&&(f+=this._zTime=O?-ue:ue);break}}d=g}}if(_&&!n&&(this.pause(),_.render(u>=o?0:-ue)._zTime=u>=o?1:-1,this._ts))return this._start=b,Dr(this),this.render(s,n,a);this._onUpdate&&!n&&ot(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&o)&&(b===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(f===l&&this._ts>0||!f&&this._ts<0)&&Lt(this,1),!n&&!(s<0&&!o)&&(f||o||!l)&&(ot(this,f===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(s,n){var a=this;if(Ct(n)||(n=rt(this,n,s)),!(s instanceof Bi)){if(Be(s))return s.forEach(function(o){return a.add(o,n)}),this;if(Ce(s))return this.addLabel(s,n);if(_e(s))s=Se.delayedCall(0,s);else return this}return this!==s?ct(this,s,n):this},i.getChildren=function(s,n,a,o){s===void 0&&(s=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=-nt);for(var l=[],h=this._first;h;)h._start>=o&&(h instanceof Se?n&&l.push(h):(a&&l.push(h),s&&l.push.apply(l,h.getChildren(!0,n,a)))),h=h._next;return l},i.getById=function(s){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===s)return n[a]},i.remove=function(s){return Ce(s)?this.removeLabel(s):_e(s)?this.killTweensOf(s):(wr(this,s),s===this._recent&&(this._recent=this._last),Gt(this))},i.totalTime=function(s,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Fe(He.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),e.prototype.totalTime.call(this,s,n),this._forcing=0,this):this._tTime},i.addLabel=function(s,n){return this.labels[s]=rt(this,n),this},i.removeLabel=function(s){return delete this.labels[s],this},i.addPause=function(s,n,a){var o=Se.delayedCall(0,n||Ii,a);return o.data="isPause",this._hasPause=1,ct(this,o,rt(this,s))},i.removePause=function(s){var n=this._first;for(s=rt(this,s);n;)n._start===s&&n.data==="isPause"&&Lt(n),n=n._next},i.killTweensOf=function(s,n,a){for(var o=this.getTweensOf(s,a),l=o.length;l--;)Mt!==o[l]&&o[l].kill(s,n);return this},i.getTweensOf=function(s,n){for(var a=[],o=at(s),l=this._first,h=Ct(n),f;l;)l instanceof Se?Wf(l._targets,o)&&(h?(!Mt||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&a.push(l):(f=l.getTweensOf(o,n)).length&&a.push.apply(a,f),l=l._next;return a},i.tweenTo=function(s,n){n=n||{};var a=this,o=rt(a,s),l=n,h=l.startAt,f=l.onStart,m=l.onStartParams,u=l.immediateRender,d,g=Se.to(a,lt({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale())||ue,onStart:function(){if(a.pause(),!d){var x=n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale());g._dur!==x&&pi(g,x,0,1).render(g._time,!0,!0),d=1}f&&f.apply(g,m||[])}},n));return u?g.render(0):g},i.tweenFromTo=function(s,n,a){return this.tweenTo(n,lt({startAt:{time:rt(this,s)}},a))},i.recent=function(){return this._recent},i.nextLabel=function(s){return s===void 0&&(s=this._time),zo(this,rt(this,s))},i.previousLabel=function(s){return s===void 0&&(s=this._time),zo(this,rt(this,s),1)},i.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+ue)},i.shiftChildren=function(s,n,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,h;o;)o._start>=a&&(o._start+=s,o._end+=s),o=o._next;if(n)for(h in l)l[h]>=a&&(l[h]+=s);return Gt(this)},i.invalidate=function(s){var n=this._first;for(this._lock=0;n;)n.invalidate(s),n=n._next;return e.prototype.invalidate.call(this,s)},i.clear=function(s){s===void 0&&(s=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Gt(this)},i.totalDuration=function(s){var n=0,a=this,o=a._last,l=nt,h,f,m;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-s:s));if(a._dirty){for(m=a.parent;o;)h=o._prev,o._dirty&&o.totalDuration(),f=o._start,f>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,ct(a,o,f-o._delay,1)._lock=0):l=f,f<0&&o._ts&&(n-=f,(!m&&!a._dp||m&&m.smoothChildTiming)&&(a._start+=f/a._ts,a._time-=f,a._tTime-=f),a.shiftChildren(-f,!1,-1/0),l=0),o._end>n&&o._ts&&(n=o._end),o=h;pi(a,a===me&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(s){if(me._ts&&(jo(me,xr(s,me)),qo=He.frame),He.frame>=Io){Io+=Ye.autoSleep||120;var n=me._first;if((!n||!n._ts)&&Ye.autoSleep&&He._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||He.sleep()}}},t}(Bi);lt(Ie.prototype,{_lock:0,_hasPause:0,_forcing:0});var pu=function(t,i,r,s,n,a,o){var l=new Ue(this._pt,t,i,0,1,ea,null,n),h=0,f=0,m,u,d,g,p,x,c,_;for(l.b=r,l.e=s,r+="",s+="",(c=~s.indexOf("random("))&&(s=gi(s)),a&&(_=[r,s],a(_,t,i),r=_[0],s=_[1]),u=r.match(Sn)||[];m=Sn.exec(s);)g=m[0],p=s.substring(h,m.index),d?d=(d+1)%5:p.substr(-5)==="rgba("&&(d=1),g!==u[f++]&&(x=parseFloat(u[f-1])||0,l._pt={_next:l._pt,p:p||f===1?p:",",s:x,c:g.charAt(1)==="="?jt(x,g)-x:parseFloat(g)-x,m:d&&d<4?Math.round:0},h=Sn.lastIndex);return l.c=h<s.length?s.substring(h,s.length):"",l.fp=o,($n.test(s)||c)&&(l.e=0),this._pt=l,l},Kn=function(t,i,r,s,n,a,o,l,h,f){_e(s)&&(s=s(n||0,t,a));var m=t[i],u=r!=="get"?r:_e(m)?h?t[i.indexOf("set")||!_e(t["get"+i.substr(3)])?i:"get"+i.substr(3)](h):t[i]():m,d=_e(m)?h?_u:vl:Qn,g;if(Ce(s)&&(~s.indexOf("random(")&&(s=gi(s)),s.charAt(1)==="="&&(g=jt(u,s)+(Me(u)||0),(g||g===0)&&(s=g))),!f||u!==s||zn)return!isNaN(u*s)&&s!==""?(g=new Ue(this._pt,t,i,+u||0,s-(u||0),typeof m=="boolean"?Su:yl,0,d),h&&(g.fp=h),o&&g.modifier(o,this,t),this._pt=g):(!m&&!(i in t)&&Tr(i,s),pu.call(this,t,i,u,s,d,l||Ye.stringFilter,h))},mu=function(t,i,r,s,n){if(_e(t)&&(t=ki(t,n,i,r,s)),!pt(t)||t.style&&t.nodeType||Be(t)||$o(t))return Ce(t)?ki(t,n,i,r,s):t;var a={},o;for(o in t)a[o]=ki(t[o],n,i,r,s);return a},Zn=function(t,i,r,s,n,a){var o,l,h,f;if(Ge[t]&&(o=new Ge[t]).init(n,o.rawVars?i[t]:mu(i[t],s,n,a,r),r,s,a)!==!1&&(r._pt=l=new Ue(r._pt,n,t,0,1,o.render,o,0,o.priority),r!==ui))for(h=r._ptLookup[r._targets.indexOf(n)],f=o._props.length;f--;)h[o._props[f]]=l;return o},Mt,zn,Jn=function e(t,i,r){var s=t.vars,n=s.ease,a=s.startAt,o=s.immediateRender,l=s.lazy,h=s.onUpdate,f=s.onUpdateParams,m=s.callbackScope,u=s.runBackwards,d=s.yoyoEase,g=s.keyframes,p=s.autoRevert,x=t._dur,c=t._startAt,_=t._targets,y=t.parent,b=y&&y.data==="nested"?y.vars.targets:_,E=t._overwrite==="auto"&&!Un,w=t.timeline,A,P,L,O,F,k,B,V,z,D,I,T,C;if(w&&(!g||!n)&&(n="none"),t._ease=Ht(n,di.ease),t._yEase=d?dl(Ht(d===!0?n:d,di.ease)):0,d&&t._yoyo&&!t._repeat&&(d=t._yEase,t._yEase=t._ease,t._ease=d),t._from=!w&&!!s.runBackwards,!w||g&&!s.stagger){if(V=_[0]?It(_[0]).harness:0,T=V&&s[V.prop],A=Sr(s,Hn),c&&(c._zTime<0&&c.progress(1),i<0&&u&&o&&!p?c.render(-1,!0):c.revert(u&&x?mr:Gf),c._lazy=0),a){if(Lt(t._startAt=Se.set(_,lt({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!c&&We(l),startAt:null,delay:0,onUpdate:h,onUpdateParams:f,callbackScope:m,stagger:0},a))),t._startAt._dp=0,t._startAt._sat=t,i<0&&(Le||!o&&!p)&&t._startAt.revert(mr),o&&x&&i<=0&&r<=0){i&&(t._zTime=i);return}}else if(u&&x&&!c){if(i&&(o=!1),L=lt({overwrite:!1,data:"isFromStart",lazy:o&&!c&&We(l),immediateRender:o,stagger:0,parent:y},A),T&&(L[V.prop]=T),Lt(t._startAt=Se.set(_,L)),t._startAt._dp=0,t._startAt._sat=t,i<0&&(Le?t._startAt.revert(mr):t._startAt.render(-1,!0)),t._zTime=i,!o)e(t._startAt,ue,ue);else if(!i)return}for(t._pt=t._ptCache=0,l=x&&We(l)||l&&!x,P=0;P<_.length;P++){if(F=_[P],B=F._gsap||Yn(_)[P]._gsap,t._ptLookup[P]=D={},Mn[B.id]&&kt.length&&br(),I=b===_?P:b.indexOf(F),V&&(z=new V).init(F,T||A,t,I,b)!==!1&&(t._pt=O=new Ue(t._pt,F,z.name,0,1,z.render,z,0,z.priority),z._props.forEach(function(R){D[R]=O}),z.priority&&(k=1)),!V||T)for(L in A)Ge[L]&&(z=Zn(L,A,t,I,F,b))?z.priority&&(k=1):D[L]=O=Kn.call(t,F,L,"get",A[L],I,b,0,s.stringFilter);t._op&&t._op[P]&&t.kill(F,t._op[P]),E&&t._pt&&(Mt=t,me.killTweensOf(F,D,t.globalTime(i)),C=!t.parent,Mt=0),t._pt&&l&&(Mn[B.id]=1)}k&&ia(t),t._onInit&&t._onInit(t)}t._onUpdate=h,t._initted=(!t._op||t._pt)&&!C,g&&i<=0&&w.render(nt,!0,!0)},gu=function(t,i,r,s,n,a,o){var l=(t._pt&&t._ptCache||(t._ptCache={}))[i],h,f,m,u;if(!l)for(l=t._ptCache[i]=[],m=t._ptLookup,u=t._targets.length;u--;){if(h=m[u][i],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==i&&h.fp!==i;)h=h._next;if(!h)return zn=1,t.vars[i]="+=0",Jn(t,o),zn=0,1;l.push(h)}for(u=l.length;u--;)f=l[u],h=f._pt||f,h.s=(s||s===0)&&!n?s:h.s+(s||0)+a*h.c,h.c=r-h.s,f.e&&(f.e=be(r)+Me(f.e)),f.b&&(f.b=h.s+Me(f.b))},vu=function(t,i){var r=t[0]?It(t[0]).harness:0,s=r&&r.aliases,n,a,o,l;if(!s)return i;n=Yt({},i);for(a in s)if(a in n)for(l=s[a].split(","),o=l.length;o--;)n[l[o]]=n[a];return n},yu=function(t,i,r,s){var n=i.ease||s||"power1.inOut",a,o;if(Be(i))o=r[t]||(r[t]=[]),i.forEach(function(l,h){return o.push({t:h/(i.length-1)*100,v:l,e:n})});else for(a in i)o=r[a]||(r[a]=[]),a==="ease"||o.push({t:parseFloat(t),v:i[a],e:n})},ki=function(t,i,r,s,n){return _e(t)?t.call(i,r,s,n):Ce(t)&&~t.indexOf("random(")?gi(t):t},ml=Wn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gl={};Oe(ml+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return gl[e]=1});var Se=function(e){Vo(t,e);function t(r,s,n,a){var o;typeof s=="number"&&(n.duration=s,s=n,n=null),o=e.call(this,a?s:Fi(s))||this;var l=o.vars,h=l.duration,f=l.delay,m=l.immediateRender,u=l.stagger,d=l.overwrite,g=l.keyframes,p=l.defaults,x=l.scrollTrigger,c=l.yoyoEase,_=s.parent||me,y=(Be(r)||$o(r)?Ct(r[0]):"length"in s)?[r]:at(r),b,E,w,A,P,L,O,F;if(o._targets=y.length?Yn(y):_r("GSAP target "+r+" not found. https://greensock.com",!Ye.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,g||u||pr(h)||pr(f)){if(s=o.vars,b=o.timeline=new Ie({data:"nested",defaults:p||{},targets:_&&_.data==="nested"?_.vars.targets:y}),b.kill(),b.parent=b._dp=xt(o),b._start=0,u||pr(h)||pr(f)){if(A=y.length,O=u&&rl(u),pt(u))for(P in u)~ml.indexOf(P)&&(F||(F={}),F[P]=u[P]);for(E=0;E<A;E++)w=Sr(s,gl),w.stagger=0,c&&(w.yoyoEase=c),F&&Yt(w,F),L=y[E],w.duration=+ki(h,xt(o),E,L,y),w.delay=(+ki(f,xt(o),E,L,y)||0)-o._delay,!u&&A===1&&w.delay&&(o._delay=f=w.delay,o._start+=f,w.delay=0),b.to(L,w,O?O(E,L,y):0),b._ease=ne.none;b.duration()?h=f=0:o.timeline=0}else if(g){Fi(lt(b.vars.defaults,{ease:"none"})),b._ease=Ht(g.ease||s.ease||"none");var k=0,B,V,z;if(Be(g))g.forEach(function(D){return b.to(y,D,">")}),b.duration();else{w={};for(P in g)P==="ease"||P==="easeEach"||yu(P,g[P],w,g.easeEach);for(P in w)for(B=w[P].sort(function(D,I){return D.t-I.t}),k=0,E=0;E<B.length;E++)V=B[E],z={ease:V.e,duration:(V.t-(E?B[E-1].t:0))/100*h},z[P]=V.v,b.to(y,z,k),k+=z.duration;b.duration()<h&&b.to({},{duration:h-b.duration()})}}h||o.duration(h=b.duration())}else o.timeline=0;return d===!0&&!Un&&(Mt=xt(o),me.killTweensOf(y),Mt=0),ct(_,xt(o),n),s.reversed&&o.reverse(),s.paused&&o.paused(!0),(m||!h&&!g&&o._start===Fe(_._time)&&We(m)&&Xf(xt(o))&&_.data!=="nested")&&(o._tTime=-ue,o.render(Math.max(0,-f)||0)),x&&Qo(xt(o),x),o}var i=t.prototype;return i.render=function(s,n,a){var o=this._time,l=this._tDur,h=this._dur,f=s<0,m=s>l-ue&&!f?l:s<ue?0:s,u,d,g,p,x,c,_,y,b;if(!h)Zf(this,s,n,a);else if(m!==this._tTime||!s||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(u=m,y=this.timeline,this._repeat){if(p=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(p*100+s,n,a);if(u=Fe(m%p),m===l?(g=this._repeat,u=h):(g=~~(m/p),g&&g===m/p&&(u=h,g--),u>h&&(u=h)),c=this._yoyo&&g&1,c&&(b=this._yEase,u=h-u),x=ci(this._tTime,p),u===o&&!a&&this._initted)return this._tTime=m,this;g!==x&&(y&&this._yEase&&cl(y,c),this.vars.repeatRefresh&&!c&&!this._lock&&(this._lock=a=1,this.render(Fe(p*g),!0).invalidate()._lock=0))}if(!this._initted){if(el(this,f?s:u,a,n,m))return this._tTime=0,this;if(o!==this._time)return this;if(h!==this._dur)return this.render(s,n,a)}if(this._tTime=m,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(b||this._ease)(u/h),this._from&&(this.ratio=_=1-_),u&&!o&&!n&&!g&&(ot(this,"onStart"),this._tTime!==m))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;y&&y.render(s<0?s:!u&&c?-ue:y._dur*y._ease(u/this._dur),n,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!n&&(f&&kn(this,s,n,a),ot(this,"onUpdate")),this._repeat&&g!==x&&this.vars.onRepeat&&!n&&this.parent&&ot(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(f&&!this._onUpdate&&kn(this,s,!0,!0),(s||!h)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Lt(this,1),!n&&!(f&&!o)&&(m||o||c)&&(ot(this,m===l?"onComplete":"onReverseComplete",!0),this._prom&&!(m<l&&this.timeScale()>0)&&this._prom()))}return this},i.targets=function(){return this._targets},i.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),e.prototype.invalidate.call(this,s)},i.resetTo=function(s,n,a,o){Li||He.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Jn(this,l),h=this._ease(l/this._dur),gu(this,s,n,a,o,h,l)?this.resetTo(s,n,a,o):(Pr(this,0),this.parent||Zo(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(s,n){if(n===void 0&&(n="all"),!s&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?Pi(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(s,n,Mt&&Mt.vars.overwrite!==!0)._first||Pi(this),this.parent&&a!==this.timeline.totalDuration()&&pi(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=s?at(s):o,h=this._ptLookup,f=this._pt,m,u,d,g,p,x,c;if((!n||n==="all")&&qf(o,l))return n==="all"&&(this._pt=0),Pi(this);for(m=this._op=this._op||[],n!=="all"&&(Ce(n)&&(p={},Oe(n,function(_){return p[_]=1}),n=p),n=vu(o,n)),c=o.length;c--;)if(~l.indexOf(o[c])){u=h[c],n==="all"?(m[c]=n,g=u,d={}):(d=m[c]=m[c]||{},g=n);for(p in g)x=u&&u[p],x&&((!("kill"in x.d)||x.d.kill(p)===!0)&&wr(this,x,"_pt"),delete u[p]),d!=="all"&&(d[p]=1)}return this._initted&&!this._pt&&f&&Pi(this),this},t.to=function(s,n){return new t(s,n,arguments[2])},t.from=function(s,n){return Mi(1,arguments)},t.delayedCall=function(s,n,a,o){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},t.fromTo=function(s,n,a){return Mi(2,arguments)},t.set=function(s,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(s,n)},t.killTweensOf=function(s,n,a){return me.killTweensOf(s,n,a)},t}(Bi);lt(Se.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Oe("staggerTo,staggerFrom,staggerFromTo",function(e){Se[e]=function(){var t=new Ie,i=Ln.call(arguments,0);return i.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,i)}});var Qn=function(t,i,r){return t[i]=r},vl=function(t,i,r){return t[i](r)},_u=function(t,i,r,s){return t[i](s.fp,r)},bu=function(t,i,r){return t.setAttribute(i,r)},Ar=function(t,i){return _e(t[i])?vl:Cr(t[i])&&t.setAttribute?bu:Qn},yl=function(t,i){return i.set(i.t,i.p,Math.round((i.s+i.c*t)*1e6)/1e6,i)},Su=function(t,i){return i.set(i.t,i.p,!!(i.s+i.c*t),i)},ea=function(t,i){var r=i._pt,s="";if(!t&&i.b)s=i.b;else if(t===1&&i.e)s=i.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*t):Math.round((r.s+r.c*t)*1e4)/1e4)+s,r=r._next;s+=i.c}i.set(i.t,i.p,s,i)},ta=function(t,i){for(var r=i._pt;r;)r.r(t,r.d),r=r._next},xu=function(t,i,r,s){for(var n=this._pt,a;n;)a=n._next,n.p===s&&n.modifier(t,i,r),n=a},Eu=function(t){for(var i=this._pt,r,s;i;)s=i._next,i.p===t&&!i.op||i.op===t?wr(this,i,"_pt"):i.dep||(r=1),i=s;return!r},Cu=function(t,i,r,s){s.mSet(t,i,s.m.call(s.tween,r,s.mt),s)},ia=function(t){for(var i=t._pt,r,s,n,a;i;){for(r=i._next,s=n;s&&s.pr>i.pr;)s=s._next;(i._prev=s?s._prev:a)?i._prev._next=i:n=i,(i._next=s)?s._prev=i:a=i,i=r}t._pt=n},Ue=function(){function e(i,r,s,n,a,o,l,h,f){this.t=r,this.s=n,this.c=a,this.p=s,this.r=o||yl,this.d=l||this,this.set=h||Qn,this.pr=f||0,this._next=i,i&&(i._prev=this)}var t=e.prototype;return t.modifier=function(r,s,n){this.mSet=this.mSet||this.set,this.set=Cu,this.m=r,this.mt=n,this.tween=s},e}();Oe(Wn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return Hn[e]=1});Ze.TweenMax=Ze.TweenLite=Se;Ze.TimelineLite=Ze.TimelineMax=Ie;me=new Ie({sortChildren:!1,defaults:di,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ye.stringFilter=jn;var Wt=[],vr={},Tu=[],Uo=0,wu=0,wn=function(t){return(vr[t]||Tu).map(function(i){return i()})},On=function(){var t=Date.now(),i=[];t-Uo>2&&(wn("matchMediaInit"),Wt.forEach(function(r){var s=r.queries,n=r.conditions,a,o,l,h;for(o in s)a=st.matchMedia(s[o]).matches,a&&(l=1),a!==n[o]&&(n[o]=a,h=1);h&&(r.revert(),l&&i.push(r))}),wn("matchMediaRevert"),i.forEach(function(r){return r.onMatch(r)}),Uo=t,wn("matchMedia"))},_l=function(){function e(i,r){this.selector=r&&Bn(r),this.data=[],this._r=[],this.isReverted=!1,this.id=wu++,i&&this.add(i)}var t=e.prototype;return t.add=function(r,s,n){_e(r)&&(n=s,s=r,r=_e);var a=this,o=function(){var h=ye,f=a.selector,m;return h&&h!==a&&h.data.push(a),n&&(a.selector=Bn(n)),ye=a,m=s.apply(a,arguments),_e(m)&&a._r.push(m),ye=h,a.selector=f,a.isReverted=!1,m};return a.last=o,r===_e?o(a):r?a[r]=o:o},t.ignore=function(r){var s=ye;ye=null,r(this),ye=s},t.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof e?r.push.apply(r,s.getTweens()):s instanceof Se&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,s){var n=this;if(r){var a=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}))}),a.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,h){return h.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof Se)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,n)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),s)for(var o=Wt.length;o--;)Wt[o].id===this.id&&Wt.splice(o,1)},t.revert=function(r){this.kill(r||{})},e}(),Du=function(){function e(i){this.contexts=[],this.scope=i}var t=e.prototype;return t.add=function(r,s,n){pt(r)||(r={matches:r});var a=new _l(0,n||this.scope),o=a.conditions={},l,h,f;ye&&!a.selector&&(a.selector=ye.selector),this.contexts.push(a),s=a.add("onMatch",s),a.queries=r;for(h in r)h==="all"?f=1:(l=st.matchMedia(r[h]),l&&(Wt.indexOf(a)<0&&Wt.push(a),(o[h]=l.matches)&&(f=1),l.addListener?l.addListener(On):l.addEventListener("change",On)));return f&&s(a),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},e}(),Er={registerPlugin:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];i.forEach(function(s){return hl(s)})},timeline:function(t){return new Ie(t)},getTweensOf:function(t,i){return me.getTweensOf(t,i)},getProperty:function(t,i,r,s){Ce(t)&&(t=at(t)[0]);var n=It(t||{}).get,a=r?Ko:Xo;return r==="native"&&(r=""),t&&(i?a((Ge[i]&&Ge[i].get||n)(t,i,r,s)):function(o,l,h){return a((Ge[o]&&Ge[o].get||n)(t,o,l,h))})},quickSetter:function(t,i,r){if(t=at(t),t.length>1){var s=t.map(function(f){return Te.quickSetter(f,i,r)}),n=s.length;return function(f){for(var m=n;m--;)s[m](f)}}t=t[0]||{};var a=Ge[i],o=It(t),l=o.harness&&(o.harness.aliases||{})[i]||i,h=a?function(f){var m=new a;ui._pt=0,m.init(t,r?f+r:f,ui,0,[t]),m.render(1,m),ui._pt&&ta(1,ui)}:o.set(t,l);return a?h:function(f){return h(t,l,r?f+r:f,o,1)}},quickTo:function(t,i,r){var s,n=Te.to(t,Yt((s={},s[i]="+=0.1",s.paused=!0,s),r||{})),a=function(l,h,f){return n.resetTo(i,l,h,f)};return a.tween=n,a},isTweening:function(t){return me.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ht(t.ease,di.ease)),Lo(di,t||{})},config:function(t){return Lo(Ye,t||{})},registerEffect:function(t){var i=t.name,r=t.effect,s=t.plugins,n=t.defaults,a=t.extendTimeline;(s||"").split(",").forEach(function(o){return o&&!Ge[o]&&!Ze[o]&&_r(i+" effect requires "+o+" plugin.")}),xn[i]=function(o,l,h){return r(at(o),lt(l||{},n),h)},a&&(Ie.prototype[i]=function(o,l,h){return this.add(xn[i](o,pt(l)?l:(h=l)&&{},this),h)})},registerEase:function(t,i){ne[t]=Ht(i)},parseEase:function(t,i){return arguments.length?Ht(t,i):ne},getById:function(t){return me.getById(t)},exportRoot:function(t,i){t===void 0&&(t={});var r=new Ie(t),s,n;for(r.smoothChildTiming=We(t.smoothChildTiming),me.remove(r),r._dp=0,r._time=r._tTime=me._time,s=me._first;s;)n=s._next,(i||!(!s._dur&&s instanceof Se&&s.vars.onComplete===s._targets[0]))&&ct(r,s,s._start-s._delay),s=n;return ct(me,r,0),r},context:function(t,i){return t?new _l(t,i):ye},matchMedia:function(t){return new Du(t)},matchMediaRefresh:function(){return Wt.forEach(function(t){var i=t.conditions,r,s;for(s in i)i[s]&&(i[s]=!1,r=1);r&&t.revert()})||On()},addEventListener:function(t,i){var r=vr[t]||(vr[t]=[]);~r.indexOf(i)||r.push(i)},removeEventListener:function(t,i){var r=vr[t],s=r&&r.indexOf(i);s>=0&&r.splice(s,1)},utils:{wrap:nu,wrapYoyo:au,distribute:rl,random:nl,snap:sl,normalize:su,getUnit:Me,clamp:eu,splitColor:fl,toArray:at,selector:Bn,mapRange:ol,pipe:iu,unitize:ru,interpolate:ou,shuffle:il},install:Wo,effects:xn,ticker:He,updateRoot:Ie.updateRoot,plugins:Ge,globalTimeline:me,core:{PropTween:Ue,globals:Yo,Tween:Se,Timeline:Ie,Animation:Bi,getCache:It,_removeLinkedListItem:wr,reverting:function(){return Le},context:function(t){return t&&ye&&(ye.data.push(t),t._ctx=ye),ye},suppressOverwrites:function(t){return Un=t}}};Oe("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Er[e]=Se[e]});He.add(Ie.updateRoot);ui=Er.to({},{duration:0});var Pu=function(t,i){for(var r=t._pt;r&&r.p!==i&&r.op!==i&&r.fp!==i;)r=r._next;return r},Au=function(t,i){var r=t._targets,s,n,a;for(s in i)for(n=r.length;n--;)a=t._ptLookup[n][s],a&&(a=a.d)&&(a._pt&&(a=Pu(a,s)),a&&a.modifier&&a.modifier(i[s],t,r[n],s))},Dn=function(t,i){return{name:t,rawVars:1,init:function(s,n,a){a._onInit=function(o){var l,h;if(Ce(n)&&(l={},Oe(n,function(f){return l[f]=1}),n=l),i){l={};for(h in n)l[h]=i(n[h]);n=l}Au(o,n)}}}},Te=Er.registerPlugin({name:"attr",init:function(t,i,r,s,n){var a,o,l;this.tween=r;for(a in i)l=t.getAttribute(a)||"",o=this.add(t,"setAttribute",(l||0)+"",i[a],s,n,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(t,i){for(var r=i._pt;r;)Le?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,i){for(var r=i.length;r--;)this.add(t,r,t[r]||0,i[r],0,0,0,0,0,1)}},Dn("roundProps",Rn),Dn("modifiers"),Dn("snap",sl))||Er;Se.version=Ie.version=Te.version="3.12.2";Ho=1;Vn()&&mi();var Fu=ne.Power0,Mu=ne.Power1,ku=ne.Power2,Iu=ne.Power3,Lu=ne.Power4,Bu=ne.Linear,Ru=ne.Quad,zu=ne.Cubic,Ou=ne.Quart,Uu=ne.Quint,Vu=ne.Strong,Nu=ne.Elastic,$u=ne.Back,Gu=ne.SteppedEase,Hu=ne.Bounce,Wu=ne.Sine,Yu=ne.Expo,qu=ne.Circ;var bl,Rt,yi,ha,Qt,ju,Sl,fa,Xu=function(){return typeof window!="undefined"},wt={},Jt=180/Math.PI,_i=Math.PI/180,vi=Math.atan2,xl=1e8,ua=/([A-Z])/g,Ku=/(left|right|width|margin|padding|x)/i,Zu=/[\s,\(]\S/,mt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},na=function(t,i){return i.set(i.t,i.p,Math.round((i.s+i.c*t)*1e4)/1e4+i.u,i)},Ju=function(t,i){return i.set(i.t,i.p,t===1?i.e:Math.round((i.s+i.c*t)*1e4)/1e4+i.u,i)},Qu=function(t,i){return i.set(i.t,i.p,t?Math.round((i.s+i.c*t)*1e4)/1e4+i.u:i.b,i)},ed=function(t,i){var r=i.s+i.c*t;i.set(i.t,i.p,~~(r+(r<0?-.5:.5))+i.u,i)},Al=function(t,i){return i.set(i.t,i.p,t?i.e:i.b,i)},Fl=function(t,i){return i.set(i.t,i.p,t!==1?i.b:i.e,i)},td=function(t,i,r){return t.style[i]=r},id=function(t,i,r){return t.style.setProperty(i,r)},rd=function(t,i,r){return t._gsap[i]=r},sd=function(t,i,r){return t._gsap.scaleX=t._gsap.scaleY=r},nd=function(t,i,r,s,n){var a=t._gsap;a.scaleX=a.scaleY=r,a.renderTransform(n,a)},ad=function(t,i,r,s,n){var a=t._gsap;a[i]=r,a.renderTransform(n,a)},ge="transform",ft=ge+"Origin",od=function e(t,i){var r=this,s=this.target,n=s.style;if(t in wt&&n){if(this.tfm=this.tfm||{},t!=="transform")t=mt[t]||t,~t.indexOf(",")?t.split(",").forEach(function(a){return r.tfm[a]=Tt(s,a)}):this.tfm[t]=s._gsap.x?s._gsap[t]:Tt(s,t);else return mt.transform.split(",").forEach(function(a){return e.call(r,a,i)});if(this.props.indexOf(ge)>=0)return;s._gsap.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(ft,i,"")),t=ge}(n||i)&&this.props.push(t,i,n[t])},Ml=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},ld=function(){var t=this.props,i=this.target,r=i.style,s=i._gsap,n,a;for(n=0;n<t.length;n+=3)t[n+1]?i[t[n]]=t[n+2]:t[n+2]?r[t[n]]=t[n+2]:r.removeProperty(t[n].substr(0,2)==="--"?t[n]:t[n].replace(ua,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)s[a]=this.tfm[a];s.svg&&(s.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),n=fa(),(!n||!n.isStart)&&!r[ge]&&(Ml(r),s.uncache=1)}},kl=function(t,i){var r={target:t,props:[],revert:ld,save:od};return t._gsap||Te.core.getCache(t),i&&i.split(",").forEach(function(s){return r.save(s)}),r},Il,aa=function(t,i){var r=Rt.createElementNS?Rt.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Rt.createElement(t);return r.style?r:Rt.createElement(t)},gt=function e(t,i,r){var s=getComputedStyle(t);return s[i]||s.getPropertyValue(i.replace(ua,"-$1").toLowerCase())||s.getPropertyValue(i)||!r&&e(t,bi(i)||i,1)||""},El="O,Moz,ms,Ms,Webkit".split(","),bi=function(t,i,r){var s=i||Qt,n=s.style,a=5;if(t in n&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);a--&&!(El[a]+t in n););return a<0?null:(a===3?"ms":a>=0?El[a]:"")+t},oa=function(){Xu()&&window.document&&(bl=window,Rt=bl.document,yi=Rt.documentElement,Qt=aa("div")||{style:{}},ju=aa("div"),ge=bi(ge),ft=ge+"Origin",Qt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Il=!!bi("perspective"),fa=Te.core.reverting,ha=1)},ra=function e(t){var i=aa("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,n=this.style.cssText,a;if(yi.appendChild(i),i.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(o){}else this._gsapBBox&&(a=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),yi.removeChild(i),this.style.cssText=n,a},Cl=function(t,i){for(var r=i.length;r--;)if(t.hasAttribute(i[r]))return t.getAttribute(i[r])},Ll=function(t){var i;try{i=t.getBBox()}catch(r){i=ra.call(t,!0)}return i&&(i.width||i.height)||t.getBBox===ra||(i=ra.call(t,!0)),i&&!i.width&&!i.x&&!i.y?{x:+Cl(t,["x","cx","x1"])||0,y:+Cl(t,["y","cy","y1"])||0,width:0,height:0}:i},Bl=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Ll(t))},Oi=function(t,i){if(i){var r=t.style;i in wt&&i!==ft&&(i=ge),r.removeProperty?((i.substr(0,2)==="ms"||i.substr(0,6)==="webkit")&&(i="-"+i),r.removeProperty(i.replace(ua,"-$1").toLowerCase())):r.removeAttribute(i)}},zt=function(t,i,r,s,n,a){var o=new Ue(t._pt,i,r,0,1,a?Fl:Al);return t._pt=o,o.b=s,o.e=n,t._props.push(r),o},Tl={deg:1,rad:1,turn:1},hd={grid:1,flex:1},Ot=function e(t,i,r,s){var n=parseFloat(r)||0,a=(r+"").trim().substr((n+"").length)||"px",o=Qt.style,l=Ku.test(i),h=t.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(l?"Width":"Height"),m=100,u=s==="px",d=s==="%",g,p,x,c;return s===a||!n||Tl[s]||Tl[a]?n:(a!=="px"&&!u&&(n=e(t,i,r,"px")),c=t.getCTM&&Bl(t),(d||a==="%")&&(wt[i]||~i.indexOf("adius"))?(g=c?t.getBBox()[l?"width":"height"]:t[f],be(d?n/g*m:n/100*g)):(o[l?"width":"height"]=m+(u?a:s),p=~i.indexOf("adius")||s==="em"&&t.appendChild&&!h?t:t.parentNode,c&&(p=(t.ownerSVGElement||{}).parentNode),(!p||p===Rt||!p.appendChild)&&(p=Rt.body),x=p._gsap,x&&d&&x.width&&l&&x.time===He.time&&!x.uncache?be(n/x.width*m):((d||a==="%")&&!hd[gt(p,"display")]&&(o.position=gt(t,"position")),p===t&&(o.position="static"),p.appendChild(Qt),g=Qt[f],p.removeChild(Qt),o.position="absolute",l&&d&&(x=It(p),x.time=He.time,x.width=p[f]),be(u?g*n/m:g&&n?m/g*n:0))))},Tt=function(t,i,r,s){var n;return ha||oa(),i in mt&&i!=="transform"&&(i=mt[i],~i.indexOf(",")&&(i=i.split(",")[0])),wt[i]&&i!=="transform"?(n=Vi(t,s),n=i!=="transformOrigin"?n[i]:n.svg?n.origin:Mr(gt(t,ft))+" "+n.zOrigin+"px"):(n=t.style[i],(!n||n==="auto"||s||~(n+"").indexOf("calc("))&&(n=Fr[i]&&Fr[i](t,i,r)||gt(t,i)||qn(t,i)||(i==="opacity"?1:0))),r&&!~(n+"").trim().indexOf(" ")?Ot(t,i,n,r)+r:n},fd=function(t,i,r,s){if(!r||r==="none"){var n=bi(i,t,1),a=n&&gt(t,n,1);a&&a!==r?(i=n,r=a):i==="borderColor"&&(r=gt(t,"borderTopColor"))}var o=new Ue(this._pt,t.style,i,0,1,ea),l=0,h=0,f,m,u,d,g,p,x,c,_,y,b,E;if(o.b=r,o.e=s,r+="",s+="",s==="auto"&&(t.style[i]=s,s=gt(t,i)||s,t.style[i]=r),f=[r,s],jn(f),r=f[0],s=f[1],u=r.match(qt)||[],E=s.match(qt)||[],E.length){for(;m=qt.exec(s);)x=m[0],_=s.substring(l,m.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),x!==(p=u[h++]||"")&&(d=parseFloat(p)||0,b=p.substr((d+"").length),x.charAt(1)==="="&&(x=jt(d,x)+b),c=parseFloat(x),y=x.substr((c+"").length),l=qt.lastIndex-y.length,y||(y=y||Ye.units[i]||b,l===s.length&&(s+=y,o.e+=y)),b!==y&&(d=Ot(t,i,p,y)||0),o._pt={_next:o._pt,p:_||h===1?_:",",s:d,c:c-d,m:g&&g<4||i==="zIndex"?Math.round:0});o.c=l<s.length?s.substring(l,s.length):""}else o.r=i==="display"&&s==="none"?Fl:Al;return $n.test(s)&&(o.e=0),this._pt=o,o},wl={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ud=function(t){var i=t.split(" "),r=i[0],s=i[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(t=r,r=s,s=t),i[0]=wl[r]||r,i[1]=wl[s]||s,i.join(" ")},dd=function(t,i){if(i.tween&&i.tween._time===i.tween._dur){var r=i.t,s=r.style,n=i.u,a=r._gsap,o,l,h;if(n==="all"||n===!0)s.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)o=n[h],wt[o]&&(l=1,o=o==="transformOrigin"?ft:ge),Oi(r,o);l&&(Oi(r,ge),a&&(a.svg&&r.removeAttribute("transform"),Vi(r,1),a.uncache=1,Ml(s)))}},Fr={clearProps:function(t,i,r,s,n){if(n.data!=="isFromStart"){var a=t._pt=new Ue(t._pt,i,r,0,0,dd);return a.u=s,a.pr=-10,a.tween=n,t._props.push(r),1}}},Ui=[1,0,0,1,0,0],Rl={},zl=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Dl=function(t){var i=gt(t,ge);return zl(i)?Ui:i.substr(7).match(Nn).map(be)},da=function(t,i){var r=t._gsap||It(t),s=t.style,n=Dl(t),a,o,l,h;return r.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Ui:n):(n===Ui&&!t.offsetParent&&t!==yi&&!r.svg&&(l=s.display,s.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(h=1,o=t.nextElementSibling,yi.appendChild(t)),n=Dl(t),l?s.display=l:Oi(t,"display"),h&&(o?a.insertBefore(t,o):a?a.appendChild(t):yi.removeChild(t))),i&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},la=function(t,i,r,s,n,a){var o=t._gsap,l=n||da(t,!0),h=o.xOrigin||0,f=o.yOrigin||0,m=o.xOffset||0,u=o.yOffset||0,d=l[0],g=l[1],p=l[2],x=l[3],c=l[4],_=l[5],y=i.split(" "),b=parseFloat(y[0])||0,E=parseFloat(y[1])||0,w,A,P,L;r?l!==Ui&&(A=d*x-g*p)&&(P=b*(x/A)+E*(-p/A)+(p*_-x*c)/A,L=b*(-g/A)+E*(d/A)-(d*_-g*c)/A,b=P,E=L):(w=Ll(t),b=w.x+(~y[0].indexOf("%")?b/100*w.width:b),E=w.y+(~(y[1]||y[0]).indexOf("%")?E/100*w.height:E)),s||s!==!1&&o.smooth?(c=b-h,_=E-f,o.xOffset=m+(c*d+_*p)-c,o.yOffset=u+(c*g+_*x)-_):o.xOffset=o.yOffset=0,o.xOrigin=b,o.yOrigin=E,o.smooth=!!s,o.origin=i,o.originIsAbsolute=!!r,t.style[ft]="0px 0px",a&&(zt(a,o,"xOrigin",h,b),zt(a,o,"yOrigin",f,E),zt(a,o,"xOffset",m,o.xOffset),zt(a,o,"yOffset",u,o.yOffset)),t.setAttribute("data-svg-origin",b+" "+E)},Vi=function(t,i){var r=t._gsap||new Xn(t);if("x"in r&&!i&&!r.uncache)return r;var s=t.style,n=r.scaleX<0,a="px",o="deg",l=getComputedStyle(t),h=gt(t,ft)||"0",f,m,u,d,g,p,x,c,_,y,b,E,w,A,P,L,O,F,k,B,V,z,D,I,T,C,R,M,U,$,G,W;return f=m=u=p=x=c=_=y=b=0,d=g=1,r.svg=!!(t.getCTM&&Bl(t)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[ge]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[ge]!=="none"?l[ge]:"")),s.scale=s.rotate=s.translate="none"),A=da(t,r.svg),r.svg&&(r.uncache?(T=t.getBBox(),h=r.xOrigin-T.x+"px "+(r.yOrigin-T.y)+"px",I=""):I=!i&&t.getAttribute("data-svg-origin"),la(t,I||h,!!I||r.originIsAbsolute,r.smooth!==!1,A)),E=r.xOrigin||0,w=r.yOrigin||0,A!==Ui&&(F=A[0],k=A[1],B=A[2],V=A[3],f=z=A[4],m=D=A[5],A.length===6?(d=Math.sqrt(F*F+k*k),g=Math.sqrt(V*V+B*B),p=F||k?vi(k,F)*Jt:0,_=B||V?vi(B,V)*Jt+p:0,_&&(g*=Math.abs(Math.cos(_*_i))),r.svg&&(f-=E-(E*F+w*B),m-=w-(E*k+w*V))):(W=A[6],$=A[7],R=A[8],M=A[9],U=A[10],G=A[11],f=A[12],m=A[13],u=A[14],P=vi(W,U),x=P*Jt,P&&(L=Math.cos(-P),O=Math.sin(-P),I=z*L+R*O,T=D*L+M*O,C=W*L+U*O,R=z*-O+R*L,M=D*-O+M*L,U=W*-O+U*L,G=$*-O+G*L,z=I,D=T,W=C),P=vi(-B,U),c=P*Jt,P&&(L=Math.cos(-P),O=Math.sin(-P),I=F*L-R*O,T=k*L-M*O,C=B*L-U*O,G=V*O+G*L,F=I,k=T,B=C),P=vi(k,F),p=P*Jt,P&&(L=Math.cos(P),O=Math.sin(P),I=F*L+k*O,T=z*L+D*O,k=k*L-F*O,D=D*L-z*O,F=I,z=T),x&&Math.abs(x)+Math.abs(p)>359.9&&(x=p=0,c=180-c),d=be(Math.sqrt(F*F+k*k+B*B)),g=be(Math.sqrt(D*D+W*W)),P=vi(z,D),_=Math.abs(P)>2e-4?P*Jt:0,b=G?1/(G<0?-G:G):0),r.svg&&(I=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!zl(gt(t,ge)),I&&t.setAttribute("transform",I))),Math.abs(_)>90&&Math.abs(_)<270&&(n?(d*=-1,_+=p<=0?180:-180,p+=p<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),i=i||r.uncache,r.x=f-((r.xPercent=f&&(!i&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+a,r.y=m-((r.yPercent=m&&(!i&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-m)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+a,r.z=u+a,r.scaleX=be(d),r.scaleY=be(g),r.rotation=be(p)+o,r.rotationX=be(x)+o,r.rotationY=be(c)+o,r.skewX=_+o,r.skewY=y+o,r.transformPerspective=b+a,(r.zOrigin=parseFloat(h.split(" ")[2])||0)&&(s[ft]=Mr(h)),r.xOffset=r.yOffset=0,r.force3D=Ye.force3D,r.renderTransform=r.svg?pd:Il?Ol:cd,r.uncache=0,r},Mr=function(t){return(t=t.split(" "))[0]+" "+t[1]},sa=function(t,i,r){var s=Me(i);return be(parseFloat(i)+parseFloat(Ot(t,"x",r+"px",s)))+s},cd=function(t,i){i.z="0px",i.rotationY=i.rotationX="0deg",i.force3D=0,Ol(t,i)},Kt="0deg",zi="0px",Zt=") ",Ol=function(t,i){var r=i||this,s=r.xPercent,n=r.yPercent,a=r.x,o=r.y,l=r.z,h=r.rotation,f=r.rotationY,m=r.rotationX,u=r.skewX,d=r.skewY,g=r.scaleX,p=r.scaleY,x=r.transformPerspective,c=r.force3D,_=r.target,y=r.zOrigin,b="",E=c==="auto"&&t&&t!==1||c===!0;if(y&&(m!==Kt||f!==Kt)){var w=parseFloat(f)*_i,A=Math.sin(w),P=Math.cos(w),L;w=parseFloat(m)*_i,L=Math.cos(w),a=sa(_,a,A*L*-y),o=sa(_,o,-Math.sin(w)*-y),l=sa(_,l,P*L*-y+y)}x!==zi&&(b+="perspective("+x+Zt),(s||n)&&(b+="translate("+s+"%, "+n+"%) "),(E||a!==zi||o!==zi||l!==zi)&&(b+=l!==zi||E?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Zt),h!==Kt&&(b+="rotate("+h+Zt),f!==Kt&&(b+="rotateY("+f+Zt),m!==Kt&&(b+="rotateX("+m+Zt),(u!==Kt||d!==Kt)&&(b+="skew("+u+", "+d+Zt),(g!==1||p!==1)&&(b+="scale("+g+", "+p+Zt),_.style[ge]=b||"translate(0, 0)"},pd=function(t,i){var r=i||this,s=r.xPercent,n=r.yPercent,a=r.x,o=r.y,l=r.rotation,h=r.skewX,f=r.skewY,m=r.scaleX,u=r.scaleY,d=r.target,g=r.xOrigin,p=r.yOrigin,x=r.xOffset,c=r.yOffset,_=r.forceCSS,y=parseFloat(a),b=parseFloat(o),E,w,A,P,L;l=parseFloat(l),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,l+=f),l||h?(l*=_i,h*=_i,E=Math.cos(l)*m,w=Math.sin(l)*m,A=Math.sin(l-h)*-u,P=Math.cos(l-h)*u,h&&(f*=_i,L=Math.tan(h-f),L=Math.sqrt(1+L*L),A*=L,P*=L,f&&(L=Math.tan(f),L=Math.sqrt(1+L*L),E*=L,w*=L)),E=be(E),w=be(w),A=be(A),P=be(P)):(E=m,P=u,w=A=0),(y&&!~(a+"").indexOf("px")||b&&!~(o+"").indexOf("px"))&&(y=Ot(d,"x",a,"px"),b=Ot(d,"y",o,"px")),(g||p||x||c)&&(y=be(y+g-(g*E+p*A)+x),b=be(b+p-(g*w+p*P)+c)),(s||n)&&(L=d.getBBox(),y=be(y+s/100*L.width),b=be(b+n/100*L.height)),L="matrix("+E+","+w+","+A+","+P+","+y+","+b+")",d.setAttribute("transform",L),_&&(d.style[ge]=L)},md=function(t,i,r,s,n){var a=360,o=Ce(n),l=parseFloat(n)*(o&&~n.indexOf("rad")?Jt:1),h=l-s,f=s+h+"deg",m,u;return o&&(m=n.split("_")[1],m==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),m==="cw"&&h<0?h=(h+a*xl)%a-~~(h/a)*a:m==="ccw"&&h>0&&(h=(h-a*xl)%a-~~(h/a)*a)),t._pt=u=new Ue(t._pt,i,r,s,h,Ju),u.e=f,u.u="deg",t._props.push(r),u},Pl=function(t,i){for(var r in i)t[r]=i[r];return t},gd=function(t,i,r){var s=Pl({},r._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=r.style,o,l,h,f,m,u,d,g;s.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),a[ge]=i,o=Vi(r,1),Oi(r,ge),r.setAttribute("transform",h)):(h=getComputedStyle(r)[ge],a[ge]=i,o=Vi(r,1),a[ge]=h);for(l in wt)h=s[l],f=o[l],h!==f&&n.indexOf(l)<0&&(d=Me(h),g=Me(f),m=d!==g?Ot(r,l,h,g):parseFloat(h),u=parseFloat(f),t._pt=new Ue(t._pt,o,l,m,u-m,na),t._pt.u=g||0,t._props.push(l));Pl(o,s)};Oe("padding,margin,Width,Radius",function(e,t){var i="Top",r="Right",s="Bottom",n="Left",a=(t<3?[i,r,s,n]:[i+n,i+r,s+r,s+n]).map(function(o){return t<2?e+o:"border"+o+e});Fr[t>1?"border"+e:e]=function(o,l,h,f,m){var u,d;if(arguments.length<4)return u=a.map(function(g){return Tt(o,g,h)}),d=u.join(" "),d.split(u[0]).length===5?u[0]:d;u=(f+"").split(" "),d={},a.forEach(function(g,p){return d[g]=u[p]=u[p]||u[(p-1)/2|0]}),o.init(l,d,m)}});var Ni={name:"css",register:oa,targetTest:function(t){return t.style&&t.nodeType},init:function(t,i,r,s,n){var a=this._props,o=t.style,l=r.vars.startAt,h,f,m,u,d,g,p,x,c,_,y,b,E,w,A,P;ha||oa(),this.styles=this.styles||kl(t),P=this.styles.props,this.tween=r;for(p in i)if(p!=="autoRound"&&(f=i[p],!(Ge[p]&&Zn(p,i,r,s,t,n)))){if(d=typeof f,g=Fr[p],d==="function"&&(f=f.call(r,s,t,n),d=typeof f),d==="string"&&~f.indexOf("random(")&&(f=gi(f)),g)g(this,t,p,f,r)&&(A=1);else if(p.substr(0,2)==="--")h=(getComputedStyle(t).getPropertyValue(p)+"").trim(),f+="",Et.lastIndex=0,Et.test(h)||(x=Me(h),c=Me(f)),c?x!==c&&(h=Ot(t,p,h,c)+c):x&&(f+=x),this.add(o,"setProperty",h,f,s,n,0,0,p),a.push(p),P.push(p,0,o[p]);else if(d!=="undefined"){if(l&&p in l?(h=typeof l[p]=="function"?l[p].call(r,s,t,n):l[p],Ce(h)&&~h.indexOf("random(")&&(h=gi(h)),Me(h+"")||(h+=Ye.units[p]||Me(Tt(t,p))||""),(h+"").charAt(1)==="="&&(h=Tt(t,p))):h=Tt(t,p),u=parseFloat(h),_=d==="string"&&f.charAt(1)==="="&&f.substr(0,2),_&&(f=f.substr(2)),m=parseFloat(f),p in mt&&(p==="autoAlpha"&&(u===1&&Tt(t,"visibility")==="hidden"&&m&&(u=0),P.push("visibility",0,o.visibility),zt(this,o,"visibility",u?"inherit":"hidden",m?"inherit":"hidden",!m)),p!=="scale"&&p!=="transform"&&(p=mt[p],~p.indexOf(",")&&(p=p.split(",")[0]))),y=p in wt,y){if(this.styles.save(p),b||(E=t._gsap,E.renderTransform&&!i.parseTransform||Vi(t,i.parseTransform),w=i.smoothOrigin!==!1&&E.smooth,b=this._pt=new Ue(this._pt,o,ge,0,1,E.renderTransform,E,0,-1),b.dep=1),p==="scale")this._pt=new Ue(this._pt,E,"scaleY",E.scaleY,(_?jt(E.scaleY,_+m):m)-E.scaleY||0,na),this._pt.u=0,a.push("scaleY",p),p+="X";else if(p==="transformOrigin"){P.push(ft,0,o[ft]),f=ud(f),E.svg?la(t,f,0,w,0,this):(c=parseFloat(f.split(" ")[2])||0,c!==E.zOrigin&&zt(this,E,"zOrigin",E.zOrigin,c),zt(this,o,p,Mr(h),Mr(f)));continue}else if(p==="svgOrigin"){la(t,f,1,w,0,this);continue}else if(p in Rl){md(this,E,p,u,_?jt(u,_+f):f);continue}else if(p==="smoothOrigin"){zt(this,E,"smooth",E.smooth,f);continue}else if(p==="force3D"){E[p]=f;continue}else if(p==="transform"){gd(this,f,t);continue}}else p in o||(p=bi(p)||p);if(y||(m||m===0)&&(u||u===0)&&!Zu.test(f)&&p in o)x=(h+"").substr((u+"").length),m||(m=0),c=Me(f)||(p in Ye.units?Ye.units[p]:x),x!==c&&(u=Ot(t,p,h,c)),this._pt=new Ue(this._pt,y?E:o,p,u,(_?jt(u,_+m):m)-u,!y&&(c==="px"||p==="zIndex")&&i.autoRound!==!1?ed:na),this._pt.u=c||0,x!==c&&c!=="%"&&(this._pt.b=h,this._pt.r=Qu);else if(p in o)fd.call(this,t,p,h,_?_+f:f);else if(p in t)this.add(t,p,h||t[p],_?_+f:f,s,n);else if(p!=="parseTransform"){Tr(p,f);continue}y||(p in o?P.push(p,0,o[p]):P.push(p,1,h||t[p])),a.push(p)}}A&&ia(this)},render:function(t,i){if(i.tween._time||!fa())for(var r=i._pt;r;)r.r(t,r.d),r=r._next;else i.styles.revert()},get:Tt,aliases:mt,getSetter:function(t,i,r){var s=mt[i];return s&&s.indexOf(",")<0&&(i=s),i in wt&&i!==ft&&(t._gsap.x||Tt(t,"x"))?r&&Sl===r?i==="scale"?sd:rd:(Sl=r||{})&&(i==="scale"?nd:ad):t.style&&!Cr(t.style[i])?td:~i.indexOf("-")?id:Ar(t,i)},core:{_removeProperty:Oi,_getMatrix:da}};Te.utils.checkPrefix=bi;Te.core.getStyleSaver=kl;(function(e,t,i,r){var s=Oe(e+","+t+","+i,function(n){wt[n]=1});Oe(t,function(n){Ye.units[n]="deg",Rl[n]=1}),mt[s[13]]=e+","+t,Oe(r,function(n){var a=n.split(":");mt[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Oe("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Ye.units[e]="px"});Te.registerPlugin(Ni);var Ul=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function ca(e){var t=e.nodeType,i="";if(t===1||t===9||t===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=ca(e)}else if(t===3||t===4)return e.nodeValue;return i}var Si,ma,$l,$i,Gl,kr,vd=/(?:\r|\n|\t\t)/g,yd=/(?:\s\s+)/g,Hl=function(t){Si=document,ma=window,$i=$i||t||ma.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),$i&&(kr=$i.utils.toArray,Gl=$i.core.context||function(){},$l=1)},_d=1,Wl=function(t){return ma.getComputedStyle(t)},ga=function(t){return t.position==="absolute"||t.absolute===!0},bd=function(t,i){for(var r=i.length,s;--r>-1;)if(s=i[r],t.substr(0,s.length)===s)return s.length},Sd=" style='position:relative;display:inline-block;'",Vl=function(t,i){t===void 0&&(t="");var r=~t.indexOf("++"),s=1;return r&&(t=t.split("++").join("")),function(){return"<"+i+Sd+(t?" class='"+t+(r?s++:"")+"'>":">")}},Yl=function e(t,i,r){var s=t.nodeType;if(s===1||s===9||s===11)for(t=t.firstChild;t;t=t.nextSibling)e(t,i,r);else(s===3||s===4)&&(t.nodeValue=t.nodeValue.split(i).join(r))},pa=function(t,i){for(var r=i.length;--r>-1;)t.push(i[r])},Nl=function(t,i,r){for(var s;t&&t!==i;){if(s=t._next||t.nextSibling,s)return s.textContent.charAt(0)===r;t=t.parentNode||t._parent}},xd=function e(t){var i=kr(t.childNodes),r=i.length,s,n;for(s=0;s<r;s++)n=i[s],n._isSplit?e(n):s&&n.previousSibling&&n.previousSibling.nodeType===3?(n.previousSibling.nodeValue+=n.nodeType===3?n.nodeValue:n.firstChild.nodeValue,t.removeChild(n)):n.nodeType!==3&&(t.insertBefore(n.firstChild,n),t.removeChild(n))},vt=function(t,i){return parseFloat(i[t])||0},Ed=function(t,i,r,s,n,a,o){var l=Wl(t),h=vt("paddingLeft",l),f=-999,m=vt("borderBottomWidth",l)+vt("borderTopWidth",l),u=vt("borderLeftWidth",l)+vt("borderRightWidth",l),d=vt("paddingTop",l)+vt("paddingBottom",l),g=vt("paddingLeft",l)+vt("paddingRight",l),p=vt("fontSize",l)*(i.lineThreshold||.2),x=l.textAlign,c=[],_=[],y=[],b=i.wordDelimiter||" ",E=i.tag?i.tag:i.span?"span":"div",w=i.type||i.split||"chars,words,lines",A=n&&~w.indexOf("lines")?[]:null,P=~w.indexOf("words"),L=~w.indexOf("chars"),O=ga(i),F=i.linesClass,k=~(F||"").indexOf("++"),B=[],V=l.display==="flex",z=t.style.display,D,I,T,C,R,M,U,$,G,W,q,X;for(k&&(F=F.split("++").join("")),V&&(t.style.display="block"),I=t.getElementsByTagName("*"),T=I.length,R=[],D=0;D<T;D++)R[D]=I[D];if(A||O)for(D=0;D<T;D++)C=R[D],M=C.parentNode===t,(M||O||L&&!P)&&(X=C.offsetTop,A&&M&&Math.abs(X-f)>p&&(C.nodeName!=="BR"||D===0)&&(U=[],A.push(U),f=X),O&&(C._x=C.offsetLeft,C._y=X,C._w=C.offsetWidth,C._h=C.offsetHeight),A&&((C._isSplit&&M||!L&&M||P&&M||!P&&C.parentNode.parentNode===t&&!C.parentNode._isSplit)&&(U.push(C),C._x-=h,Nl(C,t,b)&&(C._wordEnd=!0)),C.nodeName==="BR"&&(C.nextSibling&&C.nextSibling.nodeName==="BR"||D===0)&&A.push([])));for(D=0;D<T;D++){if(C=R[D],M=C.parentNode===t,C.nodeName==="BR"){A||O?(C.parentNode&&C.parentNode.removeChild(C),R.splice(D--,1),T--):P||t.appendChild(C);continue}if(O&&(G=C.style,!P&&!M&&(C._x+=C.parentNode._x,C._y+=C.parentNode._y),G.left=C._x+"px",G.top=C._y+"px",G.position="absolute",G.display="block",G.width=C._w+1+"px",G.height=C._h+"px"),!P&&L)if(C._isSplit)for(C._next=I=C.nextSibling,C.parentNode.appendChild(C);I&&I.nodeType===3&&I.textContent===" ";)C._next=I.nextSibling,C.parentNode.appendChild(I),I=I.nextSibling;else C.parentNode._isSplit?(C._parent=C.parentNode,!C.previousSibling&&C.firstChild&&(C.firstChild._isFirst=!0),C.nextSibling&&C.nextSibling.textContent===" "&&!C.nextSibling.nextSibling&&B.push(C.nextSibling),C._next=C.nextSibling&&C.nextSibling._isFirst?null:C.nextSibling,C.parentNode.removeChild(C),R.splice(D--,1),T--):M||(X=!C.nextSibling&&Nl(C.parentNode,t,b),C.parentNode._parent&&C.parentNode._parent.appendChild(C),X&&C.parentNode.appendChild(Si.createTextNode(" ")),E==="span"&&(C.style.display="inline"),c.push(C));else C.parentNode._isSplit&&!C._isSplit&&C.innerHTML!==""?_.push(C):L&&!C._isSplit&&(E==="span"&&(C.style.display="inline"),c.push(C))}for(D=B.length;--D>-1;)B[D].parentNode.removeChild(B[D]);if(A){for(O&&(W=Si.createElement(E),t.appendChild(W),q=W.offsetWidth+"px",X=W.offsetParent===t?0:t.offsetLeft,t.removeChild(W)),G=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for($=b===" "&&(!O||!P&&!L),D=0;D<A.length;D++){for(U=A[D],W=Si.createElement(E),W.style.cssText="display:block;text-align:"+x+";position:"+(O?"absolute;":"relative;"),F&&(W.className=F+(k?D+1:"")),y.push(W),T=U.length,I=0;I<T;I++)U[I].nodeName!=="BR"&&(C=U[I],W.appendChild(C),$&&C._wordEnd&&W.appendChild(Si.createTextNode(" ")),O&&(I===0&&(W.style.top=C._y+"px",W.style.left=h+X+"px"),C.style.top="0px",X&&(C.style.left=C._x-X+"px")));T===0?W.innerHTML="&nbsp;":!P&&!L&&(xd(W),Yl(W,String.fromCharCode(160)," ")),O&&(W.style.width=q,W.style.height=C._h+"px"),t.appendChild(W)}t.style.cssText=G}O&&(o>t.clientHeight&&(t.style.height=o-d+"px",t.clientHeight<o&&(t.style.height=o+m+"px")),a>t.clientWidth&&(t.style.width=a-g+"px",t.clientWidth<a&&(t.style.width=a+u+"px"))),V&&(z?t.style.display=z:t.style.removeProperty("display")),pa(r,c),P&&pa(s,_),pa(n,y)},Cd=function(t,i,r,s){var n=i.tag?i.tag:i.span?"span":"div",a=i.type||i.split||"chars,words,lines",o=~a.indexOf("chars"),l=ga(i),h=i.wordDelimiter||" ",f=h!==" "?"":l?"&#173; ":" ",m="</"+n+">",u=1,d=i.specialChars?typeof i.specialChars=="function"?i.specialChars:bd:null,g,p,x,c,_,y,b,E,w=Si.createElement("div"),A=t.parentNode;for(A.insertBefore(w,t),w.textContent=t.nodeValue,A.removeChild(t),t=w,g=ca(t),b=g.indexOf("<")!==-1,i.reduceWhiteSpace!==!1&&(g=g.replace(yd," ").replace(vd,"")),b&&(g=g.split("<").join("{{LT}}")),_=g.length,p=(g.charAt(0)===" "?f:"")+r(),x=0;x<_;x++)if(y=g.charAt(x),d&&(E=d(g.substr(x),i.specialChars)))y=g.substr(x,E||1),p+=o&&y!==" "?s()+y+"</"+n+">":y,x+=E-1;else if(y===h&&g.charAt(x-1)!==h&&x){for(p+=u?m:"",u=0;g.charAt(x+1)===h;)p+=f,x++;x===_-1?p+=f:g.charAt(x+1)!==")"&&(p+=f+r(),u=1)}else y==="{"&&g.substr(x,6)==="{{LT}}"?(p+=o?s()+"{{LT}}</"+n+">":"{{LT}}",x+=5):y.charCodeAt(0)>=55296&&y.charCodeAt(0)<=56319||g.charCodeAt(x+1)>=65024&&g.charCodeAt(x+1)<=65039?(c=((g.substr(x,12).split(Ul)||[])[1]||"").length||2,p+=o&&y!==" "?s()+g.substr(x,c)+"</"+n+">":g.substr(x,c),x+=c-1):p+=o&&y!==" "?s()+y+"</"+n+">":y;t.outerHTML=p+(u?m:""),b&&Yl(A,"{{LT}}","<")},Td=function e(t,i,r,s){var n=kr(t.childNodes),a=n.length,o=ga(i),l,h;if(t.nodeType!==3||a>1){for(i.absolute=!1,l=0;l<a;l++)h=n[l],h._next=h._isFirst=h._parent=h._wordEnd=null,(h.nodeType!==3||/\S+/.test(h.nodeValue))&&(o&&h.nodeType!==3&&Wl(h).display==="inline"&&(h.style.display="inline-block",h.style.position="relative"),h._isSplit=!0,e(h,i,r,s));i.absolute=o,t._isSplit=!0;return}Cd(t,i,r,s)},Gi=function(){function e(i,r){$l||Hl(),this.elements=kr(i),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=r||{},Gl(this),_d&&this.split(r)}var t=e.prototype;return t.split=function(r){this.isSplit&&this.revert(),this.vars=r=r||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var s=this.elements.length,n=r.tag?r.tag:r.span?"span":"div",a=Vl(r.wordsClass,n),o=Vl(r.charsClass,n),l,h,f;--s>-1;)f=this.elements[s],this._originals[s]=f.innerHTML,l=f.clientHeight,h=f.clientWidth,Td(f,r,a,o),Ed(f,r,this.chars,this.words,this.lines,h,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},t.revert=function(){var r=this._originals;if(!r)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(s,n){return s.innerHTML=r[n]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},e.create=function(r,s){return new e(r,s)},e}();Gi.version="3.12.2";Gi.register=Hl;var Hi=Te.registerPlugin(Ni)||Te,j0=Hi.core.Tween;var Pe=(e=0,t=1,i)=>Math.min(t,Math.max(e,i));var Ve=(e,t,i,r,s)=>r+(e-t)/(i-t)*(s-r),ql=(e,t,i,r,s)=>{let n=t-e,a=r-i;return i+((s-e)/n*a||0)};var Xl="fonts"in document;function wd(e,t){for(let[i,r]of Object.entries(t))switch(i){case"family":{if(Ir(e[i])!==r)return!1;break}case"weight":{if(e[i]!=r)return!1;break}default:{if(e[i]!==r)return!1;break}}return!0}function Dd(e,t){let i=Ir(e.family);return Ir(i)===t||t.endsWith(Ir(i))&&(t.match(e.weight)||t.match(e.style)),!0}function Pd(e){let t=[];for(let i of document.fonts)wd(i,e)&&t.push(i);return t}function Ad(e){let t=[];for(let i of document.fonts)Dd(i,e)&&t.push(i);return t}function Kl(e){Array.isArray(e)||(e=[e]);let t=new Set;return e.forEach(i=>{if(i)switch(typeof i){case"string":t.add(...Ad(i));return;case"object":t.add(...Pd(i));return}throw new TypeError("Expected font query to be font shorthand or font reference")}),[...t]}function Zl(e,t=!1){return De(this,null,function*(){var i;if(((i=e.size)!=null?i:e.length)===0)throw new TypeError("Expected at least one font");return yield Fd([...e],t)})}function jl(e){return De(this,null,function*(){return yield(e.status==="unloaded"?e.load():e.loaded).then(t=>t,t=>e)})}function Fd(e,t=!1){return De(this,null,function*(){let i=[];for(let r of e)r instanceof FontFace?(document.fonts.has(r)||document.fonts.add(r),i.push(jl(r))):i.push(...Kl(r).map(s=>jl(s)));return t&&console.groupEnd(),yield Promise.all(i)})}function Ir(e){return e.replace(/['"]+/g,"")}function xi(e){return De(this,null,function*(){let t=Kl(e);return yield Promise.all(t.map(i=>i.loaded))})}Hi.registerPlugin(Gi);var va="span",Jl={LINE:"c-fadein-paragraph_line",LINE_INNER:"c-fadein-paragraph_line_inner"},Lr=class extends Z{constructor(e){super(e),this.onResizeBind=this.onResize.bind(this),this.$el=this.el,this.$text=this.$("text")[0],this.$lines=[],this.splits=[],this.lineCount=0,this.oldActiveLine=-1,this.activeLine=-1,this.windowWidth=0,this.progress=0}init(){this.windowWidth=window.innerWidth,this.bindEvents(),xi(ei).then(e=>this.onFontsLoaded(e)),this.$paragraphs=this.$text.querySelectorAll("p")}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeBind)}onResize(){window.innerWidth==this.windowWidth||this.splits.length==0||(this.revertSplits(),requestAnimationFrame(()=>De(this,null,function*(){yield this.initSplits(),requestAnimationFrame(()=>{let e=0;for(;e<this.activeLine;)this.$lines[e].classList.add("is-active"),e++})})))}onFontsLoaded(e){this.initSplits()}onScrollProgress(e=0){this.progress=e;let t=this.progress*this.lineCount,i=Pe(0,this.lineCount-1,Math.floor(t));i!==this.activeLine&&(this.activeLine=i,this.computeActiveLine())}initSplits(){return new Promise(e=>{let t=0,i=0;for(;i<this.$paragraphs.length;){let r=this.$paragraphs[i];this.splits[i]=new Gi(r,{type:"lines",linesClass:Jl.LINE,reduceWhiteSpace:!1,tag:va});let s=0;for(;s<this.splits[i].lines.length;){let a=this.splits[i].lines[s].innerHTML,o=`<${va} class="${Jl.LINE_INNER}" style="--line-index:${t}">${a}</span>`;this.splits[i].lines[s].innerHTML=o,t++,s++}if(i>0){let a=document.createElement(va);a.classList.add("c-fadein-paragraph_line"),a.classList.add("-empty"),r.prepend(a),this.lineCount++,this.$lines.push(a)}let n=this.splits[i].lines;this.lineCount+=n.length,this.$lines.push(...n),i++}requestAnimationFrame(()=>{this.onScrollProgress(this.progress),e("resolved")})})}revertSplits(){let e=0;for(;e<this.$paragraphs.length;)this.splits[e].revert(),e++;this.$lines=[],this.lineCount=0,this.oldActiveLine=-1,this.activeLine=-1}computeActiveLine(){var e,t;this.oldActiveLine<this.activeLine?(this.$lines[this.activeLine].classList.add("is-active"),(e=this.$lines[this.activeLine-1])==null||e.classList.add("is-active")):(this.$lines[this.activeLine+1].classList.remove("is-active"),(t=this.$lines[this.activeLine+2])==null||t.classList.remove("is-active")),this.oldActiveLine=this.activeLine}};var Ql=(e,t)=>{for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(i){for(var r=(this.document||this.ownerDocument).querySelectorAll(i),s=r.length;--s>=0&&r.item(s)!==this;);return s>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null};var yt={IDLE:"-idle",PROCESSING:"-processing",SENDING:"-sending",INVALID:"-invalid",ERRORED:"-errored",COMPLETED:"-completed"},ya={CRITICAL:"An error occurred. Please try again later"},Br=class extends Z{constructor(e){var t;super(e),this.onHandleSubmitBind=this.onHandleSubmit.bind(this),this.$el=this.el,this.$submit=this.$("submit")[0],this.$form=this.$("form")[0],this.$error=this.$("error")[0],this.$success=this.$("success")[0],this.sitekey=((t=window.app)==null?void 0:t.recaptchaPublicKey)||!1,this.useRecaptcha=this.getData("use-recaptcha")||!1,this.badgeContainerId="grecaptcha-container-id"}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){this.$form.addEventListener("submit",this.onHandleSubmitBind)}unbindEvents(){this.$form.removeEventListener("submit",this.onHandleSubmitBind)}onHandleSubmit(e){if(e.preventDefault(),this.setState(yt.IDLE),this.submitEvent=e,this.formData=this.getFormData(e.target),!this.validateForm())return!1;this.useRecaptcha&&this.sitekey?(window.hasRenderedRecaptcha||(this.clientId=grecaptcha.render(this.badgeContainerId,{sitekey:this.sitekey,theme:"dark",size:"invisible",badge:"inline"}),window.hasRenderedRecaptcha=!0),grecaptcha.ready(()=>{grecaptcha.execute(this.clientId).then(t=>this.processForm(t))})):this.processForm()}validateForm(){let e=!0;return[...this.submitEvent.target.elements].forEach(t=>{if(t.tagName==="BUTTON")return;let i=t.getAttribute("required"),r=t.getAttribute("name"),s=this.formData.get(r),n=t.getAttribute("type")||"text",a=Ql(t,".c-form_item")||t,o=a.querySelector(".c-form_item_error");a.classList.contains("has-error")&&(a.classList.remove("has-error"),o&&(o.ariaHidden=!0)),r==="postalCode"&&!s.match(/(^\d{5}$)|(^\d{5}-\d{4}$)/)&&(a.classList.add("has-error"),o&&(o.ariaHidden=!1),e=!1),!(i===null||n!=="email"&&s&&s.length!==0||n==="email"&&s)&&(e=!1,a.classList.add("has-error"),o&&(o.ariaHidden=!0))}),e}processForm(e){if([yt.PROCESSING,yt.SENDING].includes(this.formState))return console.warn("Form is busy"),!1;e&&this.formData.append("g-recaptcha-response",e),this.setState(yt.PROCESSING);try{this.submitForm()}catch(t){console.error("[App.Form.handleSubmit]",t),this.setState(yt.ERRORED),this.setErrorMessage(ya.CRITICAL)}}submitForm(){if(this.formState===yt.SENDING)return console.warn("Form is already sending"),!1;if(!this.submitEvent)throw new Error("Missing submit event object");this.setState(yt.SENDING);let e=this.submitEvent.target,t=e.action,i=new AbortController,r=this.badgeContainerId;fetch(t,{method:e.method,body:this.formData,signal:i.signal}).then(s=>s.json()).then(s=>{s&&s.success&&(i.abort(),this.setState(yt.COMPLETED),this.$success.ariaHidden=!1),s&&s.errors!=""&&(this.serverErrorMessages=Ki({},s.errors),this.serverErrors=s.errors,this.setState(yt.ERRORED),this.setErrorMessage(ya.CRITICAL),this.$error.ariaHidden=!1)}).catch(s=>{console.error("[App.Form.submitForm]",s),this.setState(yt.ERRORED),this.setErrorMessage(ya.CRITICAL)})}getFormData(e){return new FormData(e)}setState(e){let t=this.formState;this.formState=e,this.$form.classList.remove(t),this.$form.classList.add(this.formState)}setErrorMessage(e){this.$error?this.$error.innerHTML=e:console.warn(e)}clearErrorMessage(){this.$error&&(this.$error.innerHTML="")}suspendForm(){}resumeForm(){}};var Je=Te.registerPlugin(Ni)||Te,U_=Je.core.Tween;var Md=699,kd=.5,eh={DESKTOP:.2,MOBILE:.6},Rr=class extends Z{constructor(e){super(e),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.$el=this.el,this.$shapes=this.$("shape"),this.$introduction=this.$("introduction")[0],this.$progressArea=this.$("progressArea")[0],this.isMobile=!1,this.isRafPlaying=!1,this.isInview=!1,this.progress={start:0,end:1,current:0,currentSmooth:0,oldSmooth:0},this.transform={startTranslate:-1,endTranslate:0,currentTranslate:0,startScale:1,endScale:1,currentScale:1,velocity:0,smoothVelocity:0,lerp:.2}}init(){this.bindEvents(),this.computeMetrics(),this.computeTransform()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind)}onResizeEnd(){requestAnimationFrame(()=>{this.computeMetrics(),this.onUpdate()})}onInview(e){this.isInview=e.way==="enter",this.isInview?this.play():this.transform.velocity=0}onProgress(e){this.progress.current=Pe(0,1,Ve(e,this.progress.start,this.progress.end,0,1))}onUpdate(){this.progress.currentSmooth+=(this.progress.current-this.progress.currentSmooth)*this.transform.lerp,this.progress.currentSmooth=(1e3*(this.progress.currentSmooth+.001)|0)/1e3,this.transform.velocity=1e3*(this.progress.currentSmooth-this.progress.oldSmooth),this.transform.smoothVelocity+=(this.transform.velocity-this.transform.smoothVelocity)*this.transform.lerp,this.transform.smoothVelocity=(1e3*(this.transform.smoothVelocity+.001)|0)/1e3,this.progress.oldSmooth=this.progress.currentSmooth,this.computeTransform(),!this.isInview&&Math.round(this.transform.smoothVelocity)===0&&(this.rafIncrement++,this.rafIncrement>=30&&this.pause())}computeMetrics(){window.innerWidth>Md?(this.transform.startScale=eh.DESKTOP,this.transform.startTranslate=this.$introduction.clientWidth/2+.05*window.innerWidth,this.progress.end=1):(this.transform.startScale=eh.MOBILE,this.transform.startTranslate=window.innerWidth/2,this.progress.end=.6*window.innerHeight/this.$progressArea.clientHeight)}computeTransform(){this.transform.currentTranslate=(1-this.progress.currentSmooth)*this.transform.startTranslate,this.transform.currentScale=Pe(this.transform.startScale,this.transform.endScale,Ve(this.progress.currentSmooth,0,1,this.transform.startScale,this.transform.endScale));let e=0;for(;e<this.$shapes.length;){let t=this.transform.smoothVelocity*(e%(this.$shapes.length/2))*kd,i=0;e<this.$shapes.length/2?i=-this.transform.currentTranslate-t:i=this.transform.currentTranslate+t,this.$shapes[e].style.transform=`translate3d(${i}px, ${-t}px, 0) scale3d(${this.transform.currentScale}, ${this.transform.currentScale}, 1)`,e++}}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Je.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Je.ticker.remove(this.onUpdateBind))}};var zr=class extends Z{constructor(e){super(e)}onScrollProgress(e){this.call("onProgress",e,"HeroAbout")}};var _a=999,Or=class extends Z{constructor(e){super(e),this.onResizeBind=this.onResize.bind(this),this.onBreakPointChangeBind=this.onBreakPointChange.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.onScrollBind=this.onScroll.bind(this),this.$item=this.$("item"),this.$container=this.el,this.$grid=this.$("grid")[0],this.$sticky=this.$("sticky")[0],this.containerWidth=0,this.containerHeight=0,this.breakpoint=window.matchMedia(`(min-width: ${_a}px)`),this.lerp=.3,this.progress=0,this.smoothProgress=0,this.isRafPlaying=!1,this.isInview=!1,this.enableSticky=!0,this.isFirstInit=!0}init(){this.bindEvents(),this.onBreakPointChange()}destroy(){this.unbindEvents()}bindEvents(){window.addEventListener("resize",this.onResizeBind),document.addEventListener("scroll",this.onScrollBind),"addEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"addListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}unbindEvents(){window.removeEventListener("resize",this.onResizeBind),document.removeEventListener("scroll",this.onScrollBind),"removeEventListener"in this.breakpoint?this.breakpoint.addEventListener("change",this.onBreakPointChangeBind):"removeListener"in this.breakpoint&&this.breakpoint.addListener(this.onBreakPointChangeBind)}onResize(){window.innerWidth>_a&&(this.computeContainerHeight(),this.computeStickyTop())}onBreakPointChange(e){this.breakpoint.matches===!0?this.isFirstInit&&(this.computeContainerHeight(),this.enableSticky&&this.computeStickyTop(),this.isFirstInit=!1):this.breakpoint.matches===!1&&window.requestAnimationFrame(()=>{this.reset()})}onInview(e){this.isInview=e.way==="enter"}onScrollProgress(e){window.innerWidth<=_a||!this.enableSticky||(this.progress=e)}onScroll(){this.isInview&&this.play()}onUpdate(){this.smoothProgress+=(this.progress-this.smoothProgress)*this.lerp,this.smoothProgress=(1e3*(this.smoothProgress+.001)|0)/1e3,this.translateHorizontalCars(this.smoothProgress),Math.round(this.smoothProgress)===Math.round(this.progress)&&(this.rafIncrement++,this.rafIncrement>=50&&this.pause())}translateHorizontalCars(e){let t=ql(0,1,0,-(this.containerWidth-window.innerWidth),e);this.$grid.style.transform=`translate3d(${t}px, 0, 0)`}computeStickyTop(){let e=window.innerHeight/2-this.$grid.offsetHeight/2;this.$sticky.style.setProperty("--sticky-top",`${e}px`)}computeContainerHeight(){if(this.containerWidth=this.$grid.offsetWidth,this.containerWidth<=window.innerWidth)return this.enableSticky=!1,this.reset();this.enableSticky=!0,this.containerHeight=Math.max(window.innerHeight+this.containerWidth-window.innerWidth,this.containerWidth-window.innerWidth),this.$container.style.height=`${this.containerHeight}px`}reset(){this.$grid.style.transform="",this.$container.style.height="",this.$sticky.style.setProperty("--sticky-top","0")}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Je.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Je.ticker.remove(this.onUpdateBind))}};var Ur=class extends Z{constructor(e){super(e),this.$container=this.$("container")[0],this.$list=this.$("list")[0],this.$items=this.$("item"),this.$filters=this.$("filter"),this.events={click:{filter:"onFilterClick",sort:"onSortClick"}}}init(){}destroy(){super.destroy()}onFilterClick(e){return De(this,null,function*(){let t=e.curTarget,i=t.dataset.category;if(i==null){console.warn("Error: no category id provided");return}this.call("scrollTo",{target:this.$list,options:{duration:1,offset:-120}},"Scroll"),this.computeActiveFilter(t),this.hideList(),yield this.filterItems(i),this.showList()})}onSortClick(e){let t=e.curTarget,i=t.dataset.slug;if(i==null){console.warn("Error: no slug provided");return}let r=parseInt(t.dataset.order),s=r==0?1:-1*r;this.sortItems(i,s),t.dataset.order=s}computeActiveFilter(e){Array.from(this.$filters).find(i=>i.classList.contains("is-active")).classList.remove("is-active"),e.classList.add("is-active")}hideList(){this.$container.classList.add("is-loading")}showList(){this.$container.classList.remove("is-loading")}filterItems(e){return new Promise((t,i)=>{Hi.delayedCall(1,()=>{let r=0;this.$items.forEach(s=>{e=="all"||s.dataset.category==e?s.classList.remove("is-hidden"):s.classList.add("is-hidden")}),t()})})}sortItems(e,t){let i=Array.from(this.$items).sort((r,s)=>r.dataset[e]<s.dataset[e]?t*-1:r.dataset[e]>s.dataset[e]?t:0);for(let r of i)this.$list.appendChild(r)}};function Id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function th(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(e,t,i){return t&&th(e.prototype,t),i&&th(e,i),e}function Bd(e,t){return Rd(e)||zd(e,t)||Od(e,t)||Ud()}function Rd(e){if(Array.isArray(e))return e}function zd(e,t){var i=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var r=[],s=!0,n=!1,a,o;try{for(i=i.call(e);!(s=(a=i.next()).done)&&(r.push(a.value),!(t&&r.length===t));s=!0);}catch(l){n=!0,o=l}finally{try{!s&&i.return!=null&&i.return()}finally{if(n)throw o}}return r}}function Od(e,t){if(e){if(typeof e=="string")return ih(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ih(e,t)}}function ih(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Ud(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Vd=function(){function e(t){Id(this,e),this.defaults={name:"load",loadingClass:"is-loading",loadedClass:"is-loaded",readyClass:"is-ready",transitionsPrefix:"is-",transitionsHistory:!0,enterDelay:0,exitDelay:0,loadedDelay:0,isLoaded:!1,isEntered:!1,isUrl:!1,transitionContainer:null,popstateIgnore:!1},Object.assign(this,this.defaults,t),this.options=t,this.namespace="modular",this.html=document.documentElement,this.href=window.location.href,this.container="data-"+this.name+"-container",this.subContainer=!1,this.prevTransition=null,this.loadAttributes=["src","srcset","style","href"],this.isInserted=!1,this.isLoading=!1,this.enterTimeout=!1,this.controller=new AbortController,this.classContainer=this.html,this.isChrome=navigator.userAgent.indexOf("Chrome")!=-1,this.init()}return Ld(e,[{key:"init",value:function(){var i=this;window.addEventListener("popstate",function(r){return i.checkState(r)},!1),this.html.addEventListener("click",function(r){return i.checkClick(r)},!1),this.loadEls(document)}},{key:"checkClick",value:function(i){if(!i.ctrlKey&&!i.metaKey)for(var r=i.target;r&&r!==document;){if(r.matches("a")&&r.getAttribute("download")==null){var s=r.getAttribute("href");!s.startsWith("#")&&!s.startsWith("mailto:")&&!s.startsWith("tel:")&&(i.preventDefault(),this.reset(),this.getClickOptions(r));break}r=r.parentNode}}},{key:"checkState",value:function(){typeof this.popstateIgnore=="string"&&window.location.href.indexOf(this.popstateIgnore)>-1||(this.reset(),this.getStateOptions())}},{key:"reset",value:function(){this.isLoading&&(this.controller.abort(),this.isLoading=!1,this.controller=new AbortController),window.clearTimeout(this.enterTimeout),this.isInserted&&this.removeContainer(),this.classContainer=this.html,Object.assign(this,this.defaults,this.options)}},{key:"getClickOptions",value:function(i){this.transition=i.getAttribute("data-"+this.name),this.isUrl=i.getAttribute("data-"+this.name+"-url");var r=i.getAttribute("href"),s=i.getAttribute("target");if(s=="_blank"){window.open(r,"_blank");return}if(this.transition=="false"){window.location=r;return}this.setOptions(r,!0)}},{key:"getStateOptions",value:function(){this.transitionsHistory?this.transition=history.state:this.transition=!1;var i=window.location.href;this.setOptions(i)}},{key:"goTo",value:function(i,r,s){this.reset(),this.transition=r,this.isUrl=s,this.setOptions(i,!0)}},{key:"setOptions",value:function(i,r){var s="["+this.container+"]",n;this.transition&&this.transition!="true"&&(this.transitionContainer="["+this.container+'="'+this.transition+'"]',this.loadingClass=this.transitions[this.transition].loadingClass||this.loadingClass,this.loadedClass=this.transitions[this.transition].loadedClass||this.loadedClass,this.readyClass=this.transitions[this.transition].readyClass||this.readyClass,this.transitionsPrefix=this.transitions[this.transition].transitionsPrefix||this.transitionsPrefix,this.enterDelay=this.transitions[this.transition].enterDelay||this.enterDelay,this.exitDelay=this.transitions[this.transition].exitDelay||this.exitDelay,this.loadedDelay=this.transitions[this.transition].loadedDelay||this.loadedDelay,n=document.querySelector(this.transitionContainer)),n?(s=this.transitionContainer,this.oldContainer=n,this.classContainer=this.oldContainer.parentNode,this.subContainer||history.replaceState(this.transition,null,this.href),this.subContainer=!0):(this.oldContainer=document.querySelector(s),this.subContainer&&history.replaceState(this.prevTransition,null,this.href),this.subContainer=!1),this.href=i,this.parentContainer=this.oldContainer.parentNode,this.isUrl===""||this.isUrl!=null&&this.isUrl!="false"&&this.isUrl!=!1?history.pushState(this.transition,null,i):(this.oldContainer.classList.add("is-old"),this.setLoading(),this.startEnterDelay(),this.loadHref(i,s,r))}},{key:"setLoading",value:function(){this.classContainer.classList.remove(this.loadedClass,this.readyClass),this.classContainer.classList.add(this.loadingClass),this.classContainer.classList.remove(this.transitionsPrefix+this.prevTransition),this.transition&&this.classContainer.classList.add(this.transitionsPrefix+this.transition),this.subContainer||(this.prevTransition=this.transition);var i=new Event(this.namespace+"loading");window.dispatchEvent(i)}},{key:"startEnterDelay",value:function(){var i=this;this.enterTimeout=window.setTimeout(function(){i.isEntered=!0,i.isLoaded&&i.transitionContainers()},this.enterDelay)}},{key:"loadHref",value:function(i,r,s){var n=this;this.isLoading=!0;var a=this.controller.signal;fetch(i,{signal:a}).then(function(o){return o.text()}).then(function(o){s&&history.pushState(n.transition,null,i);var l=new DOMParser;n.data=l.parseFromString(o,"text/html"),n.newContainer=n.data.querySelector(r),n.newContainer.classList.add("is-new"),n.parentNewContainer=n.newContainer.parentNode,n.hideContainer(),n.parentContainer.insertBefore(n.newContainer,n.oldContainer),n.isInserted=!0,n.setSvgs(),n.isLoaded=!0,n.isEntered&&n.transitionContainers(),n.loadEls(n.newContainer),n.isLoading=!1}).catch(function(o){window.location=i})}},{key:"transitionContainers",value:function(){var i=this;this.setAttributes(),this.showContainer(),this.setLoaded(),setTimeout(function(){i.removeContainer(),i.setReady()},this.exitDelay)}},{key:"setSvgs",value:function(){if(this.isChrome){var i=this.newContainer.querySelectorAll("use");i.length&&i.forEach(function(r){var s=r.getAttribute("xlink:href");if(s)r.parentNode.innerHTML='<use xlink:href="'+s+'"></use>';else{var n=r.getAttribute("href");n&&(r.parentNode.innerHTML='<use href="'+n+'"></use>')}})}}},{key:"setAttributes",value:function(){var i=this,r=this.data.getElementsByTagName("title")[0],s=this.data.head.querySelector('meta[name="description"]'),n=document.head.querySelector('meta[name="description"]'),a,o;this.subContainer?(o=this.parentNewContainer,a=document.querySelector(this.transitionContainer).parentNode):(o=this.data.querySelector("html"),a=document.querySelector("html"));var l=Object.assign({},o.dataset);r&&(document.title=r.innerText),n&&s&&n.setAttribute("content",s.getAttribute("content")),l&&Object.entries(l).forEach(function(h){var f=Bd(h,2),m=f[0],u=f[1];a.setAttribute("data-"+i.toDash(m),u)})}},{key:"toDash",value:function(i){return i.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"hideContainer",value:function(){this.newContainer.style.visibility="hidden",this.newContainer.style.height=0,this.newContainer.style.overflow="hidden"}},{key:"showContainer",value:function(){this.newContainer.style.visibility="",this.newContainer.style.height="",this.newContainer.style.overflow=""}},{key:"loadEls",value:function(i){var r=this,s=[];this.loadAttributes.forEach(function(n){var a="data-"+r.name+"-"+n,o=i.querySelectorAll("["+a+"]");o.length&&o.forEach(function(l){var h=l.getAttribute(a);if(l.setAttribute(n,h),n=="src"||n=="srcset"){var f=new Promise(function(m){l.onload=function(){return m(l)}});s.push(f)}})}),Promise.all(s).then(function(n){var a=new Event(r.namespace+"images");window.dispatchEvent(a)})}},{key:"setLoaded",value:function(){var i=this;this.classContainer.classList.remove(this.loadingClass),setTimeout(function(){i.classContainer.classList.add(i.loadedClass)},this.loadedDelay);var r=new Event(this.namespace+"loaded");window.dispatchEvent(r)}},{key:"removeContainer",value:function(){this.parentContainer.removeChild(this.oldContainer),this.newContainer.classList.remove("is-new"),this.isInserted=!1}},{key:"setReady",value:function(){this.classContainer.classList.add(this.readyClass);var i=new Event(this.namespace+"ready");window.dispatchEvent(i)}},{key:"on",value:function(i,r){var s=this;window.addEventListener(this.namespace+i,function(){switch(i){case"loading":return r(s.transition,s.oldContainer);case"loaded":return r(s.transition,s.oldContainer,s.newContainer);case"ready":return r(s.transition,s.newContainer);default:return r()}},!1)}}]),e}(),rh=Vd;var Vr=class extends Z{constructor(e){super(e)}init(){this.load=new rh({enterDelay:500,transitions:{menu:{enterDelay:50},listing:{enterDelay:500}}}),this.load.on("loading",(e,t)=>{e=="menu"&&te.classList.add("menu-loading-transition"),e=="listing"&&(this.call("removeScrollElements",t,"Scroll"),this.call("scrollTo",{target:t.parentNode,options:{duration:1}},"Scroll"))}),this.load.on("loaded",(e,t,i)=>{this.call("destroy",t,"app"),this.call("update",i,"app")}),this.load.on("ready",(e,t)=>{this.call("close",null,"ModalMenu"),setTimeout(()=>{this.call("updateCurrentItem",null,"ModalMenu")},400),e=="menu"&&te.classList.remove("menu-loading-transition"),e=="listing"&&this.call("addScrollElements",t,"Scroll")})}};var nh=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Nr=nh.join(","),ah=typeof Element=="undefined",ti=ah?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$r=!ah&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Gr=function e(t,i){var r;i===void 0&&(i=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),n=s===""||s==="true",a=n||i&&t&&e(t.parentNode);return a},Nd=function(t){var i,r=t==null||(i=t.getAttribute)===null||i===void 0?void 0:i.call(t,"contenteditable");return r===""||r==="true"},oh=function(t,i,r){if(Gr(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Nr));return i&&ti.call(t,Nr)&&s.unshift(t),s=s.filter(r),s},lh=function e(t,i,r){for(var s=[],n=Array.from(t);n.length;){var a=n.shift();if(!Gr(a,!1))if(a.tagName==="SLOT"){var o=a.assignedElements(),l=o.length?o:a.children,h=e(l,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:a,candidates:h})}else{var f=ti.call(a,Nr);f&&r.filter(a)&&(i||!t.includes(a))&&s.push(a);var m=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),u=!Gr(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(m&&u){var d=e(m===!0?a.children:m.children,!0,r);r.flatten?s.push.apply(s,d):s.push({scopeParent:a,candidates:d})}else n.unshift.apply(n,a.children)}}return s},hh=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ut=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Nd(t))&&!hh(t)?0:t.tabIndex},$d=function(t,i){var r=Ut(t);return r<0&&i&&!hh(t)?0:r},Gd=function(t,i){return t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex},fh=function(t){return t.tagName==="INPUT"},Hd=function(t){return fh(t)&&t.type==="hidden"},Wd=function(t){var i=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return i},Yd=function(t,i){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===i)return t[r]},qd=function(t){if(!t.name)return!0;var i=t.form||$r(t),r=function(o){return i.querySelectorAll('input[type="radio"][name="'+o+'"]')},s;if(typeof window!="undefined"&&typeof window.CSS!="undefined"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var n=Yd(s,t.form);return!n||n===t},jd=function(t){return fh(t)&&t.type==="radio"},Xd=function(t){return jd(t)&&!qd(t)},Kd=function(t){var i,r=t&&$r(t),s=(i=r)===null||i===void 0?void 0:i.host,n=!1;if(r&&r!==t){var a,o,l;for(n=!!((a=s)!==null&&a!==void 0&&(o=a.ownerDocument)!==null&&o!==void 0&&o.contains(s)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!n&&s;){var h,f,m;r=$r(s),s=(h=r)===null||h===void 0?void 0:h.host,n=!!((f=s)!==null&&f!==void 0&&(m=f.ownerDocument)!==null&&m!==void 0&&m.contains(s))}}return n},sh=function(t){var i=t.getBoundingClientRect(),r=i.width,s=i.height;return r===0&&s===0},Zd=function(t,i){var r=i.displayCheck,s=i.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var n=ti.call(t,"details>summary:first-of-type"),a=n?t.parentElement:t;if(ti.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var o=t;t;){var l=t.parentElement,h=$r(t);if(l&&!l.shadowRoot&&s(l)===!0)return sh(t);t.assignedSlot?t=t.assignedSlot:!l&&h!==t.ownerDocument?t=h.host:t=l}t=o}if(Kd(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return sh(t);return!1},Jd=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var i=t.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var s=i.children.item(r);if(s.tagName==="LEGEND")return ti.call(i,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}i=i.parentElement}return!1},Hr=function(t,i){return!(i.disabled||Gr(i)||Hd(i)||Zd(i,t)||Wd(i)||Jd(i))},ba=function(t,i){return!(Xd(i)||Ut(i)<0||!Hr(t,i))},Qd=function(t){var i=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},ec=function e(t){var i=[],r=[];return t.forEach(function(s,n){var a=!!s.scopeParent,o=a?s.scopeParent:s,l=$d(o,a),h=a?e(s.candidates):o;l===0?a?i.push.apply(i,h):i.push(o):r.push({documentOrder:n,tabIndex:l,item:s,isScope:a,content:h})}),r.sort(Gd).reduce(function(s,n){return n.isScope?s.push.apply(s,n.content):s.push(n.content),s},[]).concat(i)},uh=function(t,i){i=i||{};var r;return i.getShadowRoot?r=lh([t],i.includeContainer,{filter:ba.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:Qd}):r=oh(t,i.includeContainer,ba.bind(null,i)),ec(r)},dh=function(t,i){i=i||{};var r;return i.getShadowRoot?r=lh([t],i.includeContainer,{filter:Hr.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=oh(t,i.includeContainer,Hr.bind(null,i)),r},ii=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return ti.call(t,Nr)===!1?!1:ba(i,t)},tc=nh.concat("iframe").join(","),Wr=function(t,i){if(i=i||{},!t)throw new Error("No node provided");return ti.call(t,tc)===!1?!1:Hr(i,t)};function ch(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,r)}return i}function ph(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ch(Object(i),!0).forEach(function(r){ic(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ch(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function ic(e,t,i){return t=sc(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rc(e,t){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sc(e){var t=rc(e,"string");return typeof t=="symbol"?t:String(t)}var mh={activateTrap:function(t,i){if(t.length>0){var r=t[t.length-1];r!==i&&r.pause()}var s=t.indexOf(i);s===-1||t.splice(s,1),t.push(i)},deactivateTrap:function(t,i){var r=t.indexOf(i);r!==-1&&t.splice(r,1),t.length>0&&t[t.length-1].unpause()}},nc=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},ac=function(t){return(t==null?void 0:t.key)==="Escape"||(t==null?void 0:t.key)==="Esc"||(t==null?void 0:t.keyCode)===27},Yi=function(t){return(t==null?void 0:t.key)==="Tab"||(t==null?void 0:t.keyCode)===9},oc=function(t){return Yi(t)&&!t.shiftKey},lc=function(t){return Yi(t)&&t.shiftKey},gh=function(t){return setTimeout(t,0)},vh=function(t,i){var r=-1;return t.every(function(s,n){return i(s)?(r=n,!1):!0}),r},Wi=function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return typeof t=="function"?t.apply(void 0,r):t},Yr=function(t){return t.target.shadowRoot&&typeof t.composedPath=="function"?t.composedPath()[0]:t.target},hc=[],yh=function(t,i){var r=(i==null?void 0:i.document)||document,s=(i==null?void 0:i.trapStack)||hc,n=ph({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:oc,isKeyBackward:lc},i),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},o,l=function(F,k,B){return F&&F[k]!==void 0?F[k]:n[B||k]},h=function(F,k){var B=typeof(k==null?void 0:k.composedPath)=="function"?k.composedPath():void 0;return a.containerGroups.findIndex(function(V){var z=V.container,D=V.tabbableNodes;return z.contains(F)||(B==null?void 0:B.includes(z))||D.find(function(I){return I===F})})},f=function(F){var k=n[F];if(typeof k=="function"){for(var B=arguments.length,V=new Array(B>1?B-1:0),z=1;z<B;z++)V[z-1]=arguments[z];k=k.apply(void 0,V)}if(k===!0&&(k=void 0),!k){if(k===void 0||k===!1)return k;throw new Error("`".concat(F,"` was specified but was not a node, or did not return a node"))}var D=k;if(typeof k=="string"&&(D=r.querySelector(k),!D))throw new Error("`".concat(F,"` as selector refers to no known node"));return D},m=function(){var F=f("initialFocus");if(F===!1)return!1;if(F===void 0||!Wr(F,n.tabbableOptions))if(h(r.activeElement)>=0)F=r.activeElement;else{var k=a.tabbableGroups[0],B=k&&k.firstTabbableNode;F=B||f("fallbackFocus")}if(!F)throw new Error("Your focus-trap needs to have at least one focusable element");return F},u=function(){if(a.containerGroups=a.containers.map(function(F){var k=uh(F,n.tabbableOptions),B=dh(F,n.tabbableOptions),V=k.length>0?k[0]:void 0,z=k.length>0?k[k.length-1]:void 0,D=B.find(function(C){return ii(C)}),I=B.findLast(function(C){return ii(C)}),T=!!k.find(function(C){return Ut(C)>0});return{container:F,tabbableNodes:k,focusableNodes:B,posTabIndexesFound:T,firstTabbableNode:V,lastTabbableNode:z,firstDomTabbableNode:D,lastDomTabbableNode:I,nextTabbableNode:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=k.indexOf(R);return U<0?M?B.slice(B.indexOf(R)+1).find(function($){return ii($)}):B.slice(0,B.indexOf(R)).findLast(function($){return ii($)}):k[U+(M?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(F){return F.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(F){return F.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},d=function O(F){if(F!==!1&&F!==r.activeElement){if(!F||!F.focus){O(m());return}F.focus({preventScroll:!!n.preventScroll}),a.mostRecentlyFocusedNode=F,nc(F)&&F.select()}},g=function(F){var k=f("setReturnFocus",F);return k||(k===!1?!1:F)},p=function(F){var k=F.target,B=F.event,V=F.isBackward,z=V===void 0?!1:V;k=k||Yr(B),u();var D=null;if(a.tabbableGroups.length>0){var I=h(k,B),T=I>=0?a.containerGroups[I]:void 0;if(I<0)z?D=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:D=a.tabbableGroups[0].firstTabbableNode;else if(z){var C=vh(a.tabbableGroups,function(W){var q=W.firstTabbableNode;return k===q});if(C<0&&(T.container===k||Wr(k,n.tabbableOptions)&&!ii(k,n.tabbableOptions)&&!T.nextTabbableNode(k,!1))&&(C=I),C>=0){var R=C===0?a.tabbableGroups.length-1:C-1,M=a.tabbableGroups[R];D=Ut(k)>=0?M.lastTabbableNode:M.lastDomTabbableNode}else Yi(B)||(D=T.nextTabbableNode(k,!1))}else{var U=vh(a.tabbableGroups,function(W){var q=W.lastTabbableNode;return k===q});if(U<0&&(T.container===k||Wr(k,n.tabbableOptions)&&!ii(k,n.tabbableOptions)&&!T.nextTabbableNode(k))&&(U=I),U>=0){var $=U===a.tabbableGroups.length-1?0:U+1,G=a.tabbableGroups[$];D=Ut(k)>=0?G.firstTabbableNode:G.firstDomTabbableNode}else Yi(B)||(D=T.nextTabbableNode(k))}}else D=f("fallbackFocus");return D},x=function(F){var k=Yr(F);if(!(h(k,F)>=0)){if(Wi(n.clickOutsideDeactivates,F)){o.deactivate({returnFocus:n.returnFocusOnDeactivate});return}Wi(n.allowOutsideClick,F)||F.preventDefault()}},c=function(F){var k=Yr(F),B=h(k,F)>=0;if(B||k instanceof Document)B&&(a.mostRecentlyFocusedNode=k);else{F.stopImmediatePropagation();var V,z=!0;if(a.mostRecentlyFocusedNode)if(Ut(a.mostRecentlyFocusedNode)>0){var D=h(a.mostRecentlyFocusedNode),I=a.containerGroups[D].tabbableNodes;if(I.length>0){var T=I.findIndex(function(C){return C===a.mostRecentlyFocusedNode});T>=0&&(n.isKeyForward(a.recentNavEvent)?T+1<I.length&&(V=I[T+1],z=!1):T-1>=0&&(V=I[T-1],z=!1))}}else a.containerGroups.some(function(C){return C.tabbableNodes.some(function(R){return Ut(R)>0})})||(z=!1);else z=!1;z&&(V=p({target:a.mostRecentlyFocusedNode,isBackward:n.isKeyBackward(a.recentNavEvent)})),d(V||a.mostRecentlyFocusedNode||m())}a.recentNavEvent=void 0},_=function(F){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=F;var B=p({event:F,isBackward:k});B&&(Yi(F)&&F.preventDefault(),d(B))},y=function(F){if(ac(F)&&Wi(n.escapeDeactivates,F)!==!1){F.preventDefault(),o.deactivate();return}(n.isKeyForward(F)||n.isKeyBackward(F))&&_(F,n.isKeyBackward(F))},b=function(F){var k=Yr(F);h(k,F)>=0||Wi(n.clickOutsideDeactivates,F)||Wi(n.allowOutsideClick,F)||(F.preventDefault(),F.stopImmediatePropagation())},E=function(){if(a.active)return mh.activateTrap(s,o),a.delayInitialFocusTimer=n.delayInitialFocus?gh(function(){d(m())}):d(m()),r.addEventListener("focusin",c,!0),r.addEventListener("mousedown",x,{capture:!0,passive:!1}),r.addEventListener("touchstart",x,{capture:!0,passive:!1}),r.addEventListener("click",b,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),o},w=function(){if(a.active)return r.removeEventListener("focusin",c,!0),r.removeEventListener("mousedown",x,!0),r.removeEventListener("touchstart",x,!0),r.removeEventListener("click",b,!0),r.removeEventListener("keydown",y,!0),o},A=function(F){var k=F.some(function(B){var V=Array.from(B.removedNodes);return V.some(function(z){return z===a.mostRecentlyFocusedNode})});k&&d(m())},P=typeof window!="undefined"&&"MutationObserver"in window?new MutationObserver(A):void 0,L=function(){P&&(P.disconnect(),a.active&&!a.paused&&a.containers.map(function(F){P.observe(F,{subtree:!0,childList:!0})}))};return o={get active(){return a.active},get paused(){return a.paused},activate:function(F){if(a.active)return this;var k=l(F,"onActivate"),B=l(F,"onPostActivate"),V=l(F,"checkCanFocusTrap");V||u(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,k==null||k();var z=function(){V&&u(),E(),L(),B==null||B()};return V?(V(a.containers.concat()).then(z,z),this):(z(),this)},deactivate:function(F){if(!a.active)return this;var k=ph({onDeactivate:n.onDeactivate,onPostDeactivate:n.onPostDeactivate,checkCanReturnFocus:n.checkCanReturnFocus},F);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,w(),a.active=!1,a.paused=!1,L(),mh.deactivateTrap(s,o);var B=l(k,"onDeactivate"),V=l(k,"onPostDeactivate"),z=l(k,"checkCanReturnFocus"),D=l(k,"returnFocus","returnFocusOnDeactivate");B==null||B();var I=function(){gh(function(){D&&d(g(a.nodeFocusedBeforeActivation)),V==null||V()})};return D&&z?(z(g(a.nodeFocusedBeforeActivation)).then(I,I),this):(I(),this)},pause:function(F){if(a.paused||!a.active)return this;var k=l(F,"onPause"),B=l(F,"onPostPause");return a.paused=!0,k==null||k(),w(),L(),B==null||B(),this},unpause:function(F){if(!a.paused||!a.active)return this;var k=l(F,"onUnpause"),B=l(F,"onPostUnpause");return a.paused=!1,k==null||k(),u(),E(),L(),B==null||B(),this},updateContainerElements:function(F){var k=[].concat(F).filter(Boolean);return a.containers=k.map(function(B){return typeof B=="string"?r.querySelector(B):B}),a.active&&u(),L(),this}},o.updateContainerElements(t),o};var Vt=class extends Z{constructor(e){super(e),this.moduleName=e.name,this.events={click:{close:"close"}},this.closeBind=t=>{t.key==="Escape"&&this.close()},this.$togglerWrapper=null,this.toggler=null,this.focusTrapOptions={checkCanFocusTrap:t=>{let i=t.map(r=>new Promise(s=>{let n=setInterval(()=>{getComputedStyle(r).visibility!=="hidden"&&(s(),clearInterval(n))},5)}));return Promise.all(i)},onActivate:()=>{te.classList.add(this.activeClass),this.el.setAttribute("aria-hidden",!1),setTimeout(()=>{this.$("close").length>1&&this.$("close")[0].focus()},800)},onPostActivate:()=>{this.toggler&&this.toggler.setAttribute("aria-expanded",!0)},onDeactivate:()=>{te.classList.remove(this.activeClass),this.el.setAttribute("aria-hidden",!0)},onPostDeactivate:()=>{this.toggler&&(this.toggler.setAttribute("aria-expanded",!1),this.toggler=null)}},this.isOpen=!1}init(){var e,t;if((e=this.onBeforeInit)==null||e.call(this),typeof this.activeClass!="string"||!this.activeClass)throw new TypeError(`${this.moduleName} expects a CSS class name for the 'activeClass' property`);this.focusTrap=yh([this.$togglerWrapper,this.el],this.focusTrapOptions),document.addEventListener("keyup",this.closeBind),(t=this.onInit)==null||t.call(this)}toggle(e){e&&(this.toggler=e),te.classList.contains(this.activeClass)?this.close():this.open()}open(e){var t,i,r;this.isOpen||(this.isOpen=!0,(i=(t=this.focusTrap)==null?void 0:t.activate)==null||i.call(t),(r=this.onOpen)==null||r.call(this,e))}close(e){var t,i,r;this.isOpen&&(this.isOpen=!1,(i=(t=this.focusTrap)==null?void 0:t.deactivate)==null||i.call(t),(r=this.onClose)==null||r.call(this,e))}destroy(){var e,t,i;(t=(e=this.focusTrap)==null?void 0:e.deactivate)==null||t.call(e,{returnFocus:!1}),document.removeEventListener("keyup",this.closeBind),(i=this.onDestroy)==null||i.call(this),super.destroy()}};var fc=699,qr=class extends Vt{constructor(t){super(t);si(this,"activeClass","has-menu-open");this.$container=this.$("container")[0],this.$scrollable=this.$("scrollable")[0],this.$overlay=this.$("overlay")[0],this.$swipeArea=this.$("swipeArea")[0],this.$mainLinks=Array.from(this.$("mainLink")),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onDragStartBind=this.onDragStart.bind(this),this.onDragEndBind=this.onDragEnd.bind(this),this.onDragBind=this.onDrag.bind(this),this.updateSwipeRafBind=this.updateSwipeRaf.bind(this),this.onLinkClickBind=this.onLinkClick.bind(this),this.dragState={isSwipeRafPlaying:!1,isDragAvailable:!1,isDragging:!1,isExpanded:!1,isOpen:!1},this.drag={oldY:0,y:0,startY:0,smoothY:0,threshold:150},this.dragStep={openY:0,closeY:0}}bindEvents(){this.isTouchDevice&&(window.addEventListener("resizeEnd",this.onResizeEndBind),this.$swipeArea.addEventListener("touchstart",this.onDragStartBind,{passive:!0}),this.$swipeArea.addEventListener("touchend",this.onDragEndBind,{passive:!0}),this.$swipeArea.addEventListener("touchleave",this.onDragEndBind,{passive:!0}),this.$swipeArea.addEventListener("touchmove",this.onDragBind,{passive:!0}))}unbindEvents(){this.isTouchDevice&&(window.removeEventListener("resizeEnd",this.onResizeEndBind),this.$swipeArea.removeEventListener("touchstart",this.onDragStartBind,{passive:!0}),this.$swipeArea.removeEventListener("touchend",this.onDragEndBind,{passive:!0}),this.$swipeArea.removeEventListener("touchleave",this.onDragEndBind,{passive:!0}),this.$swipeArea.removeEventListener("touchmove",this.onDragBind,{passive:!0}))}onInit(){this.isTouchDevice=window.matchMedia("(pointer:coarse)").matches&&window.matchMedia(`(max-width:${fc}px)`).matches,this.bindEvents(),this.isTouchDevice&&this.computeDragMetrics()}onDestroy(){this.unbindEvents()}onClose(){this.call("start",null,"Scroll"),this.isTouchDevice&&this.closeSwipe()}onOpen(t){this.call("stop",null,"Scroll"),this.isTouchDevice&&this.openSwipe()}onResizeEnd(){this.computeDragMetrics()}onDragStart(t){!this.dragState.isDragAvailable||!this.dragState.isOpen||(this.dragState.isDragging=!0,this.playSwipeRaf(),this.pointerEvent=t.type!=="mousedown"?t.touches[0]||t.changedTouches[0]:t,this.drag.oldY=this.drag.y,this.drag.startY=this.pointerEvent.clientY)}onDrag(t){this.dragState.isDragging&&(this.pointerEvent=t.type!=="mousemove"?t.touches[0]||t.changedTouches[0]:t,this.drag.y=this.drag.oldY+(this.pointerEvent.clientY-this.drag.startY),this.drag.y=Pe(this.dragStep.openY,this.dragStep.closeY,this.drag.y))}onDragEnd(t){this.dragState.isDragging&&(this.dragState.isDragging=!1,this.dragDistY=this.pointerEvent.clientY-this.drag.startY,!this.dragState.isExpanded&&this.dragDistY>this.drag.threshold?this.closeSwipe():this.dragState.isExpanded&&this.dragDistY>this.drag.threshold?this.closeSwipe():this.dragState.isExpanded&&this.dragDistY<this.drag.threshold?this.expandSwipe():!this.dragState.isExpanded&&this.dragDistY<this.drag.threshold&&this.expandSwipe())}onCloseAnimationEnded(){var t;(t=this.close)==null||t.call(this)}onLinkClick(t){this.$mainLinks.forEach(s=>{s.classList.remove("is-current")});let i=t.target;this.$mainLinks.includes(i)&&i.classList.add("is-current")}updateCurrentItem(){let t=window.location.href,i=0;for(;i<this.$mainLinks.length;){let r=this.$mainLinks[i];r.classList.remove("is-current");let s=r.getAttribute("href");t==s&&r.classList.add("is-current"),i++}}computeDragMetrics(){let t=this.$container.offsetHeight;this.dragStep.closeY=t,this.dragState.isExpanded||(this.$container.style.transform=`translate3d(0, ${t}px, 0)`,this.drag.y=this.drag.smoothY=t)}openSwipe(){!this.isTouchDevice||!window.isMobile||this.dragState.isOpen||(this.dragState.isDragAvailable=!0,this.dragState.isOpen=!0,this.playSwipeRaf(),this.expandSwipe(),this.$scrollable.scrollTop=0)}expandSwipe(){!this.isTouchDevice||!window.isMobile||(this.dragState.isExpanded=!0,this.drag.y=this.dragStep.openY)}closeSwipe(){this.dragState.isOpen&&(this.dragState.isDragAvailable=!1,this.dragState.isDragging=!1,this.dragState.isExpanded=!1,this.dragState.isOpen=!1,this.drag.y=this.dragStep.closeY,this.playSwipeRaf())}updateSwipeBackground(t,i,r){this.$overlay.style.opacity=Ve(t,i,r,0,1)}updateSwipeTransform(t){this.$container.style.transform=`translate3d(0, ${t}px, 0)`}playSwipeRaf(){this.dragState.isSwipeRafPlaying||(this.dragState.isSwipeRafPlaying=!0,Je.ticker.add(this.updateSwipeRafBind))}stopSwipeRaf(){this.dragState.isSwipeRafPlaying&&(this.dragState.isSwipeRafPlaying=!1,Je.ticker.remove(this.updateSwipeRafBind))}updateSwipeRaf(){this.drag.smoothY+=(this.drag.y-this.drag.smoothY)*.2,this.drag.smoothY=Pe(this.dragStep.openY+.5,this.dragStep.closeY,this.drag.smoothY),this.updateSwipeTransform(this.drag.smoothY),this.updateSwipeBackground(this.drag.smoothY,this.dragStep.closeY,this.dragStep.openY),this.dragState.isOpen&&!this.dragState.isDragging&&this.drag.smoothY<=this.dragStep.openY+.5&&this.stopSwipeRaf(),!this.dragState.isOpen&&this.drag.smoothY>this.dragStep.closeY-.5&&(this.stopSwipeRaf(),this.onCloseAnimationEnded())}};var jr=class extends Z{constructor(e){super(e),this.events={click:"toggle"}}toggle(){te.classList.contains("has-menu-open")?this.call("close",null,"ModalMenu"):this.call("open",null,"ModalMenu")}};var Xr=class extends Vt{constructor(t){super(t);si(this,"activeClass","has-modal-video-open");this.$player=this.$("player")[0],this.$video=this.$("video")[0],this.videoSrc=null,this.onVideoEndedBind=this.onVideoEnded.bind(this),this.onTransitionEndBind=this.onTransitionEnd.bind(this)}onInit(){this.videoPlayerID=this.$player.dataset.moduleVideoPlayer,window.addEventListener("videoPlayerEnded",this.onVideoEndedBind),this.el.addEventListener("transitionend",this.onTransitionEndBind)}onVideoEnded(){this.close()}onTransitionEnd(t){t.propertyName!="visibility"||this.isOpen||requestAnimationFrame(()=>{this.call("pause",this.videoPlayerID,"VideoPlayer"),this.call("reset",this.videoPlayerID,"VideoPlayer")})}onOpen(t){let i=null;window.matchMedia("(max-aspect-ratio: 1/1) and (max-width: 700px)").matches&&t.srcMobile!=null?i=t.srcMobile:i=t.src,i!=null&&(i!=this.videoSrc&&(this.$video.src=i,this.videoSrc=i),this.call("close",null,"ModalMenu"),this.call("stop",null,"Scroll"),this.call("play",this.videoPlayerID,"VideoPlayer"),this.call("progressiveUnmute",this.videoPlayerID,"VideoPlayer"))}onClose(){this.call("start",null,"Scroll"),this.call("progressiveMute",this.videoPlayerID,"VideoPlayer")}};var Kr=class extends Z{constructor(e){super(e),this.events={click:"toggle"}}init(){this.data={src:this.el.dataset.videoSrc,srcMobile:this.el.dataset.videoSrcMobile||null}}toggle(){te.classList.contains("has-video-open")?this.call("close",null,"ModalVideo"):this.call("open",this.data,"ModalVideo")}};var Zr=class extends Vt{constructor(t){super(t);si(this,"activeClass","has-modal-embed-open");this.inner=this.$("inner")[0],this.url=this.getData("url")}onInit(){}onOpen(t){this.emptyTimeout&&clearTimeout(this.emptyTimeout);let{url:i}=t,r=this.getVideoProvider(i),s=this.getVideoId(i,r);this.appendDelay=setTimeout(()=>{this.appendVideo({provider:r,id:s})},500),this.el.classList.add("is-active")}onClose(){clearTimeout(this.appendDelay),this.el.classList.remove("is-active"),this.emptyTimeout=setTimeout(()=>{this.inner.innerHTML=""},250)}appendVideo(t){let{id:i,provider:r}=t;switch(r){case"youtube":this.inner.innerHTML=`<iframe src='https://www.youtube.com/embed/${i}?&autoplay=1' frameborder='0' fullscreen' allowfullscreen allow='autoplay; fullscreen'></iframe>`;break;case"vimeo":this.inner.innerHTML=`<iframe src='https://player.vimeo.com/video/${i}?autoplay=1&loop=1&autopause=0' frameborder='0' fullscreen' allowfullscreen></iframe>`;break;default:break}}getVideoProvider(t){let i=/^(https?\:\/\/)?(www\.youtube\.com|youtu\.?be)\/.+$/,r=/vimeo\.com\/\d+/;if(i.exec(t)!==null)return"youtube";if(r.exec(t)!==null)return"vimeo"}getVideoId(t,i){switch(i){case"youtube":let r=/^.*(?:youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*$/i,s;if((s=r.exec(t))!==null)return s[1];case"vimeo":let n=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/i,a;if((a=n.exec(t))!==null)return a[1];break;default:return null}}};var Jr=class extends Z{constructor(e){super(e),this.events={click:"toggle"}}init(){this.url=this.el.dataset.videoUrl}toggle(e){e.preventDefault(),te.classList.contains("has-modal-video-open")?this.call("close",null,"ModalVideo"):this.call("open",{url:this.url},"ModalVideo")}};var Qr=class extends Z{constructor(e){var t;super(e),this.$paymentForm=this.$("payment-form")[0],this.$intentForm=this.$("intent-form")[0],this.$currentForm=this.$intentForm,this.$nextBtn=this.$("next-btn")[0],this.$nextBtnLabel=this.$("next-btn-label")[0],this.$backBtn=this.$("back-btn")[0],this.$inner=this.$("inner")[0],this.$feedback=this.$("feedback")[0],this.$nextBlockingEls=Array.from(this.$("next-blocking")),this.confirmPaymentReturnUrl=null,this.paymentIntentId=null,this.formSuccessMessage="Generic success message",this.formErrorMessage="Generic error message",this.sitekey=((t=window.app)==null?void 0:t.recaptchaPublicKey)||!1,this.useRecaptcha=this.getData("use-recaptcha")||!1,this.badgeContainerId="grecaptcha-container-id"}init(){this.onNextBind=this.onNext.bind(this),this.$nextBtn.addEventListener("click",this.onNextBind),this.onBackBind=this.onBack.bind(this),this.$backBtn.addEventListener("click",this.onBackBind),this.onNextBlockingChange=e=>{this.enableNextBtn(e.currentTarget.checkValidity())};for(let e of this.$nextBlockingEls)e.addEventListener("change",this.onNextBlockingChange);this.onIntentSubmitBind=this.onIntentSubmit.bind(this),this.$intentForm.addEventListener("submit",this.onIntentSubmitBind),this.onPaymentSubmitBind=this.onPaymentSubmit.bind(this),this.$paymentForm.addEventListener("submit",this.onPaymentSubmitBind),this.onResize=()=>{var e,t;(t=(e=this.elements)==null?void 0:e.update)==null||t.call(e,{appearance:this.getStripeAppearance()})},window.addEventListener("resize",this.onResize)}enableNextBtn(e){this.$nextBtn.disabled=!e}updateNextBtnLabel(e){this.$nextBtnLabel.classList.remove("-animate"),requestAnimationFrame(()=>{this.$nextBtnLabel.classList.add("-animate"),this.$nextBtnLabel.innerText=e,this.$currentForm.dataset.preorderNextLabel=e})}enableBackBtn(e){this.$backBtn.disabled=!e}showBackBtn(e){this.$backBtn.classList.toggle("is-hidden",!e)}onNext(){if(this.$currentForm.id=="intent-form"){let e=Array.from(this.$("step",this.$currentForm)).find(t=>t.classList.contains("is-active"));e.nextElementSibling?(e.classList.remove("is-active"),this.setIntentStep(e.nextElementSibling)):this.$currentForm.requestSubmit()}else this.$currentForm.id=="payment-form"&&this.$currentForm.requestSubmit()}onBack(){if(this.clearFeedback(),this.$currentForm.id=="intent-form"){let e=Array.from(this.$("step",this.$currentForm)).find(t=>t.classList.contains("is-active"));e.previousElementSibling&&(e.classList.remove("is-active"),this.setIntentStep(e.previousElementSibling))}else this.$currentForm.id=="payment-form"&&this.setActiveForm("intent-form")}focusContainer(e){Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(r=>!r.hasAttribute("disabled")&&!r.getAttribute("aria-hidden")&&!window.getComputedStyle(r).display!="none")[0].focus()}setActiveForm(e){let t=this.el.querySelector("#"+e);if(t)this.$inner.scrollTop=0,this.$currentForm.classList.remove("is-active"),t.classList.add("is-active"),this.focusContainer(t),this.$currentForm=t,this.updateNextBtnLabel(t.dataset.preorderNextLabel);else throw"No form matches"}setIntentStep(e){this.$inner.scrollTop=0,e.classList.add("is-active"),this.focusContainer(e);let t=this.getData("next-label",e);this.updateNextBtnLabel(t),this.showBackBtn(e.previousElementSibling)}setLoading(e){if(e){this.clearFeedback(),this.el.classList.add("is-loading");for(let t of this.el.querySelectorAll("fieldset"))t.disabled=!0;this.enableNextBtn(!1),this.enableBackBtn(!1)}else{this.el.classList.remove("is-loading");for(let t of this.el.querySelectorAll("fieldset"))t.disabled=!1;this.enableBackBtn(!0),this.enableNextBtn(!0)}}clearFeedback(){this.$feedback.classList.remove("-error"),this.$feedback.innerHTML=""}setError(e){this.$feedback.classList.add("-error"),this.$feedback.innerText=e}onIntentSubmit(e){e.preventDefault(),e.stopPropagation();let t={};if(new FormData(e.currentTarget).forEach((r,s)=>t[s]=r),!t.phone.match(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im))return this.setError("Invalid phone number"),!1;this.useRecaptcha&&this.sitekey?(window.hasRenderedRecaptcha||(this.clientId=grecaptcha.render(this.badgeContainerId,{sitekey:this.sitekey,theme:"dark",size:"invisible",badge:"inline"}),window.hasRenderedRecaptcha=!0),grecaptcha.ready(()=>{grecaptcha.execute(this.clientId).then(r=>this.processIntentForm(t,r))})):this.processIntentForm(t)}processIntentForm(e,t=null){this.setLoading(!0),this.paymentIntentId&&(e.paymentIndent=this.paymentIntentId),t&&(e["g-recaptcha-response"]=t);let i=JSON.stringify(e);fetch(this.$intentForm.action,{body:i,method:this.$intentForm.method,headers:{"Content-Type":"application/json"}}).then(r=>{if(r.status!==200&&r.status!==202)throw this.formErrorMessage;return r.json()}).then(r=>{if(!r.success||!r.client_secret)throw this.formErrorMessage;if(r.payment_intent_id&&(this.paymentIntentId=r.payment_intent_id),r.preorder){let s=new URLSearchParams(window.location.search);s.has("order")&&s.delete("order"),s.append("order",r.preorder),window.history.replaceState(null,null,`${window.location.pathname}?${s.toString()}`)}this.setActiveForm("payment-form"),r.confirmation_return_url&&(this.confirmPaymentReturnUrl=r.confirmation_return_url),this.setupPaymentForm(r.client_secret)}).catch(r=>{this.setError(r)}).finally(()=>{this.setLoading(!1)})}onPaymentSubmit(e){return De(this,null,function*(){e.preventDefault(),this.setLoading(!0);let{error:t}=yield Pt.instance.confirmPayment({elements:this.elements,confirmParams:{return_url:this.confirmPaymentReturnUrl||window.location.href}});t&&(console.error(t),this.setError(t.message),this.setLoading(!1))})}setupPaymentForm(e){return De(this,null,function*(){yield Pt.load(),this.elements=Pt.instance.elements({clientSecret:e,fonts:[{family:"F37Bolton",src:`url(${window.location.origin}/assets/fonts/F37Bolton-Regular.woff)`,weight:"400"}],appearance:this.getStripeAppearance()});let t=this.elements.create("payment");t.mount("#payment-element"),t.on("ready",()=>{t.focus()}),this.elements.create("address",{mode:"billing",allowedCountries:["US"]}).mount("#address-element")})}getStripeAppearance(){return{labels:"floating",variables:{fontFamily:'F37Bolton, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif',borderRadius:getComputedStyle(this.el).getPropertyValue("--border-radius"),spacingUnit:"3px",colorPrimary:"black"}}}destroy(){super.destroy(),this.$nextBtn.removeEventListener("click",this.onNextBind),this.$backBtn.removeEventListener("click",this.onBackBind);for(let e of this.$nextBlockingEls)e.removeEventListener("change",this.onNextBlockingChange);this.$intentForm.removeEventListener("submit",this.onIntentSubmitBind),window.removeEventListener("resize",this.onResize)}};var Ch=Dt(is(),1),_c=159/470,bc=1.5,rs=class extends Z{constructor(e){super(e),this.onResizeEndBind=this.onResizeEnd.bind(this),this.onUpdateBind=this.onUpdate.bind(this),this.onScrollBind=this.onScroll.bind(this),this.$el=this.el,this.$inner=this.$("inner")[0],this.$visual=this.$("visual")[0],this.$video=this.$("video")[0],this.$shapes=this.$("shape"),this.videoSrc={desktop:this.$video.dataset.src,mobile:this.$video.dataset.srcMobile},this.isDeviceLandscape=!1,this.isRafPlaying=!1,this.isInview=!1,this.scaling={start:0,end:1,min:.6,max:1,lerp:.2,progress:0,smoothProgress:0,value:0,smoothValue:0},this.translating={start:0,end:1,lerp:.2,value:0,smoothValue:0},this.overlay={start:0,end:1,max:.9,value:0},this.easing=(0,Ch.default)(.55,.085,.68,.53)}init(){this.bindEvents(),this.computeMetrics(),this.videoSrc.mobile&&this.computeVideoSrc(),this.$el.style.setProperty("--scaling-value",this.scaling.min)}destroy(){this.unbindEvents(),super.destroy()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind),document.addEventListener("scroll",this.onScrollBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind),document.removeEventListener("scroll",this.onScrollBind)}onResizeEnd(){this.scaling.value===this.scaling.max?(this.computeMetrics(),requestAnimationFrame(()=>{this.scaling.value=this.scaling.max,this.play()})):this.computeMetrics(),this.videoSrc.mobile&&this.computeVideoSrc()}onInview(e){this.isInview=e.way==="enter"}onScroll(){this.isInview&&this.play()}onScrollProgress(e){this.translating.value=e<this.translating.end?window.scrollVelocity*bc:0,this.scaling.progress=Pe(0,1,Ve(e,this.scaling.start,this.scaling.end,0,1)),this.scaling.smoothProgress=this.easing(this.scaling.progress),this.scaling.value=Pe(this.scaling.min,this.scaling.max,Ve(this.scaling.smoothProgress,0,1,this.scaling.min,this.scaling.max)),this.overlay.value=Pe(0,this.overlay.max,Ve(e,this.overlay.start,this.overlay.end,0,this.overlay.max))}onUpdate(){this.translating.smoothValue+=(this.translating.value-this.translating.smoothValue)*this.translating.lerp,this.translating.smoothValue=(1e3*(this.translating.smoothValue+.001)|0)/1e3,this.computeTranslate(),this.scaling.smoothValue+=(this.scaling.value-this.scaling.smoothValue)*this.scaling.lerp,this.scaling.smoothValue=(1e3*(this.scaling.smoothValue+.001)|0)/1e3,this.computeScale(),this.computeOverlay(),Math.round(this.translating.smoothValue)===Math.round(this.translating.value)&&Math.round(this.scaling.smoothValue)===Math.round(this.scaling.value)&&(this.rafIncrement++,this.rafIncrement>=50&&this.pause())}computeVideoSrc(){let e;if(window.matchMedia("(max-aspect-ratio: 1/1) and (max-width: 700px)").matches?e=this.$video.dataset.srcMobile:e=this.$video.dataset.src,e!==this.$video.src){let t=!this.$video.paused;this.$video.src=e,t&&this.$video.play()}}computeMetrics(){this.isDeviceLandscape=window.innerWidth>window.innerHeight,this.translating.end=window.innerHeight/this.$el.clientHeight,this.scaling.start=window.innerHeight/this.$el.clientHeight,this.scaling.end=1-window.innerHeight/this.$el.clientHeight,this.overlay.start=this.scaling.end;let t=Math.min(this.$inner.clientHeight,this.$inner.clientWidth)*_c,i=Math.sqrt(Math.pow(t,2)+Math.pow(t,2)),r=.5*window.innerHeight,s=.5*window.innerWidth,n=Math.sqrt(Math.pow(r,2)+Math.pow(r,2)),a=Math.sqrt(Math.pow(s,2)+Math.pow(s,2)),o=n+a;this.scaling.max=o/i}computeTranslate(){let e=0;for(;e<this.$shapes.length;){let t=(e+1)*this.translating.smoothValue;this.$shapes[e].style.transform=`translate3d(0, ${t}px, 0)`,e++}}computeScale(){this.$el.style.setProperty("--scaling-value",this.scaling.smoothValue)}computeOverlay(){this.$el.style.setProperty("--overlay-opacity",this.overlay.value)}play(){this.isRafPlaying||(this.isRafPlaying=!0,this.rafIncrement=0,Je.ticker.add(this.onUpdateBind))}pause(){this.isRafPlaying&&(this.isRafPlaying=!1,Je.ticker.remove(this.onUpdateBind))}};function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Sa.apply(this,arguments)}function ss(e,t,i){return Math.max(e,Math.min(t,i))}var xa=class{advance(t){var i;if(!this.isRunning)return;let r=!1;if(this.lerp)this.value=(1-(s=this.lerp))*this.value+s*this.to,Math.round(this.value)===this.to&&(this.value=this.to,r=!0);else{this.currentTime+=t;let n=ss(0,this.currentTime/this.duration,1);r=n>=1;let a=r?1:this.easing(n);this.value=this.from+(this.to-this.from)*a}var s;(i=this.onUpdate)==null||i.call(this,this.value,{completed:r}),r&&this.stop()}stop(){this.isRunning=!1}fromTo(t,i,{lerp:r=.1,duration:s=1,easing:n=o=>o,onUpdate:a}){this.from=this.value=t,this.to=i,this.lerp=r,this.duration=s,this.easing=n,this.currentTime=0,this.isRunning=!0,this.onUpdate=a}};function Th(e,t){let i;return function(){let r=arguments,s=this;clearTimeout(i),i=setTimeout(function(){e.apply(s,r)},t)}}var Ea=class{constructor(t,i){this.onWindowResize=()=>{this.width=window.innerWidth,this.height=window.innerHeight},this.onWrapperResize=()=>{this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight},this.onContentResize=()=>{let r=this.wrapper===window?document.documentElement:this.wrapper;this.scrollHeight=r.scrollHeight,this.scrollWidth=r.scrollWidth},this.wrapper=t,this.content=i,this.wrapper===window?(window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize()):(this.wrapperResizeObserver=new ResizeObserver(Th(this.onWrapperResize,100)),this.wrapperResizeObserver.observe(this.wrapper),this.onWrapperResize()),this.contentResizeObserver=new ResizeObserver(Th(this.onContentResize,100)),this.contentResizeObserver.observe(this.content),this.onContentResize()}destroy(){var t,i;window.removeEventListener("resize",this.onWindowResize,!1),(t=this.wrapperResizeObserver)==null||t.disconnect(),(i=this.contentResizeObserver)==null||i.disconnect()}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},wh=()=>({events:{},emit(e,...t){let i=this.events[e]||[];for(let r=0,s=i.length;r<s;r++)i[r](...t)},on(e,t){var i;return(i=this.events[e])!=null&&i.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=(r=this.events[e])==null?void 0:r.filter(s=>t!==s)}}}),Ca=class{constructor(t,{wheelMultiplier:i=1,touchMultiplier:r=2,normalizeWheel:s=!1}){this.onTouchStart=n=>{let{clientX:a,clientY:o}=n.targetTouches?n.targetTouches[0]:n;this.touchStart.x=a,this.touchStart.y=o,this.lastDelta={x:0,y:0}},this.onTouchMove=n=>{let{clientX:a,clientY:o}=n.targetTouches?n.targetTouches[0]:n,l=-(a-this.touchStart.x)*this.touchMultiplier,h=-(o-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=a,this.touchStart.y=o,this.lastDelta={x:l,y:h},this.emitter.emit("scroll",{type:"touch",deltaX:l,deltaY:h,event:n})},this.onTouchEnd=n=>{this.emitter.emit("scroll",{type:"touch",inertia:!0,deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:n})},this.onWheel=n=>{let{deltaX:a,deltaY:o}=n;this.normalizeWheel&&(a=ss(-100,a,100),o=ss(-100,o,100)),a*=this.wheelMultiplier,o*=this.wheelMultiplier,this.emitter.emit("scroll",{type:"wheel",deltaX:a,deltaY:o,event:n})},this.element=t,this.wheelMultiplier=i,this.touchMultiplier=r,this.normalizeWheel=s,this.touchStart={x:null,y:null},this.emitter=wh(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(t,i){return this.emitter.on(t,i)}destroy(){this.emitter.events={},this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}},ns=class{constructor({direction:t,gestureDirection:i,mouseMultiplier:r,smooth:s,wrapper:n=window,content:a=document.documentElement,wheelEventsTarget:o=n,smoothWheel:l=s==null||s,smoothTouch:h=!1,syncTouch:f=!1,syncTouchLerp:m=.1,touchInertiaMultiplier:u=35,duration:d,easing:g=w=>Math.min(1,1.001-Math.pow(2,-10*w)),lerp:p=d?null:.1,infinite:x=!1,orientation:c=t!=null?t:"vertical",gestureOrientation:_=i!=null?i:"vertical",touchMultiplier:y=1,wheelMultiplier:b=r!=null?r:1,normalizeWheel:E=!1}={}){this.onVirtualScroll=({type:w,inertia:A,deltaX:P,deltaY:L,event:O})=>{if(O.ctrlKey)return;let F=w==="touch",k=w==="wheel";if(this.options.gestureOrientation==="vertical"&&L===0||this.options.gestureOrientation==="horizontal"&&P===0||F&&this.options.gestureOrientation==="vertical"&&this.scroll===0&&!this.options.infinite&&L<=0||O.composedPath().find(D=>D==null||D.hasAttribute==null?void 0:D.hasAttribute("data-lenis-prevent")))return;if(this.isStopped||this.isLocked)return void O.preventDefault();if(this.isSmooth=(this.options.smoothTouch||this.options.syncTouch)&&F||this.options.smoothWheel&&k,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();O.preventDefault();let B=L;this.options.gestureOrientation==="both"?B=Math.abs(L)>Math.abs(P)?L:P:this.options.gestureOrientation==="horizontal"&&(B=P);let V=F&&this.options.syncTouch,z=F&&A&&Math.abs(B)>1;z&&(B=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+B,Sa({programmatic:!1},V&&{lerp:z?this.syncTouchLerp:.4}))},this.onScroll=()=>{if(!this.isScrolling){let w=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-w),this.emit()}},t&&console.warn("Lenis: `direction` option is deprecated, use `orientation` instead"),i&&console.warn("Lenis: `gestureDirection` option is deprecated, use `gestureOrientation` instead"),r&&console.warn("Lenis: `mouseMultiplier` option is deprecated, use `wheelMultiplier` instead"),s&&console.warn("Lenis: `smooth` option is deprecated, use `smoothWheel` instead"),window.lenisVersion="1.0.11",n!==document.documentElement&&n!==document.body||(n=window),this.options={wrapper:n,content:a,wheelEventsTarget:o,smoothWheel:l,smoothTouch:h,syncTouch:f,syncTouchLerp:m,touchInertiaMultiplier:u,duration:d,easing:g,lerp:p,infinite:x,gestureOrientation:_,orientation:c,touchMultiplier:y,wheelMultiplier:b,normalizeWheel:E},this.dimensions=new Ea(n,a),this.rootElement.classList.add("lenis"),this.velocity=0,this.isStopped=!1,this.isSmooth=l||h,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.animate=new xa,this.emitter=wh(),this.options.wrapper.addEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll=new Ca(o,{touchMultiplier:y,wheelMultiplier:b,normalizeWheel:E}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.events={},this.options.wrapper.removeEventListener("scroll",this.onScroll,{passive:!1}),this.virtualScroll.destroy()}on(t,i){return this.emitter.on(t,i)}off(t,i){var r;this.emitter.events[t]=(r=this.emitter.events[t])==null?void 0:r.filter(s=>i!==s)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.velocity=0,this.animate.stop()}start(){this.isStopped=!1,this.reset()}stop(){this.isStopped=!0,this.animate.stop(),this.reset()}raf(t){let i=t-(this.time||t);this.time=t,this.animate.advance(.001*i)}scrollTo(t,{offset:i=0,immediate:r=!1,lock:s=!1,duration:n=this.options.duration,easing:a=this.options.easing,lerp:o=!n&&this.options.lerp,onComplete:l=null,force:h=!1,programmatic:f=!0}={}){if(!this.isStopped||h){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{var m;let u;if(typeof t=="string"?u=document.querySelector(t):(m=t)!=null&&m.nodeType&&(u=t),u){if(this.options.wrapper!==window){let g=this.options.wrapper.getBoundingClientRect();i-=this.isHorizontal?g.left:g.top}let d=u.getBoundingClientRect();t=(this.isHorizontal?d.left:d.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=i,t=Math.round(t),this.options.infinite?f&&(this.targetScroll=this.animatedScroll=this.scroll):t=ss(0,t,this.limit),r)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),this.emit(),void(l==null||l());if(!f){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:n,easing:a,lerp:o,onUpdate:(u,{completed:d})=>{s&&(this.isLocked=!0),this.isScrolling=!0,this.velocity=u-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=u,this.setScroll(this.scroll),f&&(this.targetScroll=u),d&&(s&&(this.isLocked=!1),requestAnimationFrame(()=>{this.isScrolling=!1}),this.velocity=0,l==null||l()),this.emit()}})}}}get rootElement(){return this.options.wrapper===window?this.options.content:this.options.wrapper}get limit(){return this.isHorizontal?this.dimensions.limit.x:this.dimensions.limit.y}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?function(t,i){let r=t%i;return(i>0&&r<0||i<0&&r>0)&&(r+=i),r}(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(t){this.__isSmooth!==t&&(this.rootElement.classList.toggle("lenis-smooth",t),this.__isSmooth=t)}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.rootElement.classList.toggle("lenis-scrolling",t),this.__isScrolling=t)}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.rootElement.classList.toggle("lenis-stopped",t),this.__isStopped=t)}};function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ta.apply(this,arguments)}var as=class{constructor({scrollElements:t,rootMargin:i="-1px -1px -1px -1px",IORaf:r}){this.scrollElements=void 0,this.rootMargin=void 0,this.IORaf=void 0,this.observer=void 0,this.scrollElements=t,this.rootMargin=i,this.IORaf=r,this._init()}_init(){let t={rootMargin:this.rootMargin},i=r=>{r.forEach(s=>{let n=this.scrollElements.find(a=>a.$el===s.target);s.isIntersecting?(n&&(n.isAlreadyIntersected=!0),this._setInview(s)):n&&n.isAlreadyIntersected&&this._setOutOfView(s)})};this.observer=new IntersectionObserver(i,t);for(let r of this.scrollElements){let s=r.$el;this.observe(s)}}destroy(){this.observer.disconnect()}observe(t){t&&this.observer.observe(t)}unobserve(t){t&&this.observer.unobserve(t)}_setInview(t){let i=this.scrollElements.find(r=>r.$el===t.target);this.IORaf&&(i==null||i.setInteractivityOn()),!this.IORaf&&(i==null||i.setInview())}_setOutOfView(t){let i=this.scrollElements.find(r=>r.$el===t.target);this.IORaf&&(i==null||i.setInteractivityOff()),!this.IORaf&&(i==null||i.setOutOfView()),!(i!=null&&i.attributes.scrollRepeat)&&!this.IORaf&&this.unobserve(t.target)}};function Sc(e,t,i){return i<e?e:i>t?t:i}function Ah(e,t,i,r,s){let n=t-e,a=r-i;return i+((s-e)/n*a||0)}function xc(e,t,i){return Ah(e,t,0,1,i)}function Dh(e,t){return e.reduce((i,r)=>Math.abs(r-t)<Math.abs(i-t)?r:i)}var Ec="is-inview",Cc="--progress",Tc="onScrollProgress",wa=class{constructor({$el:t,id:i,modularInstance:r,subscribeElementUpdateFn:s,unsubscribeElementUpdateFn:n,needRaf:a,scrollOrientation:o}){var l,h,f,m,u;this.$el=void 0,this.id=void 0,this.needRaf=void 0,this.attributes=void 0,this.scrollOrientation=void 0,this.isAlreadyIntersected=void 0,this.intersection=void 0,this.metrics=void 0,this.currentScroll=void 0,this.translateValue=void 0,this.progress=void 0,this.lastProgress=void 0,this.modularInstance=void 0,this.progressModularModules=void 0,this.isInview=void 0,this.isInteractive=void 0,this.isInFold=void 0,this.isFirstResize=void 0,this.subscribeElementUpdateFn=void 0,this.unsubscribeElementUpdateFn=void 0,this.$el=t,this.id=i,this.needRaf=a,this.scrollOrientation=o,this.modularInstance=r,this.subscribeElementUpdateFn=s,this.unsubscribeElementUpdateFn=n,this.attributes={scrollClass:(l=this.$el.dataset.scrollClass)!=null?l:Ec,scrollOffset:(h=this.$el.dataset.scrollOffset)!=null?h:"0,0",scrollPosition:(f=this.$el.dataset.scrollPosition)!=null?f:"start,end",scrollModuleProgress:this.$el.dataset.scrollModuleProgress!=null,scrollCssProgress:this.$el.dataset.scrollCssProgress!=null,scrollEventProgress:(m=this.$el.dataset.scrollEventProgress)!=null?m:null,scrollSpeed:this.$el.dataset.scrollSpeed!=null?parseFloat(this.$el.dataset.scrollSpeed):null,scrollRepeat:this.$el.dataset.scrollRepeat!=null,scrollCall:(u=this.$el.dataset.scrollCall)!=null?u:null,scrollCallSelf:this.$el.dataset.scrollCallSelf!=null,scrollIgnoreFold:this.$el.dataset.scrollIgnoreFold!=null,scrollEnableTouchSpeed:this.$el.dataset.scrollEnableTouchSpeed!=null},this.intersection={start:0,end:0},this.metrics={offsetStart:0,offsetEnd:0,bcr:{}},this.currentScroll=this.scrollOrientation==="vertical"?window.scrollY:window.scrollX,this.translateValue=0,this.progress=0,this.lastProgress=null,this.progressModularModules=[],this.isInview=!1,this.isInteractive=!1,this.isAlreadyIntersected=!1,this.isInFold=!1,this.isFirstResize=!0,this._init()}_init(){this.needRaf&&(this.modularInstance&&this.attributes.scrollModuleProgress&&this._getProgressModularModules(),this._resize())}onResize({currentScroll:t}){this.currentScroll=t,this._resize()}onRender({currentScroll:t,smooth:i}){let r=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth;if(this.currentScroll=t,this._computeProgress(),this.attributes.scrollSpeed&&!isNaN(this.attributes.scrollSpeed))if(!this.attributes.scrollEnableTouchSpeed&&!i)this.translateValue&&(this.$el.style.transform="translate3d(0, 0, 0)"),this.translateValue=0;else{if(this.isInFold){let s=Math.max(0,this.progress);this.translateValue=s*r*this.attributes.scrollSpeed*-1}else{let s=Ah(0,1,-1,1,this.progress);this.translateValue=s*r*this.attributes.scrollSpeed*-1}this.$el.style.transform=this.scrollOrientation==="vertical"?`translate3d(0, ${this.translateValue}px, 0)`:`translate3d(${this.translateValue}px, 0, 0)`}}setInview(){if(this.isInview)return;this.isInview=!0,this.$el.classList.add(this.attributes.scrollClass);let t="enter",i=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall(t,i)}setOutOfView(){if(!(this.isInview&&this.attributes.scrollRepeat))return;this.isInview=!1,this.$el.classList.remove(this.attributes.scrollClass);let t="leave",i=this._getScrollCallFrom();this.attributes.scrollCall&&this._dispatchCall(t,i)}setInteractivityOn(){this.isInteractive||(this.isInteractive=!0,this.subscribeElementUpdateFn(this))}setInteractivityOff(){this.isInteractive&&(this.isInteractive=!1,this.unsubscribeElementUpdateFn(this),this.lastProgress!=null&&this._computeProgress(Dh([0,1],this.lastProgress)))}_resize(){this.metrics.bcr=this.$el.getBoundingClientRect(),this._computeMetrics(),this._computeIntersection(),this.isFirstResize&&(this.isFirstResize=!1,this.isInFold&&this.setInview())}_computeMetrics(){let{top:t,left:i,height:r,width:s}=this.metrics.bcr,n=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,a=this.scrollOrientation==="vertical"?t:i,o=this.scrollOrientation==="vertical"?r:s;this.metrics.offsetStart=this.currentScroll+a-this.translateValue,this.metrics.offsetEnd=this.metrics.offsetStart+o,this.metrics.offsetStart<n&&!this.attributes.scrollIgnoreFold?this.isInFold=!0:this.isInFold=!1}_computeIntersection(){let t=this.scrollOrientation==="vertical"?window.innerHeight:window.innerWidth,i=this.scrollOrientation==="vertical"?this.metrics.bcr.height:this.metrics.bcr.width,r=this.attributes.scrollOffset.split(","),s=r[0]!=null?r[0].trim():"0",n=r[1]!=null?r[1].trim():"0",a=this.attributes.scrollPosition.split(","),o=a[0]!=null?a[0].trim():"start",l=a[1]!=null?a[1].trim():"end",h=s.includes("%")?t*parseInt(s.replace("%","").trim())*.01:parseInt(s),f=n.includes("%")?t*parseInt(n.replace("%","").trim())*.01:parseInt(n);switch(this.isInFold&&(o="fold"),o){case"start":this.intersection.start=this.metrics.offsetStart-t+h;break;case"middle":this.intersection.start=this.metrics.offsetStart-t+h+i*.5;break;case"end":this.intersection.start=this.metrics.offsetStart-t+h+i;break;case"fold":this.intersection.start=0;break;default:this.intersection.start=this.metrics.offsetStart-t+h;break}switch(l){case"start":this.intersection.end=this.metrics.offsetStart-f;break;case"middle":this.intersection.end=this.metrics.offsetStart-f+i*.5;break;case"end":this.intersection.end=this.metrics.offsetStart-f+i;break;default:this.intersection.end=this.metrics.offsetStart-f+i;break}if(this.intersection.end<=this.intersection.start)switch(l){case"start":this.intersection.end=this.intersection.start+1;break;case"middle":this.intersection.end=this.intersection.start+i*.5;break;case"end":this.intersection.end=this.intersection.start+i;break;default:this.intersection.end=this.intersection.start+1;break}}_computeProgress(t){let i=t!=null?t:Sc(0,1,xc(this.intersection.start,this.intersection.end,this.currentScroll));if(this.progress=i,i!=this.lastProgress){if(this.lastProgress=i,this.attributes.scrollCssProgress&&this._setCssProgress(i),this.attributes.scrollEventProgress&&this._setCustomEventProgress(i),this.attributes.scrollModuleProgress)for(let r of this.progressModularModules)this.modularInstance&&this.modularInstance.call(Tc,i,r.moduleName,r.moduleId);i>0&&i<1&&this.setInview(),i===0&&this.setOutOfView(),i===1&&this.setOutOfView()}}_setCssProgress(t=0){this.$el.style.setProperty(Cc,t.toString())}_setCustomEventProgress(t=0){let i=this.attributes.scrollEventProgress;if(!i)return;let r=new CustomEvent(i,{detail:{target:this.$el,progress:t}});window.dispatchEvent(r)}_getProgressModularModules(){if(!this.modularInstance)return;let t=Object.keys(this.$el.dataset).filter(r=>r.includes("module")),i=Object.entries(this.modularInstance.modules);if(t.length)for(let r of t){let s=this.$el.dataset[r];if(!s)return;for(let n of i){let[a,o]=n;s in o&&this.progressModularModules.push({moduleName:a,moduleId:s})}}}_getScrollCallFrom(){let t=Dh([this.intersection.start,this.intersection.end],this.currentScroll);return this.intersection.start===t?"start":"end"}_dispatchCall(t,i){var r,s;let n=(r=this.attributes.scrollCall)==null?void 0:r.split(","),a=(s=this.attributes)==null?void 0:s.scrollCallSelf;if(n&&n.length>1){var o;let[l,h,f]=n,m;a?m=this.$el.dataset[`module${h.trim()}`]:m=f,this.modularInstance&&this.modularInstance.call(l.trim(),{target:this.$el,way:t,from:i},h.trim(),(o=m)==null?void 0:o.trim())}else if(n){let[l]=n,h=new CustomEvent(l,{detail:{target:this.$el,way:t,from:i}});window.dispatchEvent(h)}}},wc=["scrollOffset","scrollPosition","scrollModuleProgress","scrollCssProgress","scrollEventProgress","scrollSpeed"],Dc="-1px -1px -1px -1px",Pc="100% 100% 100% 100%",Da=class{constructor({$el:t,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,scrollOrientation:n}){if(this.$scrollContainer=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.scrollElements=void 0,this.triggeredScrollElements=void 0,this.RAFScrollElements=void 0,this.scrollElementsToUpdate=void 0,this.IOTriggerInstance=void 0,this.IORafInstance=void 0,this.scrollOrientation=void 0,!t){console.error("Please provide a DOM Element as scrollContainer");return}this.$scrollContainer=t,this.modularInstance=i,this.scrollOrientation=n,this.triggerRootMargin=r!=null?r:Dc,this.rafRootMargin=s!=null?s:Pc,this.scrollElements=[],this.triggeredScrollElements=[],this.RAFScrollElements=[],this.scrollElementsToUpdate=[],this._init()}_init(){let t=this.$scrollContainer.querySelectorAll("[data-scroll]"),i=Array.from(t);this._subscribeScrollElements(i),this.IOTriggerInstance=new as({scrollElements:[...this.triggeredScrollElements],rootMargin:this.triggerRootMargin,IORaf:!1}),this.IORafInstance=new as({scrollElements:[...this.RAFScrollElements],rootMargin:this.rafRootMargin,IORaf:!0})}destroy(){this.IOTriggerInstance.destroy(),this.IORafInstance.destroy(),this._unsubscribeAllScrollElements()}onResize({currentScroll:t}){for(let i of this.RAFScrollElements)i.onResize({currentScroll:t})}onRender({currentScroll:t,smooth:i}){for(let r of this.scrollElementsToUpdate)r.onRender({currentScroll:t,smooth:i})}removeScrollElements(t){let i=t.querySelectorAll("[data-scroll]");if(i.length){for(let r=0;r<this.triggeredScrollElements.length;r++){let s=this.triggeredScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IOTriggerInstance.unobserve(s.$el),this.triggeredScrollElements.splice(r,1))}for(let r=0;r<this.RAFScrollElements.length;r++){let s=this.RAFScrollElements[r];Array.from(i).indexOf(s.$el)>-1&&(this.IORafInstance.unobserve(s.$el),this.RAFScrollElements.splice(r,1))}i.forEach(r=>{let s=this.scrollElementsToUpdate.find(a=>a.$el===r),n=this.scrollElements.find(a=>a.$el===r);s&&this._unsubscribeElementUpdate(s),n&&(this.scrollElements=this.scrollElements.filter(a=>a.id!=n.id))})}}addScrollElements(t){let i=t.querySelectorAll("[data-scroll]"),r=[];this.scrollElements.forEach(o=>{r.push(o.id)});let n=Math.max(...r)+1,a=Array.from(i);this._subscribeScrollElements(a,n,!0)}_subscribeScrollElements(t,i=0,r=!1){for(let s=0;s<t.length;s++){let n=t[s],a=this._checkRafNeeded(n),o=new wa({$el:n,id:i+s,scrollOrientation:this.scrollOrientation,modularInstance:this.modularInstance,subscribeElementUpdateFn:this._subscribeElementUpdate.bind(this),unsubscribeElementUpdateFn:this._unsubscribeElementUpdate.bind(this),needRaf:a});this.scrollElements.push(o),a?(this.RAFScrollElements.push(o),r&&(this.IORafInstance.scrollElements.push(o),this.IORafInstance.observe(o.$el))):(this.triggeredScrollElements.push(o),r&&(this.IOTriggerInstance.scrollElements.push(o),this.IOTriggerInstance.observe(o.$el)))}}_unsubscribeAllScrollElements(){this.scrollElements=[],this.RAFScrollElements=[],this.triggeredScrollElements=[],this.scrollElementsToUpdate=[]}_subscribeElementUpdate(t){this.scrollElementsToUpdate.push(t)}_unsubscribeElementUpdate(t){this.scrollElementsToUpdate=this.scrollElementsToUpdate.filter(i=>i.id!=t.id)}_checkRafNeeded(t){let i=[...wc],r=s=>{i=i.filter(n=>n!=s)};if(t.dataset.scrollOffset){if(t.dataset.scrollOffset.split(",").map(n=>n.replace("%","").trim()).join(",")!="0,0")return!0;r("scrollOffset")}else r("scrollOffset");if(t.dataset.scrollPosition){if(t.dataset.scrollPosition.trim()!="top,bottom")return!0;r("scrollPosition")}else r("scrollPosition");if(t.dataset.scrollSpeed&&!isNaN(parseFloat(t.dataset.scrollSpeed)))return!0;r("scrollSpeed");for(let s of i)if(s in t.dataset)return!0;return!1}},Pa=class{constructor({resizeElements:t,resizeCallback:i=()=>{}}){this.$resizeElements=void 0,this.isFirstObserve=void 0,this.observer=void 0,this.resizeCallback=void 0,this.$resizeElements=t,this.resizeCallback=i,this.isFirstObserve=!0,this._init()}_init(){let t=i=>{var r;!this.isFirstObserve&&((r=this.resizeCallback)==null||r.call(this)),this.isFirstObserve=!1};this.observer=new ResizeObserver(t);for(let i of this.$resizeElements)this.observer.observe(i)}destroy(){this.observer.disconnect()}},Ph={wrapper:window,content:document.documentElement,lerp:.1,duration:1.2,orientation:"vertical",gestureOrientation:"vertical",smoothWheel:!0,smoothTouch:!1,wheelMultiplier:1,touchMultiplier:2,normalizeWheel:!0,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e))},os=class{constructor({lenisOptions:t={},modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n=!0,autoStart:a=!0,scrollCallback:o=()=>{},initCustomTicker:l,destroyCustomTicker:h}={}){this.rafPlaying=void 0,this.lenisInstance=void 0,this.coreInstance=void 0,this.lenisOptions=void 0,this.modularInstance=void 0,this.triggerRootMargin=void 0,this.rafRootMargin=void 0,this.rafInstance=void 0,this.autoResize=void 0,this.autoStart=void 0,this.ROInstance=void 0,this.initCustomTicker=void 0,this.destroyCustomTicker=void 0,this._onRenderBind=void 0,this._onResizeBind=void 0,this._onScrollToBind=void 0,this.lenisOptions=Ta({},Ph,t),Object.assign(this,{lenisOptions:t,modularInstance:i,triggerRootMargin:r,rafRootMargin:s,autoResize:n,autoStart:a,scrollCallback:o,initCustomTicker:l,destroyCustomTicker:h}),this._onRenderBind=this._onRender.bind(this),this._onScrollToBind=this._onScrollTo.bind(this),this._onResizeBind=this._onResize.bind(this),this.rafPlaying=!1,this._init()}_init(){var t;this.lenisInstance=new ns({wrapper:this.lenisOptions.wrapper,content:this.lenisOptions.content,lerp:this.lenisOptions.lerp,duration:this.lenisOptions.duration,orientation:this.lenisOptions.orientation,gestureOrientation:this.lenisOptions.gestureOrientation,smoothWheel:this.lenisOptions.smoothWheel,smoothTouch:this.lenisOptions.smoothTouch,wheelMultiplier:this.lenisOptions.wheelMultiplier,touchMultiplier:this.lenisOptions.touchMultiplier,normalizeWheel:this.lenisOptions.normalizeWheel,easing:this.lenisOptions.easing}),(t=this.lenisInstance)==null||t.on("scroll",this.scrollCallback),document.documentElement.setAttribute("data-scroll-orientation",this.lenisInstance.options.orientation),requestAnimationFrame(()=>{this.coreInstance=new Da({$el:this.lenisInstance.rootElement,modularInstance:this.modularInstance,triggerRootMargin:this.triggerRootMargin,rafRootMargin:this.rafRootMargin,scrollOrientation:this.lenisInstance.options.orientation}),this._bindEvents(),this.initCustomTicker&&!this.destroyCustomTicker?console.warn("initCustomTicker callback is declared, but destroyCustomTicker is not. Please pay attention. It could cause trouble."):!this.initCustomTicker&&this.destroyCustomTicker&&console.warn("destroyCustomTicker callback is declared, but initCustomTicker is not. Please pay attention. It could cause trouble."),this.autoStart&&this.start()})}destroy(){this.stop(),this._unbindEvents(),this.lenisInstance.destroy(),this.coreInstance.destroy()}_bindEvents(){this._bindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance=new Pa({resizeElements:[document.body],resizeCallback:this._onResizeBind}):window.addEventListener("resize",this._onResizeBind))}_unbindEvents(){this._unbindScrollToEvents(),this.autoResize&&("ResizeObserver"in window?this.ROInstance&&this.ROInstance.destroy():window.removeEventListener("resize",this._onResizeBind))}_bindScrollToEvents(t){let i=t||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.addEventListener("click",this._onScrollToBind,!1)})}_unbindScrollToEvents(t){let i=t||this.lenisInstance.rootElement,r=i==null?void 0:i.querySelectorAll("[data-scroll-to]");r!=null&&r.length&&r.forEach(s=>{s.removeEventListener("click",this._onScrollToBind,!1)})}_onResize(){requestAnimationFrame(()=>{var t;(t=this.coreInstance)==null||t.onResize({currentScroll:this.lenisInstance.scroll})})}_onRender(){var t,i;(t=this.lenisInstance)==null||t.raf(Date.now()),(i=this.coreInstance)==null||i.onRender({currentScroll:this.lenisInstance.scroll,smooth:this.lenisInstance.isSmooth})}_onScrollTo(t){var i;t.preventDefault();let r=(i=t.currentTarget)!=null?i:null;if(!r)return;let s=r.getAttribute("data-scroll-to-href")||r.getAttribute("href"),n=r.getAttribute("data-scroll-to-offset")||0,a=r.getAttribute("data-scroll-to-duration")||this.lenisOptions.duration||Ph.duration;s&&this.scrollTo(s,{offset:typeof n=="string"?parseInt(n):n,duration:typeof a=="string"?parseInt(a):a})}start(){this.rafPlaying||(this.rafPlaying=!0,this.initCustomTicker?this.initCustomTicker(this._onRenderBind):this._raf())}stop(){this.rafPlaying&&(this.rafPlaying=!1,this.destroyCustomTicker?this.destroyCustomTicker(this._onRenderBind):this.rafInstance&&cancelAnimationFrame(this.rafInstance))}removeScrollElements(t){var i;if(!t){console.error("Please provide a DOM Element as $oldContainer");return}this._unbindScrollToEvents(t),(i=this.coreInstance)==null||i.removeScrollElements(t)}addScrollElements(t){var i;if(!t){console.error("Please provide a DOM Element as $newContainer");return}(i=this.coreInstance)==null||i.addScrollElements(t),requestAnimationFrame(()=>{this._bindScrollToEvents(t)})}resize(){this._onResizeBind()}scrollTo(t,i){var r;(r=this.lenisInstance)==null||r.scrollTo(t,{offset:i==null?void 0:i.offset,lerp:i==null?void 0:i.lerp,duration:i==null?void 0:i.duration,immediate:i==null?void 0:i.immediate,lock:i==null?void 0:i.lock,force:i==null?void 0:i.force,easing:i==null?void 0:i.easing,onComplete:i==null?void 0:i.onComplete})}_raf(){this._onRenderBind(),this.rafInstance=requestAnimationFrame(()=>this._raf())}};var Aa=300,ls=class extends Z{constructor(e){super(e),history.scrollRestoration&&(history.scrollRestoration="manual",window.scrollTo(0,0)),this.onResizeBind=this.onResize.bind(this),this.onScrollBind=this.onScroll.bind(this),this.initialColorTheme=te.dataset.theme}init(){this.bindEvents(),this.locomotiveScrollInstance=new os({triggerRootMargin:"-1px -5% -1px -5%",scrollCallback:this.onScrollBind,modularInstance:this}),this.locomotiveScrollInstance.start(),this.onScrollBind,te.scrollTop>Aa&&te.classList.add("has-scrolled")}destroy(){var e;this.unbindEvents(),(e=this.locomotiveScrollInstance)==null||e.destroy()}bindEvents(){window.addEventListener("resize",this.onResizeBind)}unbindEvents(){window.removeEventListener("resize",this.onResizeBind)}onScroll({scroll:e,limit:t,velocity:i,direction:r,progress:s}){e>Aa&&!te.classList.contains("has-scrolled")?te.classList.add("has-scrolled"):e<=Aa&&te.classList.contains("has-scrolled")&&te.classList.remove("has-scrolled"),window.scrollVelocity=i,window.scrollDirection=r}onResize(){var e;(e=this.locomotiveScrollInstance)==null||e.resize()}lazyLoad(e){ir(e.target)}removeScrollElements(e){var t;(t=this.locomotiveScrollInstance)==null||t.removeScrollElements(e)}addScrollElements(e){var t;(t=this.locomotiveScrollInstance)==null||t.addScrollElements(e)}stop(){var e;(e=this.locomotiveScrollInstance)==null||e.stop()}start(){var e;(e=this.locomotiveScrollInstance)==null||e.start()}scrollTo(e){var r,s;let{target:t,options:i}=e;(s=(r=this.locomotiveScrollInstance)==null?void 0:r.lenisInstance)==null||s.scrollTo(t,i)}hideHeader(e){e.way==="enter"&&te.classList.add("has-header-hidden"),e.way==="leave"&&te.classList.remove("has-header-hidden")}toggleColorTheme(e){let{target:t,from:i,way:r}=e;r==="enter"&&i==="start"?te.dataset.theme=t.dataset.theme:r==="leave"&&i==="start"&&(te.dataset.theme=this.initialColorTheme)}};var zh=Dt(Fh());var Bh=Dt(Lh()),ka=class{constructor(t){this.data=new Uint8Array(t),this.idx=0,this.size=t}getData(){if(this.idx!==this.size)throw new Error("Mismatch between size reserved and sized used");return this.data.slice(0,this.idx)}writeUint8(t){this.data.set([t],this.idx),this.idx+=1}writeUint16(t){let i=new Uint16Array(1);i[0]=t;let r=new Uint8Array(i.buffer);this.data.set([r[1],r[0]],this.idx),this.idx+=2}writeUint8Array(t){this.data.set(t,this.idx),this.idx+=t.length}},Ac=e=>{let t,i=7;for(t=0;t<e.SPS.length;t+=1)i+=2+e.SPS[t].length;for(t=0;t<e.PPS.length;t+=1)i+=2+e.PPS[t].length;let r=new ka(i);for(r.writeUint8(e.configurationVersion),r.writeUint8(e.AVCProfileIndication),r.writeUint8(e.profile_compatibility),r.writeUint8(e.AVCLevelIndication),r.writeUint8(e.lengthSizeMinusOne+(63<<2)),r.writeUint8(e.nb_SPS_nalus+(7<<5)),t=0;t<e.SPS.length;t+=1)r.writeUint16(e.SPS[t].length),r.writeUint8Array(e.SPS[t].nalu);for(r.writeUint8(e.nb_PPS_nalus),t=0;t<e.PPS.length;t+=1)r.writeUint16(e.PPS[t].length),r.writeUint8Array(e.PPS[t].nalu);return r.getData()},Fc=(e,t,{VideoDecoder:i,EncodedVideoChunk:r,debug:s})=>new Promise((n,a)=>{s&&console.info("Decoding video from",e);try{let o=Bh.createFile(),l,h=new i({output:f=>{createImageBitmap(f,{resizeQuality:"low"}).then(m=>{t(m),f.close(),h.decodeQueueSize<=0&&setTimeout(()=>{h.state!=="closed"&&(h.close(),n())},500)})},error:f=>{console.error(f),a(f)}});o.onReady=f=>{if(f&&f.videoTracks&&f.videoTracks[0]){[{codec:l}]=f.videoTracks,s&&console.info("Video with codec:",l);let m=o.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC,u=Ac(m);h.configure({codec:l,description:u}),o.setExtractionOptions(f.videoTracks[0].id),o.start()}else a(new Error("URL provided is not a valid mp4 video file."))},o.onSamples=(f,m,u)=>{for(let d=0;d<u.length;d+=1){let g=u[d],p=g.is_sync?"key":"delta",x=new r({type:p,timestamp:g.cts,duration:g.duration,data:g.data});h.decode(x)}},fetch(e).then(f=>{let m=f.body.getReader(),u=0;function d({done:g,value:p}){if(g)return o.flush(),null;let x=p.buffer;return x.fileStart=u,u+=x.byteLength,o.appendBuffer(x),m.read().then(d)}return m.read().then(d)})}catch(o){a(o)}}),Rh=(e,t,i)=>typeof VideoDecoder=="function"&&typeof EncodedVideoChunk=="function"?(i&&console.info("WebCodecs is natively supported, using native version..."),Fc(e,t,{VideoDecoder,EncodedVideoChunk,debug:i})):(i&&console.info("WebCodecs is not available in this browser."),Promise.resolve());var Ia=class{constructor({src:t,scrollyVideoContainer:i,cover:r=!0,sticky:s=!0,full:n=!0,trackScroll:a=!0,transitionSpeed:o=8,frameThreshold:l=.1,useWebCodecs:h=!0,debug:f=!1}){if(typeof document!="object"){console.error("ScrollyVideo must be initiated in a DOM context");return}if(!i){console.error("scrollyVideoContainer must be a valid DOM object");return}if(!t){console.error("Must provide valid video src to ScrollyVideo");return}if(i instanceof Element)this.container=i;else if(typeof i=="string"){if(this.container=document.getElementById(i),!this.container)throw new Error("scrollyVideoContainer must be a valid DOM object")}else throw new Error("scrollyVideoContainer must be a valid DOM object");this.src=t,this.transitionSpeed=o,this.frameThreshold=l,this.useWebCodecs=h,this.cover=r,this.sticky=s,this.full=n,this.trackScroll=a,this.debug=f,this.video=document.createElement("video"),this.video.src=t,this.video.preload="auto",this.video.tabIndex=0,this.video.autobuffer=!0,this.video.playsInline=!0,this.video.muted=!0,this.video.pause(),this.container.appendChild(this.video),s&&(this.container.style.display="block",this.container.style.position="sticky",this.container.style.top="0"),n&&(this.container.style.width="100%",this.container.style.height="100vh",this.container.style.overflow="hidden"),r&&this.setCoverStyle(this.video);let m=new zh.default().getEngine();this.isSafari=m.name==="WebKit",f&&this.isSafari&&console.info("Safari browser detected"),this.currentTime=0,this.targetTime=0,this.canvas=null,this.context=null,this.frames=[],this.frameRate=0,this.updateScrollPercentage=u=>{let d=this.container.parentNode.getBoundingClientRect(),g=-d.top/(d.height-window.innerHeight);this.debug&&console.info("ScrollyVideo scrolled to",g),this.setTargetTimePercent(g,u)},this.trackScroll?(window.addEventListener("scroll",()=>this.updateScrollPercentage()),this.video.addEventListener("loadedmetadata",()=>this.updateScrollPercentage(!0),{once:!0})):this.video.addEventListener("loadedmetadata",()=>this.setTargetTimePercent(0,!0),{once:!0}),this.resize=()=>{this.debug&&console.info("ScrollyVideo resizing..."),this.cover&&this.setCoverStyle(this.canvas||this.video),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate))},window.addEventListener("resize",this.resize),this.video.addEventListener("progress",this.resize),this.decodeVideo()}setCoverStyle(t){if(this.cover){t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.minWidth="101%",t.style.minHeight="101%";let{width:i,height:r}=this.container.getBoundingClientRect(),s=t.videoWidth||t.width,n=t.videoHeight||t.height;this.debug&&console.info("Container dimensions:",[i,r]),this.debug&&console.info("Element dimensions:",[s,n]),i/r>s/n?(t.style.width="100%",t.style.height="auto"):(t.style.height="100%",t.style.width="auto")}}decodeVideo(){this.useWebCodecs&&this.src&&Rh(this.src,t=>{this.frames.push(t)},this.debug).catch(()=>{this.debug&&console.error("Error encountered while decoding video"),this.frames=[],this.video.load()}).then(()=>{if(this.frames.length===0){this.debug&&console.error("No frames were received from webCodecs");return}this.frameRate=this.frames.length/this.video.duration,this.debug&&console.info("Received",this.frames.length,"frames"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.video.style.display="none",this.container.appendChild(this.canvas),this.cover&&this.setCoverStyle(this.canvas),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate))})}paintCanvasFrame(t){if(this.canvas){let i=this.frames[t];if(i){this.debug&&console.info("Painting frame",t),this.canvas.width=i.width,this.canvas.height=i.height;let{width:r,height:s}=this.container.getBoundingClientRect();r/s>i.width/i.height?(this.canvas.style.width="100%",this.canvas.style.height="auto"):(this.canvas.style.height="100%",this.canvas.style.width="auto"),this.context.drawImage(i,0,0,i.width,i.height)}}}transitionToTargetTime(t){if(this.debug&&console.info("Transitioning targetTime:",this.targetTime,"currentTime:",this.currentTime),isNaN(this.targetTime)||Math.abs(this.currentTime-this.targetTime)<this.frameThreshold){this.video.pause(),this.transitioning=!1;return}this.targetTime>this.video.duration&&(this.targetTime=this.video.duration),this.targetTime<0&&(this.targetTime=0);let i=this.targetTime-this.currentTime;if(this.canvas)this.currentTime+=i/(256/this.transitionSpeed),t&&(this.currentTime=this.targetTime),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate));else if(t||this.isSafari||this.targetTime-this.currentTime<0)this.video.pause(),this.currentTime+=i/(64/this.transitionSpeed),t&&(this.currentTime=this.targetTime),this.video.currentTime=this.currentTime;else{let r=Math.max(Math.min(i*4,this.transitionSpeed,16),1);this.debug&&console.info("ScrollyVideo playbackRate:",r),isNaN(r)||(this.video.playbackRate=r,this.video.play()),this.currentTime=this.video.currentTime}typeof requestAnimationFrame=="function"&&requestAnimationFrame(()=>this.transitionToTargetTime())}setTargetTimePercent(t,i){this.targetTime=Math.max(Math.min(t,1),0)*(this.frames.length&&this.frameRate?this.frames.length/this.frameRate:this.video.duration),!(!i&&this.transitioning)&&(this.canvas||this.video.play(),this.transitioning=!0,this.transitionToTargetTime(i))}destroy(){this.trackScroll&&window.removeEventListener("scroll",this.updateScrollPercentage),window.removeEventListener("resize",this.resize),this.container&&(this.container.innerHTML="")}},Oh=Ia;var Nh=Dt(is(),1),Mc=30,kc=1,La=999,Uh="has-scroll-video",Vh="is-active",fs=class extends Z{constructor(e){super(e),this.$el=this.el,this.$inner=this.$("inner")[0],this.$videoContainer=this.$("container")[0],this.$keyframes=this.$("keyframe"),this.$videoEl=null,this.onVideoCanPlayBind=this.onVideoCanPlay.bind(this),this.onResizeEndBind=this.onResizeEnd.bind(this),this.videoSrc=this.getData("src"),this.videoDuration=0,this.easing=(0,Nh.default)(.165,.84,.44,1),this.varGridMargin=0,this.varBorderRadius=0,this.progress=0,this.stickyMask={start:0,end:1,progress:0,easedProgress:0,value:0},this.imageMask={start:0,end:1,progress:0,value:0,roundBorders:{start:.8,end:1,progress:0,value:0}},this.videoMask={start:0,end:1,progress:0,value:0},this.video={start:0,end:1,progress:0,currentTime:0,oldCurrentTime:0},this.keyframesData=[]}init(){this.bindEvents(),this.getCssVars(),this.getKeyramesData(),!window.isTouchDevice&&!window.isMobile&&window.innerWidth>La&&this.initScrollVideo()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind)}onResizeEnd(){this.getCssVars(),!window.isTouchDevice&&!window.isMobile&&window.innerWidth>La?this.scrollVideo?(this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})):this.initScrollVideo():this.scrollVideo&&(this.scrollVideo=null,this.resetComputedStyles(),this.$el.classList.remove(Uh))}onVideoCanPlay(){this.videoDuration=this.$videoEl.duration,this.setModuleHeight(),requestAnimationFrame(()=>{this.setProgressRanges()})}onScrollProgress(e){!window.isTouchDevice&&!window.isMobile&&window.innerWidth>La&&(this.progress=e,this.computeProgress())}initScrollVideo(){this.$el.classList.add(Uh),this.scrollVideo=new Oh({src:this.videoSrc,scrollyVideoContainer:this.$videoContainer,sticky:!1,trackScroll:!1}),requestAnimationFrame(()=>{var e;this.$videoEl=this.$videoContainer.querySelector("video"),(e=this.$videoEl)==null||e.addEventListener("canplay",this.onVideoCanPlayBind)})}getCssVars(){let e=getComputedStyle(document.documentElement);this.varGridMargin=e.getPropertyValue("--grid-margin").trim(),this.varBorderRadius=e.getPropertyValue("--border-radius").trim(),this.varGridMargin=Number(this.varGridMargin.slice(0,-2)),this.varBorderRadius=Number(this.varBorderRadius.slice(0,-3))}getKeyramesData(){let e=0;for(;e<this.$keyframes.length;){let t=this.$keyframes[e],i=this.getData("time",t).split(","),r=i[0]!=null?i[0].trim():"0",s=i[1]!=null?i[1].trim():"0";this.keyframesData[e]=[r,s],e++}}setProgressRanges(){let e=window.innerHeight,t=this.$el.getBoundingClientRect().height+e;this.imageMask.end=e/t,this.videoMask.start=this.imageMask.end,this.videoMask.end=this.videoMask.start+e/t,this.video.start=this.videoMask.end,this.video.end=1-e/t,this.stickyMask.start=this.video.end,this.stickyMask.end=1-.25*(e/t)}setModuleHeight(){let e=this.videoDuration*Mc*kc;this.$el.style.setProperty("--video-height",`${e}vh`)}computeProgress(){var e,t;this.imageMask.progress=Pe(0,1,Ve(this.progress,this.imageMask.start,this.imageMask.end,0,1)),this.imageMask.roundBorders.progress=Pe(0,1,Ve(this.imageMask.progress,this.imageMask.roundBorders.start,this.imageMask.roundBorders.end,0,1)),this.imageMask.value=10*(1-this.imageMask.progress),this.imageMask.roundBorders.value=20*(1-this.imageMask.roundBorders.progress),this.$el.style.clipPath=`inset(0 ${this.imageMask.value}% 0 ${this.imageMask.value}% round ${this.imageMask.roundBorders.value}px)`,this.videoMask.progress=Pe(0,1,Ve(this.progress,this.videoMask.start,this.videoMask.end,0,1)),this.videoMask.value=100*(1-this.videoMask.progress),this.$videoContainer.style.clipPath=`inset(${this.videoMask.value}% 0 0 0)`,this.stickyMask.progress=Pe(0,1,Ve(this.progress,this.stickyMask.start,this.stickyMask.end,0,1)),this.stickyMask.easedProgress=this.easing(this.stickyMask.progress),this.$inner.style.clipPath=`inset(0 ${this.stickyMask.easedProgress*this.varGridMargin}px round ${this.stickyMask.easedProgress*this.varBorderRadius}rem)`,this.video.progress=Pe(0,1,Ve(this.progress,this.video.start,this.video.end,0,1)),(t=(e=this.scrollVideo)==null?void 0:e.setTargetTimePercent)==null||t.call(e,this.video.progress),this.video.currentTime=Math.round(this.video.progress*this.videoDuration),this.video.currentTime!=this.video.oldCurrentTime&&(this.setActiveKeyframe(),this.video.oldCurrentTime=this.video.currentTime)}resetComputedStyles(){this.$el.style.clipPath="inset(0)",this.$videoContainer.style.clipPath="inset(0)",this.$inner.style.clipPath="inset(0)"}setActiveKeyframe(){let e=0;for(;e<this.keyframesData.length;){let t=this.keyframesData[e][0],i=this.keyframesData[e][1];this.video.currentTime>=t&&this.video.currentTime<i?this.$keyframes[e].classList.add(Vh):this.$keyframes[e].classList.remove(Vh),e++}}};var us=class extends Z{constructor(e){super(e),this.$el=this.el,this.$inner=this.$("inner")[0],this.$list=this.$("list")[0],this.$innerArea=this.$("innerArea")[0],this.$items=Array.from(this.$("item")),this.$links=Array.from(this.$("link")),this.onResizeEndBind=this.onResizeEnd.bind(this)}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){xi(ei).then(e=>this.onFontsLoaded(e)),window.addEventListener("resizeEnd",this.onResizeEndBind)}unbindEvents(){window.removeEventListener("resizeEnd",this.onResizeEndBind)}onFontsLoaded(e){this.computeMetrics(),requestAnimationFrame(()=>{this.call("onResize",null,"Scroll")})}onResizeEnd(){this.computeMetrics()}onSectionBoundary(e){if(e.way=="enter"){let i=e.target.id,r=this.$links.find(s=>s.getAttribute("href")=="#"+i);this.$links.forEach(s=>{s.classList.remove("is-active")}),r.classList.add("is-active")}}onListBoundary(e){e.way=="enter"?this.$el.classList.add("is-active"):this.$el.classList.remove("is-active")}onSidebarInview(e){this.$el.style.setProperty("--inview-progress",e)}onSectionProgress(e){let{progress:t,id:i}=e;this.$items.find(s=>s.dataset.slug==i).style.setProperty("--section-progress",t)}computeMetrics(){this.listHeight=this.$list.clientHeight,this.delta=this.$innerArea.clientHeight-this.listHeight,this.$el.style.setProperty("--delta",this.delta),this.$el.style.setProperty("--list-height",`${this.listHeight}px`)}};var ds=class extends Z{constructor(e){super(e),this.id=this.getData("id")?this.getData("id"):!1}init(){}destroy(){super.destroy()}onScrollProgress(e){this.id?this.call("onSectionProgress",{progress:e,id:this.id},"Sidebar"):this.call("onSidebarInview",e,"Sidebar")}};var Qe=Dt(is(),1),cs=class extends Z{constructor(e){super(e),this.easings={power1In:(0,Qe.default)(.55,.085,.68,.53),power1Out:(0,Qe.default)(.25,.46,.45,.94),power1InOut:(0,Qe.default)(.455,.03,.515,.955),power2In:(0,Qe.default)(.55,.055,.675,.19),power2Out:(0,Qe.default)(.215,.61,.355,1),power2InOut:(0,Qe.default)(.645,.045,.355,1),power3In:(0,Qe.default)(.895,.03,.685,.22),power3Out:(0,Qe.default)(.165,.84,.44,1),power3InOut:(0,Qe.default)(.77,0,.175,1),power4In:(0,Qe.default)(.755,.05,.855,.06),power4Out:(0,Qe.default)(.23,1,.32,1),power4InOut:(0,Qe.default)(.86,0,.07,1)},this.easingType=this.getData("type")?this.getData("type"):"power2InOut"}init(){}destroy(){super.destroy()}onScrollProgress(e){this.smoothProgress=this.easings[this.easingType](e),this.computeProgress()}computeProgress(){this.el.style.setProperty("--smooth-progress",this.smoothProgress)}};var Gh=Dt($h(),1);var ps=class extends Z{constructor(e){super(e),this.$el=this.el,this.splitType=this.getData("type")?this.getData("type"):"chars"}init(){xi(ei).then(e=>this.onFontsLoaded(e))}destroy(){super.destroy()}onFontsLoaded(e){this.split()}split(){(0,Gh.default)({target:this.$el,by:this.splitType})}};var ms=class extends Z{constructor(e){super(e),this.$video=this.$("video")[0]}init(){this.moduleID=this.el.dataset.moduleVideoInview}destroy(){super.destroy()}onInview(e){let t;if(e.target)t=e.target;else if(e.targetEl)t=e.targetEl;else return;t.dataset.moduleVideoInview===this.moduleID&&(e.way==="enter"?this.play():e.way==="leave"&&this.pause())}play(){this.$video.paused&&this.$video.play()}pause(){this.$video.paused||this.$video.pause()}};var gs=class extends Z{constructor(e){super(e),this.onVideoTimeUpdateBind=this.onVideoTimeUpdate.bind(this),this.updateUIBind=this.updateUI.bind(this),this.onVideoEndedBind=this.onVideoEnded.bind(this),this.$videoType=this.el.dataset.videoType,this.$progress=this.$("progress")[0],this.$range=this.$("range")[0],this.$video=this.$("video")[0],this.$cta=this.$("cta")[0],this.$currentTime=this.$("currentTime")[0],this.events={click:{play:"onPlayClick",video:"onPlayClick"},input:{range:"onRangeChange"}},this.currentTime={oldMinutes:0,oldSeconds:0,minutes:0,seconds:0},this.eventsRequiringUIUpdate="play playing pause ended".split(" ")}init(){this.bindEvents()}destroy(){super.destroy(),this.unbindEvents()}bindEvents(){this.$video.addEventListener("timeupdate",this.onVideoTimeUpdateBind),this.$video.addEventListener("ended",this.onVideoEndedBind);for(let e of this.eventsRequiringUIUpdate)this.$video.addEventListener(e,this.updateUIBind);this.videoPlayerEnded=new CustomEvent("videoPlayerEnded",{detail:{el:this.el}})}unbindEvents(){this.$video.removeEventListener("timeupdate",this.onVideoTimeUpdateBind),this.$video.removeEventListener("ended",this.onVideoEndedBind);for(let e of this.eventsRequiringUIUpdate)this.$video.removeEventListener(e,this.updateUIBind)}onPlayClick(){this.$video.paused?this.play():this.pause()}onVideoTimeUpdate(){this.updateProgressBar(),this.currentTime.minutes=Math.round(this.$video.currentTime/60),this.currentTime.seconds=Math.round(this.$video.currentTime%60),(this.currentTime.minutes!=this.currentTime.oldMinutes||this.currentTime.seconds!=this.currentTime.oldSeconds)&&this.updateCurrentTime(this.currentTime.minutes,this.currentTime.seconds)}onVideoEnded(){window.dispatchEvent(this.videoPlayerEnded)}onRangeChange(){this.$video.currentTime=this.$range.value*this.$video.duration}play(e){e&&e!=this.el.dataset.moduleVideoPlayer||(this.$video.play(),this.updateUI())}pause(e){e&&e!=this.el.dataset.moduleVideoPlayer||(this.$video.pause(),this.updateUI())}progressiveMute(e){if(e&&e!=this.el.dataset.moduleVideoPlayer)return;let t=1,i=setInterval(()=>{t>0?(t-=.05,this.$video.volume=t.toFixed(2)):(clearInterval(i),this.$video.muted=!0)},20)}progressiveUnmute(e){if(e&&e!=this.el.dataset.moduleVideoPlayer)return;let t=0;this.$video.muted=!1,this.$video.volume=0;let i=setInterval(()=>{t<1?(t+=.05,this.$video.volume=t.toFixed(2)):clearInterval(i)},50)}updateProgressBar(){this.$video.duration?this.$range.value=this.$video.currentTime/this.$video.duration:this.$range.value=0,this.$progress.style.setProperty("--progress",this.$range.value)}updateCurrentTime(e,t){let i={minutes:this._pad(e,2),seconds:this._pad(t,2)};this.$currentTime.innerHTML=`${i.minutes}:${i.seconds}`}updateUI(){this.updateProgressBar(),this.el.classList.toggle("is-playing",!this.$video.paused),this.el.classList.toggle("is-muted",this.$video.muted),this.el.classList.toggle("is-fullscreen",document.fullscreenElement==this.el)}reset(e){e&&e!=this.el.dataset.moduleVideoPlayer||(this.$video.currentTime=0)}_pad(e,t){return String(e).padStart(t,"0")}};function Oa(e,t,i){let r;return function(){let s=this,n=arguments,a=function(){r=null,i||e.apply(s,n)},o=i&&!r;clearTimeout(r),r=setTimeout(a,t),o&&e.apply(s,n)}}var Wh=Dt(Hh(),1);function Ua(){let e=document.getElementById("loadingLogo"),t=Wh.default.loadAnimation({container:e,renderer:"svg",loop:!1,autoplay:!1,path:e.dataset.path});t.addEventListener("DOMLoaded",i),t.addEventListener("complete",r);function i(){t.play()}function r(){te.classList.add("is-first-loaded"),te.classList.add("is-ready")}}var ei=[{family:"F37Bolton",style:"normal",weight:"normal"},{family:"F37Bolton",style:"normal",weight:"bold"},{family:"SuisseIntlMono",style:"normal",weight:"normal"},{family:"SuisseIntlMono",style:"normal",weight:"bold"},{family:"SohneSchmal",style:"normal",weight:"normal"}],Yh=new Xa({modules:za});function qh(){Ic(),jh(),document.documentElement.style.setProperty("--vh-initial",`${window.innerHeight*.01}px`),oo(),Yh.init(Yh),te.classList.add("is-loaded"),te.classList.remove("is-loading"),Xl&&Zl(ei,Ei.IS_DEV).then(e=>{te.classList.add("fonts-loaded"),Ei.IS_DEV&&(console.group("Eager fonts loaded!",e.length,"/",document.fonts.size),console.group("State of eager fonts:"),e.forEach(t=>console.log(t.family,t.style,t.weight,t.status)),console.groupEnd(),console.group("State of all fonts:"),document.fonts.forEach(t=>console.log(t.family,t.style,t.weight,t.status)),console.groupEnd())})}function Ic(){let e=new CustomEvent("resizeEnd");window.addEventListener("resize",Oa(()=>{window.dispatchEvent(e)},200,!1)),window.addEventListener("resize",jh),window.addEventListener("orientationchange",Oa(()=>{Lc()},200,!1))}function Lc(){document.documentElement.style.setProperty("--vh-initial",`${window.innerHeight*.01}px`)}function jh(){let e=te.offsetWidth*.01,t=window.innerHeight*.01;document.documentElement.style.setProperty("--vw",`${e}px`),document.documentElement.style.setProperty("--vh",`${t}px`)}window.onload=e=>{let t=document.getElementById("main-css");Ua(),t?t.isLoaded?qh():t.addEventListener("load",i=>{qh()}):console.warn('The "main-css" stylesheet not found')};})();
/*! Bundled license information:

svg4everybody/dist/svg4everybody.js:
  (*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody *)

lottie-web/build/player/lottie.js:
  (*!
   Transformation Matrix v2.0
   (c) Epistemex 2014-2015
   www.epistemex.com
   By Ken Fyrstenberg
   Contributions by leeoniya.
   License: MIT, header required.
   *)

gsap/gsap-core.js:
  (*!
   * GSAP 3.12.2
   * https://greensock.com
   *
   * @license Copyright 2008-2023, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/CSSPlugin.js:
  (*!
   * CSSPlugin 3.12.2
   * https://greensock.com
   *
   * Copyright 2008-2023, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/utils/strings.js:
  (*!
   * strings: 3.12.2
   * https://greensock.com
   *
   * Copyright 2008-2023, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

gsap/SplitText.js:
  (*!
   * SplitText: 3.12.2
   * https://greensock.com
   *
   * @license Copyright 2008-2023, GreenSock. All rights reserved.
   * Subject to the terms at https://greensock.com/standard-license or for
   * Club GreenSock members, the agreement issued with that membership.
   * @author: Jack Doyle, jack@greensock.com
  *)

tabbable/dist/index.esm.js:
  (*!
  * tabbable 6.2.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.1
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=app.js.map
